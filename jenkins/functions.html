<!DOCTYPE html><html lang="en">
<head>
<title>12 Functions‣ Modelica® Language Specification version 3.6-dev</title>
<!--Generated on Sat May  1 12:45:50 2021 by LaTeXML (version 0.8.5) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on May 1, 2021.-->

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="LaTeXML.css" type="text/css">
<link rel="stylesheet" href="ltx-report.css" type="text/css">
<link rel="stylesheet" href="ltx-listings.css" type="text/css">
<link rel="stylesheet" href="css/MLS.css" type="text/css">
<link rel="stylesheet" href="css/MLS-navbar-left.css" type="text/css">
<script src="LaTeXML-maybeMathjax.js" type="text/javascript"></script>
<link rel="up" href="MLS.html" title="Modelica® Language Specification version 3.6-dev">
<link rel="start" href="MLS.html" title="Modelica® Language Specification version 3.6-dev">
<link rel="prev" href="statements-and-algorithm-sections.html" title="Chapter 11 Statements and Algorithm Sections ‣ Modelica® Language Specification version 3.6-dev">
<link rel="next" href="packages.html" title="Chapter 13 Packages ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="preface.html" title="Preface ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="introduction1.html" title="Chapter 1 Introduction ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="lexical-structure.html" title="Chapter 2 Lexical Structure ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="operators-and-expressions.html" title="Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="class-predefined-types-and-declarations.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="scoping-name-lookup-and-flattening.html" title="Chapter 5 Scoping, Name Lookup, and Flattening ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="interface-or-type-relationships.html" title="Chapter 6 Interface or Type Relationships ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="inheritance-modification-and-redeclaration.html" title="Chapter 7 Inheritance, Modification, and Redeclaration ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="equations.html" title="Chapter 8 Equations ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="connectors-and-connections.html" title="Chapter 9 Connectors and Connections ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="arrays.html" title="Chapter 10 Arrays ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="statements-and-algorithm-sections.html" title="Chapter 11 Statements and Algorithm Sections ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="packages.html" title="Chapter 13 Packages ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="overloaded-operators.html" title="Chapter 14 Overloaded Operators ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="stream-connectors.html" title="Chapter 15 Stream Connectors ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="synchronous-language-elements.html" title="Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="state-machines.html" title="Chapter 17 State Machines ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="annotations.html" title="Chapter 18 Annotations ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="unit-expressions.html" title="Chapter 19 Unit Expressions ‣ Modelica® Language Specification version 3.6-dev">
<link rel="chapter" href="the-modelica-standard-library.html" title="Chapter 20 The Modelica Standard Library ‣ Modelica® Language Specification version 3.6-dev">
<link rel="appendix" href="modelica-concrete-syntax.html" title="Appendix A Modelica Concrete Syntax ‣ Modelica® Language Specification version 3.6-dev">
<link rel="appendix" href="modelica-dae-representation.html" title="Appendix B Modelica DAE Representation ‣ Modelica® Language Specification version 3.6-dev">
<link rel="appendix" href="derivation-of-stream-equations.html" title="Appendix C Derivation of Stream Equations ‣ Modelica® Language Specification version 3.6-dev">
<link rel="appendix" href="modelica-revision-history.html" title="Appendix D Modelica Revision History ‣ Modelica® Language Specification version 3.6-dev">
<link rel="bibliography" href="bib.html" title="References ‣ Modelica® Language Specification version 3.6-dev">
<link rel="index" href="idx.html" title="Index ‣ Modelica® Language Specification version 3.6-dev">
<meta name="keywords" lang="en" content="ExternalObject, Include, IncludeDirectory, Library, LibraryDirectory, ModelicaAllocateString, ModelicaAllocateStringWithErrorReturn, ModelicaDuplicateString, ModelicaDuplicateStringWithErrorReturn, ModelicaError, ModelicaFormatError, ModelicaFormatMessage, ModelicaFormatWarning, ModelicaMessage, ModelicaVFormatError, ModelicaVFormatMessage, ModelicaVFormatWarning, ModelicaWarning, SourceDirectory, binding equation, declaration assignment (deprecated), derivative, external, function, impure, in function, input, inverse, output, pure, return">
</head>
<body>
<nav class="ltx_page_navbar"><a href="MLS.html" title="Modelica® Language Specification version 3.6-dev" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">Modelica<sup class="ltx_sup">®</sup> Language Specification version 3.6-dev</span></a>
<div class="ltx_TOC">
<ul class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="preface.html" title="Preface ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title">Preface</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="introduction1.html" title="Chapter 1 Introduction ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="lexical-structure.html" title="Chapter 2 Lexical Structure ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Lexical Structure</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="operators-and-expressions.html" title="Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Operators and Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="class-predefined-types-and-declarations.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Classes, Predefined Types, and Declarations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="scoping-name-lookup-and-flattening.html" title="Chapter 5 Scoping, Name Lookup, and Flattening ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Scoping, Name Lookup, and Flattening</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="interface-or-type-relationships.html" title="Chapter 6 Interface or Type Relationships ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Interface or Type Relationships</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="inheritance-modification-and-redeclaration.html" title="Chapter 7 Inheritance, Modification, and Redeclaration ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Inheritance, Modification, and Redeclaration</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="equations.html" title="Chapter 8 Equations ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="connectors-and-connections.html" title="Chapter 9 Connectors and Connections ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Connectors and Connections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="arrays.html" title="Chapter 10 Arrays ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>Arrays</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="statements-and-algorithm-sections.html" title="Chapter 11 Statements and Algorithm Sections ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Statements and Algorithm Sections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter ltx_ref_self">
<span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Functions</span></span>
<ul class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#function-declaration" title="12.1 Function Declaration ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.1 </span>Function Declaration</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#ordering-of-formal-parameters" title="12.1.1 Ordering of Formal Parameters ‣ 12.1 Function Declaration ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.1.1 </span>Ordering of Formal Parameters</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#function-return-statements" title="12.1.2 Function return-statements ‣ 12.1 Function Declaration ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.1.2 </span>Function return-statements</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#inheritance-of-functions" title="12.1.3 Inheritance of Functions ‣ 12.1 Function Declaration ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.1.3 </span>Inheritance of Functions</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#function-as-a-specialized-class" title="12.2 Function as a Specialized Class ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.2 </span>Function as a Specialized Class</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#pure-modelica-functions" title="12.3 Pure Modelica Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.3 </span>Pure Modelica Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#function-call" title="12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.4 </span>Function Call</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#positional-or-named-input-arguments-of-functions" title="12.4.1 Positional or Named Input Arguments of Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.4.1 </span>Positional or Named Input Arguments of Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#functional-input-arguments-to-functions" title="12.4.2 Functional Input Arguments to Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.4.2 </span>Functional Input Arguments to Functions</span></a>
<ul class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#function-partial-application" title="12.4.2.1 Function Partial Application ‣ 12.4.2 Functional Input Arguments to Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.4.2.1 </span>Function Partial Application</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#output-formal-parameters-of-functions" title="12.4.3 Output Formal Parameters of Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.4.3 </span>Output Formal Parameters of Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#initialization-and-binding-equations-of-components-in-functions" title="12.4.4 Initialization and Binding Equations of Components in Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.4.4 </span>Initialization and Binding Equations of Components in Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#flexible-array-sizes-and-resizing-of-arrays-in-functions" title="12.4.5 Flexible Array Sizes and Resizing of Arrays in Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.4.5 </span>Flexible Array Sizes and Resizing of Arrays in Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#scalar-functions-applied-to-array-arguments" title="12.4.6 Scalar Functions Applied to Array Arguments ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.4.6 </span>Scalar Functions Applied to Array Arguments</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#empty-function-calls" title="12.4.7 Empty Function Calls ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.4.7 </span>Empty Function Calls</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#built-in-functions" title="12.5 Built-in Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.5 </span>Built-in Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#record-constructor-functions" title="12.6 Record Constructor Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.6 </span>Record Constructor Functions</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#casting-to-record" title="12.6.1 Casting to Record ‣ 12.6 Record Constructor Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.6.1 </span>Casting to Record</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#declaring-derivatives-of-functions" title="12.7 Declaring Derivatives of Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.7 </span>Declaring Derivatives of Functions</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#using-the-derivative-annotation" title="12.7.1 Using the Derivative Annotation ‣ 12.7 Declaring Derivatives of Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.7.1 </span>Using the Derivative Annotation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#partial-derivatives-of-functions" title="12.7.2 Partial Derivatives of Functions ‣ 12.7 Declaring Derivatives of Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.7.2 </span>Partial Derivatives of Functions</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#declaring-inverses-of-functions" title="12.8 Declaring Inverses of Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.8 </span>Declaring Inverses of Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#external-function-interface" title="12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9 </span>External Function Interface</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#argument-type-mapping" title="12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.1 </span>Argument type Mapping</span></a>
<ul class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#simple-types" title="12.9.1.1 Simple Types ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.1.1 </span>Simple Types</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#arrays-1" title="12.9.1.2 Arrays ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.1.2 </span>Arrays</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#records" title="12.9.1.3 Records ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.1.3 </span>Records</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#return-type-mapping" title="12.9.2 Return Type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.2 </span>Return Type Mapping</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#aliasing" title="12.9.3 Aliasing ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.3 </span>Aliasing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#annotations-for-external-libraries-and-include-files" title="12.9.4 Annotations for External Libraries and Include Files ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.4 </span>Annotations for External Libraries and Include Files</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#examples1" title="12.9.5 Examples ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.5 </span>Examples</span></a>
<ul class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#input-parameters-function-value" title="12.9.5.1 Input Parameters, Function Value ‣ 12.9.5 Examples ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.5.1 </span>Input Parameters, Function Value</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#arbitrary-placement-of-output-parameters-no-external-function-value" title="12.9.5.2 Arbitrary Placement of Output Parameters, No External Function Value ‣ 12.9.5 Examples ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.5.2 </span>Arbitrary Placement of Output Parameters, No External Function Value</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#external-function-with-both-function-value-and-output-variable" title="12.9.5.3 External Function with Both Function Value and Output Variable ‣ 12.9.5 Examples ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.5.3 </span>External Function with Both Function Value and Output Variable</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#utility-functions" title="12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.6 </span>Utility Functions</span></a>
<ul class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#utility-functions-for-reporting-errors" title="12.9.6.1 Utility Functions for Reporting Errors ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.6.1 </span>Utility Functions for Reporting Errors</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#utility-functions-for-allocating-strings" title="12.9.6.2 Utility Functions for Allocating Strings ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.6.2 </span>Utility Functions for Allocating Strings</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#external-objects" title="12.9.7 External Objects ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12.9.7 </span>External Objects</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="packages.html" title="Chapter 13 Packages ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Packages</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="overloaded-operators.html" title="Chapter 14 Overloaded Operators ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Overloaded Operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="stream-connectors.html" title="Chapter 15 Stream Connectors ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Stream Connectors</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="synchronous-language-elements.html" title="Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Synchronous Language Elements</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="state-machines.html" title="Chapter 17 State Machines ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>State Machines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="annotations.html" title="Chapter 18 Annotations ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Annotations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="unit-expressions.html" title="Chapter 19 Unit Expressions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Unit Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="the-modelica-standard-library.html" title="Chapter 20 The Modelica Standard Library ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>The Modelica Standard Library</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-concrete-syntax.html" title="Appendix A Modelica Concrete Syntax ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Modelica Concrete Syntax</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-dae-representation.html" title="Appendix B Modelica DAE Representation ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Modelica DAE Representation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="derivation-of-stream-equations.html" title="Appendix C Derivation of Stream Equations ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Derivation of Stream Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-revision-history.html" title="Appendix D Modelica Revision History ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Modelica Revision History</span></a></li>
<li class="ltx_tocentry ltx_tocentry_bibliography"><a href="bib.html" title="References ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title">References</span></a></li>
<li class="ltx_tocentry ltx_tocentry_index"><a href="idx.html" title="Index ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title">Index</span></a></li>
</ul>
</div>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div>
<a href="MLS.html" title="Modelica® Language Specification version 3.6-dev" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title">Modelica<sup class="ltx_sup">®</sup> Language Specification version 3.6-dev</span></a><a href="statements-and-algorithm-sections.html" title="Chapter 11 Statements and Algorithm Sections ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Statements and Algorithm Sections</span></a><a href="packages.html" title="Chapter 13 Packages ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Packages</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_chapter" lang="en">
<h1 class="ltx_title ltx_title_chapter">
<span class="ltx_tag ltx_tag_chapter">Chapter 12 </span>Functions</h1>
<div class="ltx_dates">(May 1, 2021)</div>

<div id="p1" class="ltx_para">
<p class="ltx_p">This chapter describes the Modelica function construct.</p>
</div>
<section id="function-declaration" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">12.1 </span>Function Declaration</h2>

<div id="S1.p1" class="ltx_para">
<p class="ltx_p">A Modelica <em class="ltx_emph ltx_font_italic">function</em> is a specialized class (<a href="#function-as-a-specialized-class" title="12.2 Function as a Specialized Class ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.2</span></a>) using the keyword <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">function</span>.
The body of a Modelica function is an algorithm section that contains procedural algorithmic code to be executed when the function is called, or alternatively an external function specifier (<a href="#external-function-interface" title="12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9</span></a>).
Formal parameters are specified using the <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">input</span> keyword, whereas results are denoted using the <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">output</span> keyword.
This makes the syntax of function definitions quite close to Modelica class definitions, but using the keyword <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">function</span> instead of <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">class</span>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The structure of a typical function declaration is sketched by
the following schematic function example:
</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gJFxtYXRoaXR7ZnVuY3Rpb25uYW1lfSQKICBpbnB1dCAgVHlwZUkxIGluMTsKICBpbnB1dCAgVHlwZUkyIGluMjsKICBpbnB1dCAgVHlwZUkzIGluMyA9ICRcbWF0aGl0e2RlZmF1bHRFeHByfV97MX0kICJDb21tZW50IiBhbm5vdGF0aW9uKCRcbGRvdHMkKTsKICAkXGxkb3RzJAogIG91dHB1dCBUeXBlTzEgb3V0MTsKICBvdXRwdXQgVHlwZU8yIG91dDIgPSAkXG1hdGhpdHtkZWZhdWx0RXhwcn1fezJ9JDsKICAkXGxkb3RzJApwcm90ZWN0ZWQKICAkXGxhbmdsZSQkXG1ib3h7XGVtcGh7bG9jYWwgdmFyaWFibGVzfX0kJFxyYW5nbGUkCiAgJFxsZG90cyQKYWxnb3JpdGhtCiAgJFxsYW5nbGUkJFxtYm94e1xlbXBoe3N0YXRlbWVudHN9fSQkXHJhbmdsZSQKICAkXGxkb3RzJAplbmQgJFxtYXRoaXR7ZnVuY3Rpb25uYW1lfSQ7">⬇</a></div>
<div id="lstnumberx2518" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2518.m1" class="ltx_Math" alttext="\mathit{functionname}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑢𝑛𝑐𝑡𝑖𝑜𝑛𝑛𝑎𝑚𝑒</mi></math>
</div>
<div id="lstnumberx2519" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">TypeI1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">in1</span>;
</div>
<div id="lstnumberx2520" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">TypeI2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">in2</span>;
</div>
<div id="lstnumberx2521" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">TypeI3</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">in3</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2521.m1" class="ltx_Math" alttext="\mathit{defaultExpr}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑒𝑓𝑎𝑢𝑙𝑡𝐸𝑥𝑝𝑟</mi><mn mathbackground="#FFFFFF">1</mn></msub></math><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Comment"</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<math id="lstnumberx2521.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>);
</div>
<div id="lstnumberx2522" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2522.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2523" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">TypeO1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">out1</span>;
</div>
<div id="lstnumberx2524" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">TypeO2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">out2</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2524.m1" class="ltx_Math" alttext="\mathit{defaultExpr}_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑒𝑓𝑎𝑢𝑙𝑡𝐸𝑥𝑝𝑟</mi><mn mathbackground="#FFFFFF">2</mn></msub></math>;
</div>
<div id="lstnumberx2525" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2525.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2526" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">protected</span>
</div>
<div id="lstnumberx2527" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2527.m1" class="ltx_Math" alttext="\langle" display="inline"><mo mathbackground="#FFFFFF" stretchy="false">⟨</mo></math><span class="ltx_text ltx_markedasmath"><em class="ltx_emph ltx_font_italic">local variables</em></span><math id="lstnumberx2527.m3" class="ltx_Math" alttext="\rangle" display="inline"><mo mathbackground="#FFFFFF" stretchy="false">⟩</mo></math>
</div>
<div id="lstnumberx2528" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2528.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2529" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2530" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2530.m1" class="ltx_Math" alttext="\langle" display="inline"><mo mathbackground="#FFFFFF" stretchy="false">⟨</mo></math><span class="ltx_text ltx_markedasmath"><em class="ltx_emph ltx_font_italic">statements</em></span><math id="lstnumberx2530.m3" class="ltx_Math" alttext="\rangle" display="inline"><mo mathbackground="#FFFFFF" stretchy="false">⟩</mo></math>
</div>
<div id="lstnumberx2531" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2531.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2532" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2532.m1" class="ltx_Math" alttext="\mathit{functionname}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑢𝑛𝑐𝑡𝑖𝑜𝑛𝑛𝑎𝑚𝑒</mi></math>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S1.p3" class="ltx_para">
<p class="ltx_p">Optional explicit default values can be associated with any input or output formal parameter through binding equations. Comment strings
and annotations can be given for any formal parameter declaration, as usual in Modelica declarations.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Explicit default values are shown for the third input parameter and the second output parameter in the example above.</span>]</p>
</div>
<div id="S1.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">All internal parts of a function are optional; i.e., the following is also a legal function:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gJFxtYXRoaXR7ZnVuY3Rpb25uYW1lfSQKZW5kICRcbWF0aGl0e2Z1bmN0aW9ubmFtZX0kOw==">⬇</a></div>
<div id="lstnumberx2533" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2533.m1" class="ltx_Math" alttext="\mathit{functionname}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑢𝑛𝑐𝑡𝑖𝑜𝑛𝑛𝑎𝑚𝑒</mi></math>
</div>
<div id="lstnumberx2534" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2534.m1" class="ltx_Math" alttext="\mathit{functionname}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑢𝑛𝑐𝑡𝑖𝑜𝑛𝑛𝑎𝑚𝑒</mi></math>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
<section id="ordering-of-formal-parameters" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.1.1 </span>Ordering of Formal Parameters</h3>

<div id="S1.SS1.p1" class="ltx_para">
<p class="ltx_p">The relative ordering between input formal parameter declarations is
significant since that determines the matching between actual arguments
and formal parameters at function calls with positional parameter
passing. Likewise, the relative ordering between the declarations of the
outputs is significant since that determines the matching with receiving
variables at function calls of functions with multiple results. However,
the declarations of the inputs and outputs can be intermixed as long as
these internal orderings are preserved.</p>
</div>
<div id="S1.SS1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Mixing declarations in this way is not recommended, however, since it makes the code hard to read.</span>]</p>
</div>
<div id="S1.SS1.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gJFxtYXRoaXR7ZnVuY3Rpb25uYW1lfSQKICBvdXRwdXQgVHlwZU8xIG91dDE7IC8vIEludGVybWl4ZWQgZGVjbGFyYXRpb25zIG9mIGlucHV0cyBhbmQgb3V0cHV0cwogIGlucHV0IFR5cGVJMSBpbjE7IC8vIG5vdCByZWNvbW1lbmRlZCBzaW5jZSBjb2RlIGJlY29tZXMgaGFyZCB0byByZWFkCiAgaW5wdXQgVHlwZUkyIGluMjsKICAkXGxkb3RzJAogIG91dHB1dCBUeXBlTzIgb3V0MjsKICBpbnB1dCBUeXBlSTMgaW4zOwogICRcbGRvdHMkCmVuZCAkXG1hdGhpdHtmdW5jdGlvbm5hbWV9JDs=">⬇</a></div>
<div id="lstnumberx2535" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2535.m1" class="ltx_Math" alttext="\mathit{functionname}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑢𝑛𝑐𝑡𝑖𝑜𝑛𝑛𝑎𝑚𝑒</mi></math>
</div>
<div id="lstnumberx2536" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">TypeO1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">out1</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Intermixed<span class="ltx_text ltx_lst_space"> </span>declarations<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>inputs<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>outputs</span>
</div>
<div id="lstnumberx2537" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">TypeI1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">in1</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>not<span class="ltx_text ltx_lst_space"> </span>recommended<span class="ltx_text ltx_lst_space"> </span>since<span class="ltx_text ltx_lst_space"> </span>code<span class="ltx_text ltx_lst_space"> </span>becomes<span class="ltx_text ltx_lst_space"> </span>hard<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>read</span>
</div>
<div id="lstnumberx2538" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">TypeI2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">in2</span>;
</div>
<div id="lstnumberx2539" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2539.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2540" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">TypeO2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">out2</span>;
</div>
<div id="lstnumberx2541" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">TypeI3</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">in3</span>;
</div>
<div id="lstnumberx2542" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2542.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2543" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2543.m1" class="ltx_Math" alttext="\mathit{functionname}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑢𝑛𝑐𝑡𝑖𝑜𝑛𝑛𝑎𝑚𝑒</mi></math>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="function-return-statements" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.1.2 </span>Function return-statements</h3>

<div id="S1.SS2.p1" class="ltx_para">
<p class="ltx_p">The return-statement terminates the current function call, see <a href="#function-call" title="12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4</span></a>.
It can only be used in an algorithm section of a function.
It has the following form:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cmV0dXJuOw==">⬇</a></div>
<div id="lstnumberx2544" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">return</span>;
</div>
</div>
</div>
<div id="S1.SS2.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
(Note that this could alternatively use <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">break</span>:)</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZmluZFZhbHVlICJSZXR1cm5zIHBvc2l0aW9uIG9mIHZhbCBvciAwIGlmIG5vdCBmb3VuZCIKICBpbnB1dCBJbnRlZ2VyIHhbOl07CiAgaW5wdXQgSW50ZWdlciB2YWw7CiAgb3V0cHV0IEludGVnZXIgaW5kZXg7CmFsZ29yaXRobQogIGZvciBpIGluIDE6c2l6ZSh4LDEpIGxvb3AKICAgIGlmIHhbaV0gPT0gdmFsIHRoZW4KICAgICAgaW5kZXggOj0gaTsKICAgICAgcmV0dXJuOwogICAgZW5kIGlmOwogIGVuZCBmb3I7CiAgaW5kZXggOj0gMDsKICByZXR1cm47CmVuZCBmaW5kVmFsdWU7">⬇</a></div>
<div id="lstnumberx2545" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">findValue</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Returns<span class="ltx_text ltx_lst_space"> </span>position<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>val<span class="ltx_text ltx_lst_space"> </span>or<span class="ltx_text ltx_lst_space"> </span>0<span class="ltx_text ltx_lst_space"> </span>if<span class="ltx_text ltx_lst_space"> </span>not<span class="ltx_text ltx_lst_space"> </span>found"</span>
</div>
<div id="lstnumberx2546" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>[:];
</div>
<div id="lstnumberx2547" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">val</span>;
</div>
<div id="lstnumberx2548" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">index</span>;
</div>
<div id="lstnumberx2549" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2550" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space"> </span>1:<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">x</span>,1)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">loop</span>
</div>
<div id="lstnumberx2551" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>[<span class="ltx_text ltx_lst_identifier">i</span>]<span class="ltx_text ltx_lst_space"> </span>==<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">val</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx2552" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">index</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i</span>;
</div>
<div id="lstnumberx2553" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">return</span>;
</div>
<div id="lstnumberx2554" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">if</span>;
</div>
<div id="lstnumberx2555" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">for</span>;
</div>
<div id="lstnumberx2556" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">index</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span>0;
</div>
<div id="lstnumberx2557" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">return</span>;
</div>
<div id="lstnumberx2558" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">findValue</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="inheritance-of-functions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.1.3 </span>Inheritance of Functions</h3>

<div id="S1.SS3.p1" class="ltx_para">
<p class="ltx_p">It is allowed for a function to inherit and/or modify another function
following the usual rules for inheritance of classes (<a href="inheritance-modification-and-redeclaration.html" title="Chapter 7 Inheritance, Modification, and Redeclaration ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">chapter</span> <span class="ltx_text ltx_ref_tag">7</span></a>).</p>
</div>
<div id="S1.SS3.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">For example, it is possible to modify and extend a <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">function</span> class to add default values for input variables.</span>]</p>
</div>
</section>
</section>
<section id="function-as-a-specialized-class" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">12.2 </span>Function as a Specialized Class</h2>

<div id="S2.p1" class="ltx_para">
<p class="ltx_p">The function concept in Modelica is a specialized class (<a href="class-predefined-types-and-declarations.html#specialized-classes" title="4.6 Specialized Classes ‣ Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">4.6</span></a>).</p>
</div>
<div id="S2.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The syntax and semantics of a function have many similarities to those of the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">block</span> specialized class. A function has many of the properties
of a general class, e.g. being able to inherit other functions, or to redeclare or modify elements of a function declaration.</span>]</p>
</div>
<div id="S2.p3" class="ltx_para">
<p class="ltx_p">Modelica functions have the following restrictions compared to a general
Modelica <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">class</span>:</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Only input and output formal parameters are allowed in the function’s public variable section.</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Input formal parameters are read-only after being bound to the actual
arguments or default values, i.e., they shall not be assigned values in
the body of the function.</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p class="ltx_p">A function shall <em class="ltx_emph ltx_font_italic">not be used in connections</em>, shall not have
<em class="ltx_emph ltx_font_italic">equations</em>, shall not have <em class="ltx_emph ltx_font_italic">initial algorithms</em>.</p>
</div>
</li>
<li id="S2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i4.p1" class="ltx_para">
<p class="ltx_p">A function can have at most <em class="ltx_emph ltx_font_italic">one algorithm</em> section or <em class="ltx_emph ltx_font_italic">one
external function interface</em> (not both), which, if present, is the
body of the function.</p>
</div>
</li>
<li id="S2.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i5.p1" class="ltx_para">
<p class="ltx_p">A function may only contain components of the specialized classes <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">type</span>, <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">record</span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">operator</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span></span>, and <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">function</span>; and it must not contain, e.g., <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">model</span>, <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">block</span>, <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">operator</span> or <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">connector</span> components.</p>
</div>
</li>
<li id="S2.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i6.p1" class="ltx_para">
<p class="ltx_p">A function may not contain components of type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">Clock</span>.</p>
</div>
</li>
<li id="S2.I1.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i7.p1" class="ltx_para">
<p class="ltx_p">The elements of a function shall not have prefixes <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">inner</span>, or <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">outer</span>.
</p>
</div>
</li>
<li id="S2.I1.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i8.p1" class="ltx_para">
<p class="ltx_p">A function may have zero or one external function interface, which, if
present, is the external definition of the function.</p>
</div>
</li>
<li id="S2.I1.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i9.p1" class="ltx_para">
<p class="ltx_p">For a function to be called in a simulation model, the function shall
not be partial, and the output variables must be assigned inside the
function either in binding equations or in an algorithm section,
or have an external function interface as its body, or be defined as a
function partial derivative. The output variables of a function should
be computed.</p>
</div>
<div id="S2.I1.i9.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">It is a quality of implementation how much analysis a tool performs in order to determine if the output variables are computed.</span>]</p>
</div>
<div id="S2.I1.i9.p3" class="ltx_para">
<p class="ltx_p">A function <em class="ltx_emph ltx_font_italic">cannot contain</em> calls to the Modelica <em class="ltx_emph ltx_font_italic">built-in operators</em> <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">der</span>, <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">initial</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">terminal</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">sample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">pre</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">edge</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">change</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">reinit</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">delay</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">cardinality</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">inStream</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">actualStream</span>, to the operators of the built-in package <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">Connections</span>, to the operators defined in <a href="synchronous-language-elements.html" title="Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">chapter</span> <span class="ltx_text ltx_ref_tag">16</span></a> and <a href="state-machines.html" title="Chapter 17 State Machines ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">chapter</span> <span class="ltx_text ltx_ref_tag">17</span></a>, and is not allowed to contain when-statements.</p>
</div>
</li>
<li id="S2.I1.i10" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i10.p1" class="ltx_para">
<p class="ltx_p">The dimension <em class="ltx_emph ltx_font_italic">sizes</em> not declared with colon (<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">:</span>) of each array result or array local variable (i.e., a non-input component) of a function must be either given by the input formal parameters, or given by constant or parameter expressions, or by expressions containing combinations of those (<a href="#initialization-and-binding-equations-of-components-in-functions" title="12.4.4 Initialization and Binding Equations of Components in Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.4</span></a>).</p>
</div>
</li>
<li id="S2.I1.i11" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i11.p1" class="ltx_para">
<p class="ltx_p">For initialization of local variables of a function see <a href="#initialization-and-binding-equations-of-components-in-functions" title="12.4.4 Initialization and Binding Equations of Components in Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.4</span></a>).</p>
</div>
</li>
<li id="S2.I1.i12" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i12.p1" class="ltx_para">
<p class="ltx_p">Components of a function will inside the function behave as though
they had discrete-time variability.</p>
</div>
</li>
</ul>
</div>
<div id="S2.p4" class="ltx_para">
<p class="ltx_p">Modelica functions have the following enhancements compared to a general
Modelica <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">class</span>:
</p>
<ul id="S2.I2" class="ltx_itemize">
<li id="S2.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i1.p1" class="ltx_para">
<p class="ltx_p">Functions can be called, <a href="#function-call" title="12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4</span></a>.</p>
</div>
<div id="S2.I2.i1.p2" class="ltx_para">
<ul id="S2.I2.i1.I1" class="ltx_itemize">
<li id="S2.I2.i1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">–</span></span> 
<div id="S2.I2.i1.I1.i1.p1" class="ltx_para">
<p class="ltx_p">The calls can use a mix of positional and named arguments, see
<a href="#positional-or-named-input-arguments-of-functions" title="12.4.1 Positional or Named Input Arguments of Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.1</span></a>.</p>
</div>
</li>
<li id="S2.I2.i1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">–</span></span> 
<div id="S2.I2.i1.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Instances of functions have a special meaning, see <a href="#functional-input-arguments-to-functions" title="12.4.2 Functional Input Arguments to Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.2</span></a>.</p>
</div>
</li>
<li id="S2.I2.i1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">–</span></span> 
<div id="S2.I2.i1.I1.i3.p1" class="ltx_para">
<p class="ltx_p">The lookup of the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">function</span> class to be called is extended, see <a href="scoping-name-lookup-and-flattening.html#composite-name-lookup" title="5.3.2 Composite Name Lookup ‣ 5.3 Static Name Lookup ‣ Chapter 5 Scoping, Name Lookup, and Flattening ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">5.3.2</span></a>.</p>
</div>
</li>
</ul>
</div>
</li>
<li id="S2.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i2.p1" class="ltx_para">
<p class="ltx_p">A function can be <em class="ltx_emph ltx_font_italic">recursive</em>.</p>
</div>
</li>
<li id="S2.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i3.p1" class="ltx_para">
<p class="ltx_p">A formal parameter or local variable may be initialized through a
<em class="ltx_emph ltx_font_italic">binding</em> (=) of a default value in its declaration,
see <a href="#initialization-and-binding-equations-of-components-in-functions" title="12.4.4 Initialization and Binding Equations of Components in Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.4</span></a>.
Using assignment (:=) is deprecated. If a non-input component in the
function uses a record class that contain one or more binding
equations they are viewed as initialization of those component of the
record component.</p>
</div>
</li>
<li id="S2.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i4.p1" class="ltx_para">
<p class="ltx_p">A function is dynamically instantiated when it is called rather than
being statically instantiated by an instance declaration, which is the
case for other kinds of classes.</p>
</div>
</li>
<li id="S2.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i5.p1" class="ltx_para">
<p class="ltx_p">A function may have an external function interface specifier as its
body.</p>
</div>
</li>
<li id="S2.I2.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i6.p1" class="ltx_para">
<p class="ltx_p">A function may have a <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">return</span> statement in its algorithm section body.</p>
</div>
</li>
<li id="S2.I2.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i7.p1" class="ltx_para">
<p class="ltx_p">A function allows dimension sizes declared with colon (<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">:</span>) to be resized for non-input array variables, see <a href="#flexible-array-sizes-and-resizing-of-arrays-in-functions" title="12.4.5 Flexible Array Sizes and Resizing of Arrays in Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.5</span></a>.</p>
</div>
</li>
<li id="S2.I2.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i8.p1" class="ltx_para">
<p class="ltx_p">A function may be defined in a short function definition to be a
function partial derivative.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="pure-modelica-functions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">12.3 </span>Pure Modelica Functions</h2>

<div id="S3.p1" class="ltx_para">
<p class="ltx_p">Modelica functions are normally <em class="ltx_emph ltx_font_italic">pure</em> which makes it easy for
humans to reason about the code since they behave as mathematical
functions, and possible for compilers to optimize.</p>
</div>
<div id="S3.p2" class="ltx_para">
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph ltx_font_italic">Pure</em> Modelica functions always give the same output values or
errors for the same input values and only the output values influence
the simulation result, i.e. is seen as equivalent to a mathematical
map from input values to output values. Some input values may map to
errors. Pure functions are thus allowed to fail by calling <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">assert</span>, or
<span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaError</span> in C code, or dividing by zero. Such errors will only be
reported when and if the function is called. <em class="ltx_emph ltx_font_italic">Pure</em> Modelica
functions are not assumed to be thread-safe.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p class="ltx_p">A Modelica function which does not have the <em class="ltx_emph ltx_font_italic">pure</em> function
properties is <em class="ltx_emph ltx_font_italic">impure</em>.</p>
</div>
</li>
</ul>
</div>
<div id="S3.p3" class="ltx_para">
<p class="ltx_p">The declaration of functions follow these rules:</p>
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i1.p1" class="ltx_para">
<p class="ltx_p">Functions defined in Modelica (non-external) are <em class="ltx_emph ltx_font_italic">normally</em> assumed to be pure (the exception is the deprecated case below), if they are impure they shall be marked with the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">impure</span> keyword.
They can be explicitly marked as <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">pure</span>.</p>
</div>
<div id="S3.I2.i1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">However, since functions as default are pure it is not recommended to explicitly declare them as <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">pure</span>.</span>]</p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i2.p1" class="ltx_para">
<p class="ltx_p">External functions must be explicitly declared with <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">pure</span> or <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">impure</span>.</p>
</div>
</li>
<li id="S3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i3.p1" class="ltx_para">
<p class="ltx_p">If a function is declared as <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">impure</span> any function extending from it shall be declared as <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">impure</span>.</p>
</div>
</li>
<li id="S3.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i4.p1" class="ltx_para">
<p class="ltx_p">A deprecated semantics is that external functions (and functions defined in Modelica directly or indirectly calling them) without <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">pure</span> or <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">impure</span> keyword are assumed to be
impure, but without any restriction on calling them. Except for the function <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Utilities</span>.<span class="ltx_text ltx_lst_identifier">Streams</span>.<span class="ltx_text ltx_lst_identifier">print</span></span>, diagnostics must be given if called in a simulation model.
</p>
</div>
</li>
</ul>
</div>
<div id="S3.p4" class="ltx_para">
<p class="ltx_p">Calls of pure functions used inside expression may be skipped if the
resulting expression will not depend on the possible returned value;
ignoring the possibility of the function generating an error.</p>
</div>
<div id="S3.p5" class="ltx_para">
<p class="ltx_p">A call to a function with no declared outputs is assumed to have desired
side-effects or assertion checks.</p>
</div>
<div id="S3.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">A tool shall thus not remove such function calls, with exception of non-triggered assert calls. A pure function, used in an expression or used with
a non-empty left hand side, need not be called if the output from the function call do not mathematically influence the simulation result, even if
errors would be generated if it were called.</span>]</p>
</div>
<div id="S3.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Comment 1: This property enables writing declarative
specifications using Modelica. It also makes it possible for Modelica
compilers to freely perform algebraic manipulation of expressions
containing function calls while still preserving their semantics. For
example, a tool may use common subexpression elimination to call a pure
function just once, if it is called several times with identical input
arguments. However, since functions may fail we can e.g. only move a
common function call from inside a loop to outside the loop if the loop
is run at least once.</span>]</p>
</div>
<div id="S3.p8" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Comment 2: The Modelica translator is responsible for
maintaining this property for pure non-external functions. Regarding
external functions, the external function implementor is responsible.
Note that external functions can have side-effects as long as they do
not influence the internal Modelica simulation state, e.g. caching
variables for performance or printing trace output to a log file.</span>]</p>
</div>
<div id="S3.p9" class="ltx_para">
<p class="ltx_p">With the prefix keyword <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">impure</span> it is stated that a Modelica function is <em class="ltx_emph ltx_font_italic">impure</em> and it is only allowed to call such a function from within:</p>
<ul id="S3.I3" class="ltx_itemize">
<li id="S3.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i1.p1" class="ltx_para">
<p class="ltx_p">Another function marked with the prefix <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">impure</span>.</p>
</div>
</li>
<li id="S3.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i2.p1" class="ltx_para">
<p class="ltx_p">A when-equation.</p>
</div>
</li>
<li id="S3.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i3.p1" class="ltx_para">
<p class="ltx_p">A when-statement.</p>
</div>
</li>
<li id="S3.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">pure</span>(<span class="ltx_text ltx_lst_identifier">impureFunctionCall</span>(<math id="S3.I3.i4.p1.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>))</span> – which allows calling impure functions in any pure context.</p>
</div>
</li>
<li id="S3.I3.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i5.p1" class="ltx_para">
<p class="ltx_p">Initial equations and initial algorithms.</p>
</div>
</li>
<li id="S3.I3.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i6.p1" class="ltx_para">
<p class="ltx_p">Binding equations for components declared as parameter – which is seen as syntactic sugar for having a parameter with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">fixed</span>=<span class="ltx_text ltx_lst_keyword" style="color:#003378;">false</span></span> and the binding as an initial equation.
</p>
</div>
<div id="S3.I3.i6.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Thus, evaluation of the same function call at a later time during simulation is not guaranteed to result in the same value as when the parameter
was initialized, seemingly breaking the declaration equation.</span>]</p>
</div>
</li>
<li id="S3.I3.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i7.p1" class="ltx_para">
<p class="ltx_p">Binding equations for external objects.</p>
</div>
</li>
</ul>
</div>
<div id="S3.p10" class="ltx_para">
<p class="ltx_p">For initial equations, initial algorithms, and bindings it is an error
if the function calls are part of systems of equations and thus have to
be called multiple times.</p>
</div>
<div id="S3.p11" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">A tool is not allowed to perform any optimizations on function
calls to an impure function, e.g., reordering calls from different
statements in an algorithm or common subexpression elimination is not
allowed.</span>]</p>
</div>
<div id="S3.p12" class="ltx_para">
<p class="ltx_p">By <a href="interface-or-type-relationships.html#function-compatibility-or-function-subtyping-for-functions" title="6.6 Function-Compatibility or Function-Subtyping for Functions ‣ Chapter 6 Interface or Type Relationships ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">6.6</span></a>, it follows that an impure function can only be passed as argument to a function formal parameter of impure type.
A function having a formal function parameter that is <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">impure</span> must be marked <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">pure</span> or <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">impure</span>.</p>
</div>
<div id="S3.p13" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Comment: The semantics are undefined if the function call of an
impure function is part of an algebraic loop.</span>]</p>
</div>
<div id="S3.p14" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZXZhbHVhdGVMaW5lYXIgLy8gcHVyZSBmdW5jdGlvbgogIGlucHV0IFJlYWwgYTA7CiAgaW5wdXQgUmVhbCBhMTsKICBpbnB1dCBSZWFsIHg7CiAgb3V0cHV0IFJlYWwgeTsKYWxnb3JpdGhtCiAgeSA6PSBhMCArIGExKng7CmVuZCBldmFsdWF0ZUxpbmVhcjsKCmltcHVyZSBmdW5jdGlvbiByZWNlaXZlUmVhbFNpZ25hbCAvLyBpbXB1cmUgZnVuY3Rpb24KICBpbnB1dCBIYXJkd2FyZURyaXZlcklEIGlkOwogIG91dHB1dCBSZWFsIHk7CmV4dGVybmFsICJDIgogIHkgPSByZWNlaXZlU2lnbmFsKGlkKTsKZW5kIHJlY2VpdmVSZWFsU2lnbmFsOw==">⬇</a></div>
<div id="lstnumberx2559" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">evaluateLinear</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>pure<span class="ltx_text ltx_lst_space"> </span>function</span>
</div>
<div id="lstnumberx2560" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a0</span>;
</div>
<div id="lstnumberx2561" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a1</span>;
</div>
<div id="lstnumberx2562" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2563" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx2564" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2565" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a0</span><span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a1</span>*<span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2566" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">evaluateLinear</span>;
</div>
<div id="lstnumberx2567" class="ltx_listingline">
</div>
<div id="lstnumberx2568" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">impure</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">receiveRealSignal</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>impure<span class="ltx_text ltx_lst_space"> </span>function</span>
</div>
<div id="lstnumberx2569" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">HardwareDriverID</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">id</span>;
</div>
<div id="lstnumberx2570" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx2571" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>
</div>
<div id="lstnumberx2572" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">receiveSignal</span>(<span class="ltx_text ltx_lst_identifier">id</span>);
</div>
<div id="lstnumberx2573" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">receiveRealSignal</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Examples of allowed optimizations of pure functions:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgTSAvLyBBc3N1bWUgc2luLCBjb3MsIGFzaW4gYXJlIHB1cmUgZnVuY3Rpb25zIHdpdGggbm9ybWFsIGRlcml2YXRpdmVzLgogIGlucHV0IFJlYWwgeFsyXTsKICBpbnB1dCBSZWFsIHc7CiAgUmVhbCB5WzJdID0gW2Nvcyh3KSwgc2luKHcpOyAtc2luKHcpLCBjb3ModyldICogeDsKICBSZWFsIHpbMl0gPSBkZXIoeSk7CiAgUmVhbCBhID0gMCAqIGFzaW4odyk7CmVuZCBNOw==">⬇</a></div>
<div id="lstnumberx2574" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">M</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Assume<span class="ltx_text ltx_lst_space"> </span>sin,<span class="ltx_text ltx_lst_space"> </span>cos,<span class="ltx_text ltx_lst_space"> </span>asin<span class="ltx_text ltx_lst_space"> </span>are<span class="ltx_text ltx_lst_space"> </span>pure<span class="ltx_text ltx_lst_space"> </span>functions<span class="ltx_text ltx_lst_space"> </span>with<span class="ltx_text ltx_lst_space"> </span>normal<span class="ltx_text ltx_lst_space"> </span>derivatives.</span>
</div>
<div id="lstnumberx2575" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>[2];
</div>
<div id="lstnumberx2576" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">w</span>;
</div>
<div id="lstnumberx2577" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>[2]<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_identifier">cos</span>(<span class="ltx_text ltx_lst_identifier">w</span>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">w</span>);<span class="ltx_text ltx_lst_space"> </span>-<span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">w</span>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">cos</span>(<span class="ltx_text ltx_lst_identifier">w</span>)]<span class="ltx_text ltx_lst_space"> </span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2578" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>[2]<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">der</span>(<span class="ltx_text ltx_lst_identifier">y</span>);
</div>
<div id="lstnumberx2579" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0<span class="ltx_text ltx_lst_space"> </span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">asin</span>(<span class="ltx_text ltx_lst_identifier">w</span>);
</div>
<div id="lstnumberx2580" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">M</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">A tool only needs to generate one call of the pure function <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_upright">cos</span><span class="ltx_text ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">w</span>)</span></span> in the model <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">M</span> – a single call used for both the two elements of the matrix, as well as for the derivative
of that matrix. A tool may also skip the possible error for <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_upright">asin</span><span class="ltx_text ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">w</span>)</span></span> and assume that <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">a</span> is zero.</span></p>
</div>
<div id="S3.p15" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Examples of restrictions on optimizing pure functions:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBSZWFsIHggPQogICAgaWYgbm9FdmVudChhYnMoeCkpIDwgMSB0aGVuCiAgICAgIGFzaW4oeCkgLy8gQ2Fubm90IG1vdmUgYXNpbih4KSBvdXQgb2YgaWYtYnJhbmNoLgogICAgZWxzZQogICAgICAwOwphbGdvcml0aG0KICBhc3NlcnRDaGVjayhwLCBUKTsgLy8gTXVzdCBjYWxsIGZ1bmN0aW9uCmFsZ29yaXRobQogIGlmIGIgdGhlbgogICAgeSA6PSAyICogc29tZU90aGVyRnVuY3Rpb24oeCk7CiAgZW5kIGlmOwogIHkgOj0geSArIGFzaW4oeCk7CiAgeSA6PSB5ICsgc29tZU90aGVyRnVuY3Rpb24oeCk7CiAgLy8gQ2Fubm90IGV2YWx1YXRlIHNvbWVPdGhlckZ1bmN0aW9uKHgpIGJlZm9yZSBhc2luKHgpIC0gdW5sZXNzIGIgaXMgdHJ1ZQogIC8vIFRoZSByZWFzb24gaXMgdGhhdCBhc2luKHgpIG1heSBmYWlsIGFuZCBzb21lT3RoZXJGdW5jdGlvbiBtYXkgaGFuZywKICAvLyBhbmQgaXQgbWlnaHQgYmUgcG9zc2libGUgdG8gcmVjb3ZlciBmcm9tIHRoaXMgZXJyb3Iu">⬇</a></div>
<div id="lstnumberx2581" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span><span class="ltx_text ltx_lst_space"> </span>=
</div>
<div id="lstnumberx2582" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">noEvent</span>(<span class="ltx_text ltx_lst_identifier">abs</span>(<span class="ltx_text ltx_lst_identifier">x</span>))<span class="ltx_text ltx_lst_space"> </span>&lt;<span class="ltx_text ltx_lst_space"> </span>1<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx2583" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">asin</span>(<span class="ltx_text ltx_lst_identifier">x</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Cannot<span class="ltx_text ltx_lst_space"> </span>move<span class="ltx_text ltx_lst_space"> </span>asin(x)<span class="ltx_text ltx_lst_space"> </span>out<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>if-branch.</span>
</div>
<div id="lstnumberx2584" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx2585" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span>0;
</div>
<div id="lstnumberx2586" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2587" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">assertCheck</span>(<span class="ltx_text ltx_lst_identifier">p</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T</span>);<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Must<span class="ltx_text ltx_lst_space"> </span>call<span class="ltx_text ltx_lst_space"> </span>function</span>
</div>
<div id="lstnumberx2588" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2589" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx2590" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">someOtherFunction</span>(<span class="ltx_text ltx_lst_identifier">x</span>);
</div>
<div id="lstnumberx2591" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">if</span>;
</div>
<div id="lstnumberx2592" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">asin</span>(<span class="ltx_text ltx_lst_identifier">x</span>);
</div>
<div id="lstnumberx2593" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">someOtherFunction</span>(<span class="ltx_text ltx_lst_identifier">x</span>);
</div>
<div id="lstnumberx2594" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Cannot<span class="ltx_text ltx_lst_space"> </span>evaluate<span class="ltx_text ltx_lst_space"> </span>someOtherFunction(x)<span class="ltx_text ltx_lst_space"> </span>before<span class="ltx_text ltx_lst_space"> </span>asin(x)<span class="ltx_text ltx_lst_space"> </span>-<span class="ltx_text ltx_lst_space"> </span>unless<span class="ltx_text ltx_lst_space"> </span>b<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>true</span>
</div>
<div id="lstnumberx2595" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>The<span class="ltx_text ltx_lst_space"> </span>reason<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>that<span class="ltx_text ltx_lst_space"> </span>asin(x)<span class="ltx_text ltx_lst_space"> </span>may<span class="ltx_text ltx_lst_space"> </span>fail<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>someOtherFunction<span class="ltx_text ltx_lst_space"> </span>may<span class="ltx_text ltx_lst_space"> </span>hang,</span>
</div>
<div id="lstnumberx2596" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>it<span class="ltx_text ltx_lst_space"> </span>might<span class="ltx_text ltx_lst_space"> </span>be<span class="ltx_text ltx_lst_space"> </span>possible<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>recover<span class="ltx_text ltx_lst_space"> </span>from<span class="ltx_text ltx_lst_space"> </span>this<span class="ltx_text ltx_lst_space"> </span>error.</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="function-call" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">12.4 </span>Function Call</h2>

<div id="S4.p1" class="ltx_para">
<p class="ltx_p">Function classes and record constructors (<a href="#record-constructor-functions" title="12.6 Record Constructor Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.6</span></a>) and enumeration type
conversions (<a href="class-predefined-types-and-declarations.html#type-conversion-of-integer-to-enumeration-values" title="4.8.5.3 Type Conversion of Integer to Enumeration Values ‣ 4.8.5 Enumeration Types ‣ 4.8 Predefined Types and Classes ‣ Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">4.8.5.3</span></a>) can be called as described in this section.</p>
</div>
<section id="positional-or-named-input-arguments-of-functions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.4.1 </span>Positional or Named Input Arguments of Functions</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p class="ltx_p">A function call has optional positional arguments followed by zero, one
or more named arguments, such as</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZigzLjUsIDUuNzYsIGFyZzM9NSwgYXJnNj04LjMpOw==">⬇</a></div>
<div id="lstnumberx2597" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">f</span>(3.5,<span class="ltx_text ltx_lst_space"> </span>5.76,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">arg3</span>=5,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">arg6</span>=8.3);
</div>
</div>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p class="ltx_p">The formal syntax of a function call (simplified by removing reduction
expression, <a href="arrays.html#reduction-expressions" title="10.3.4.1 Reduction Expressions ‣ 10.3.4 Reduction Functions and Operators ‣ 10.3 Built-in Array Functions ‣ Chapter 10 Arrays ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">10.3.4.1</span></a>):</p>
<div class="ltx_listing ltx_lst_language_grammar ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cHJpbWFyeSA6CiAgIGNvbXBvbmVudC1yZWZlcmVuY2UgZnVuY3Rpb24tY2FsbC1hcmdzCgpmdW5jdGlvbi1jYWxsLWFyZ3MgOgogICAiKCIgWyBmdW5jdGlvbi1hcmd1bWVudHMgXSAiKSIKCmZ1bmN0aW9uLWFyZ3VtZW50cyA6CiAgIGZ1bmN0aW9uLWFyZ3VtZW50IFsgIiwiIGZ1bmN0aW9uLWFyZ3VtZW50c10KICAgfCBuYW1lZC1hcmd1bWVudHMKCm5hbWVkLWFyZ3VtZW50czogbmFtZWQtYXJndW1lbnQgWyAiLCIgbmFtZWQtYXJndW1lbnRzIF0KCm5hbWVkLWFyZ3VtZW50OiBJREVOVCAiPSIgZnVuY3Rpb24tYXJndW1lbnQKCmZ1bmN0aW9uLWFyZ3VtZW50IDogZnVuY3Rpb24tcGFydGlhbC1hcHBsaWNhdGlvbiB8IGV4cHJlc3Npb24=">⬇</a></div>
<div id="lstnumberx2598" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_italic">primary</span><span class="ltx_text ltx_lst_space"> </span>:
</div>
<div id="lstnumberx2599" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">   </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">component-reference</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">function-call-args</span>
</div>
<div id="lstnumberx2600" class="ltx_listingline">
</div>
<div id="lstnumberx2601" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_italic">function-call-args</span><span class="ltx_text ltx_lst_space"> </span>:
</div>
<div id="lstnumberx2602" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">   </span><span class="ltx_text ltx_lst_string" style="color:#003378;">"("</span><span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">function-arguments</span><span class="ltx_text ltx_lst_space"> </span>]<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">")"</span>
</div>
<div id="lstnumberx2603" class="ltx_listingline">
</div>
<div id="lstnumberx2604" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_italic">function-arguments</span><span class="ltx_text ltx_lst_space"> </span>:
</div>
<div id="lstnumberx2605" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">   </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">function-argument</span><span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">","</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">function-arguments</span>]
</div>
<div id="lstnumberx2606" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">   </span>|<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">named-arguments</span>
</div>
<div id="lstnumberx2607" class="ltx_listingline">
</div>
<div id="lstnumberx2608" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_italic">named-arguments</span>:<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">named-argument</span><span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">","</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">named-arguments</span><span class="ltx_text ltx_lst_space"> </span>]
</div>
<div id="lstnumberx2609" class="ltx_listingline">
</div>
<div id="lstnumberx2610" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_italic">named-argument</span>:<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">IDENT</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">"="</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">function-argument</span>
</div>
<div id="lstnumberx2611" class="ltx_listingline">
</div>
<div id="lstnumberx2612" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_italic">function-argument</span><span class="ltx_text ltx_lst_space"> </span>:<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">function-partial-application</span><span class="ltx_text ltx_lst_space"> </span>|<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">expression</span>
</div>
</div>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p class="ltx_p">The interpretation of a function call is as follows: First, a list of unfilled slots is created for all formal input parameters. If there are <math id="S4.SS1.p4.m1" class="ltx_Math" alttext="N" display="inline"><mi>N</mi></math> positional arguments, they are placed in the first
<math id="S4.SS1.p4.m2" class="ltx_Math" alttext="N" display="inline"><mi>N</mi></math> slots, where the order of the parameters is given by the order of the component declarations in the function definition. Next, for each named argument <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">identifier</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">expression</span></span>, the
<span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">identifier</span> is used to determine the corresponding slot. The value of the argument is placed in the slot, filling it (it is an error if this slot is already filled). When all arguments
have been processed, the slots that are still unfilled are filled with the corresponding default value of the function definition. The default values may depend on other inputs (these dependencies
must be acyclical in the function) – the values for those other inputs will then be substituted into the default values (this process may be repeated if the default value for that input depend on another input). The default values for inputs shall not depend on non-input variables in the function. The list of filled slots is used as the argument list for the call (it is an error if any
unfilled slots still remain).</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<p class="ltx_p">Special purpose operators with function syntax defined in the
specification shall not be called with named arguments, unless otherwise
noted.</p>
</div>
<div id="S4.SS1.p6" class="ltx_para">
<p class="ltx_p">The type of each argument must agree with the type of the corresponding
parameter, except where the standard type coercion, <a href="arrays.html#standard-type-coercion" title="10.6.13 Standard Type Coercion ‣ 10.6 Scalar, Vector, Matrix, and Array Operator Functions ‣ Chapter 10 Arrays ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">10.6.13</span></a>, can be used to make
the types agree. (See also <a href="#scalar-functions-applied-to-array-arguments" title="12.4.6 Scalar Functions Applied to Array Arguments ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.6</span></a> on applying scalar functions
to arrays.)</p>
</div>
<div id="S4.SS1.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Assume a function <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">RealToString</span> is defined as follows to
convert a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span> number to a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">String</span>:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gUmVhbFRvU3RyaW5nCiAgaW5wdXQgUmVhbCBudW1iZXI7CiAgaW5wdXQgUmVhbCBwcmVjaXNpb24gPSA2ICJudW1iZXIgb2Ygc2lnbmlmaWNhbnRkaWdpdHMiOwogIGlucHV0IFJlYWwgbGVuZ3RoID0gMCAibWluaW11bSBsZW5ndGggb2YgZmllbGQiOwogIG91dHB1dCBTdHJpbmcgc3RyaW5nICJudW1iZXIgYXMgc3RyaW5nIjsKICAkXGxkb3RzJAplbmQgUmVhbFRvU3RyaW5nOw==">⬇</a></div>
<div id="lstnumberx2613" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">RealToString</span>
</div>
<div id="lstnumberx2614" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">number</span>;
</div>
<div id="lstnumberx2615" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">precision</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>6<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"number<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>significantdigits"</span>;
</div>
<div id="lstnumberx2616" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">length</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"minimum<span class="ltx_text ltx_lst_space"> </span>length<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>field"</span>;
</div>
<div id="lstnumberx2617" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">String</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">string</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"number<span class="ltx_text ltx_lst_space"> </span>as<span class="ltx_text ltx_lst_space"> </span>string"</span>;
</div>
<div id="lstnumberx2618" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2618.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2619" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">RealToString</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Then the following applications are equivalent:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,UmVhbFRvU3RyaW5nKDIuMCk7ClJlYWxUb1N0cmluZygyLjAsIDYsIDApOwpSZWFsVG9TdHJpbmcoMi4wLCA2KTsKUmVhbFRvU3RyaW5nKDIuMCwgcHJlY2lzaW9uPTYpOwpSZWFsVG9TdHJpbmcoMi4wLCBsZW5ndGg9MCk7ClJlYWxUb1N0cmluZygyLjAsIDYsIHByZWNpc2lvbj02KTsgLy8gZXJyb3I6IHNsb3QgaXMgdXNlZCB0d2ljZQ==">⬇</a></div>
<div id="lstnumberx2620" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">RealToString</span>(2.0);
</div>
<div id="lstnumberx2621" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">RealToString</span>(2.0,<span class="ltx_text ltx_lst_space"> </span>6,<span class="ltx_text ltx_lst_space"> </span>0);
</div>
<div id="lstnumberx2622" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">RealToString</span>(2.0,<span class="ltx_text ltx_lst_space"> </span>6);
</div>
<div id="lstnumberx2623" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">RealToString</span>(2.0,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">precision</span>=6);
</div>
<div id="lstnumberx2624" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">RealToString</span>(2.0,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">length</span>=0);
</div>
<div id="lstnumberx2625" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">RealToString</span>(2.0,<span class="ltx_text ltx_lst_space"> </span>6,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">precision</span>=6);<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>error:<span class="ltx_text ltx_lst_space"> </span>slot<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>used<span class="ltx_text ltx_lst_space"> </span>twice</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="functional-input-arguments-to-functions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.4.2 </span>Functional Input Arguments to Functions</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p class="ltx_p">A functional input argument to a function is an argument of function
type. The declared type of such an input formal parameter in a function
can be the type-specifier of a partial function that has no replaceable
elements. It cannot be the type-specifier of a record or enumeration
(i.e., record constructor functions and enumeration type
conversions are not allowed in this context). Such an input formal
parameter of function type can also have an optional functional default
value.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gcXVhZHJhdHVyZSAiSW50ZWdyYXRlIGZ1bmN0aW9uIHk9aW50ZWdyYW5kKHgpIGZyb20geDEgdG8geDIiCiAgaW5wdXQgUmVhbCB4MTsKICBpbnB1dCBSZWFsIHgyOwogIGlucHV0IEludGVncmFuZCBpbnRlZ3JhbmQ7IC8vIEludGVncmFuZCBpcyBhIHBhcnRpYWwgZnVuY3Rpb24sCiAgc2VlIGJlbG93CiAgLy8gV2l0aCBkZWZhdWx0OiBpbnB1dCBJbnRlZ3JhbmQgaW50ZWdyYW5kID0KICBNb2RlbGljYS5NYXRoLnNpbjsKICBvdXRwdXQgUmVhbCBpbnRlZ3JhbDsKYWxnb3JpdGhtCiAgaW50ZWdyYWwgOj0oeDIteDEpKihpbnRlZ3JhbmQoeDEpICsgaW50ZWdyYW5kKHgyKSkvMjsKZW5kIHF1YWRyYXR1cmU7CgpwYXJ0aWFsIGZ1bmN0aW9uIEludGVncmFuZAogIGlucHV0IFJlYWwgdTsKICBvdXRwdXQgUmVhbCB5OwplbmQgSW50ZWdyYW5kOw==">⬇</a></div>
<div id="lstnumberx2626" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Integrate<span class="ltx_text ltx_lst_space"> </span>function<span class="ltx_text ltx_lst_space"> </span>y=integrand(x)<span class="ltx_text ltx_lst_space"> </span>from<span class="ltx_text ltx_lst_space"> </span>x1<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>x2"</span>
</div>
<div id="lstnumberx2627" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x1</span>;
</div>
<div id="lstnumberx2628" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x2</span>;
</div>
<div id="lstnumberx2629" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Integrand</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Integrand<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>partial<span class="ltx_text ltx_lst_space"> </span>function,</span>
</div>
<div id="lstnumberx2630" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">see</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">below</span>
</div>
<div id="lstnumberx2631" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>With<span class="ltx_text ltx_lst_space"> </span>default:<span class="ltx_text ltx_lst_space"> </span>input<span class="ltx_text ltx_lst_space"> </span>Integrand<span class="ltx_text ltx_lst_space"> </span>integrand<span class="ltx_text ltx_lst_space"> </span>=</span>
</div>
<div id="lstnumberx2632" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Math</span>.<span class="ltx_text ltx_lst_identifier">sin</span>;
</div>
<div id="lstnumberx2633" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integral</span>;
</div>
<div id="lstnumberx2634" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2635" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">integral</span><span class="ltx_text ltx_lst_space"> </span>:=(<span class="ltx_text ltx_lst_identifier">x2</span>-<span class="ltx_text ltx_lst_identifier">x1</span>)*(<span class="ltx_text ltx_lst_identifier">integrand</span>(<span class="ltx_text ltx_lst_identifier">x1</span>)<span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span>(<span class="ltx_text ltx_lst_identifier">x2</span>))/2;
</div>
<div id="lstnumberx2636" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature</span>;
</div>
<div id="lstnumberx2637" class="ltx_listingline">
</div>
<div id="lstnumberx2638" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">partial</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Integrand</span>
</div>
<div id="lstnumberx2639" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u</span>;
</div>
<div id="lstnumberx2640" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx2641" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Integrand</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p class="ltx_p">A functional argument can be provided in one of the following forms to
be passed to a scalar formal parameter of function type in a function
call:</p>
<ol id="S4.I1" class="ltx_enumerate">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">a)</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p class="ltx_p">as a function type-specifier (<span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">Parabola</span> example below),</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">b)</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p class="ltx_p">as a function partial application (<a href="#function-partial-application" title="12.4.2.1 Function Partial Application ‣ 12.4.2 Functional Input Arguments to Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.2.1</span></a> below),</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">c)</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p class="ltx_p">as a function that is a component (i.e., a formal parameter of function type of the enclosing function),</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">d)</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p class="ltx_p">as a function partial application of a function that is a component
(example in <a href="#function-partial-application" title="12.4.2.1 Function Partial Application ‣ 12.4.2 Functional Input Arguments to Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.2.1</span></a> below).</p>
</div>
</li>
</ol>
</div>
<div id="S4.SS2.p4" class="ltx_para">
<p class="ltx_p">In all cases the provided function must be function-compatible (<a href="interface-or-type-relationships.html#function-compatibility" title="Definition 6.8. Function-compatibility or function-subtyping for functions. ‣ 6.6 Function-Compatibility or Function-Subtyping for Functions ‣ Chapter 6 Interface or Type Relationships ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">definition</span> <span class="ltx_text ltx_ref_tag">6.8</span></a>) with the corresponding formal parameter of function type.</p>
</div>
<div id="S4.SS2.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
A function as a positional input argument according to case (a):</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gUGFyYWJvbGEKICBleHRlbmRzIEludGVncmFuZDsKYWxnb3JpdGhtCiAgeSA6PSB4Kng7CmVuZCBQYXJhYm9sYTsKYXJlYSA9IHF1YWRyYXR1cmUoMCwgMSwgUGFyYWJvbGEpOw==">⬇</a></div>
<div id="lstnumberx2642" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Parabola</span>
</div>
<div id="lstnumberx2643" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">extends</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Integrand</span>;
</div>
<div id="lstnumberx2644" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2645" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>*<span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2646" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Parabola</span>;
</div>
<div id="lstnumberx2647" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">area</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature</span>(0,<span class="ltx_text ltx_lst_space"> </span>1,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Parabola</span>);
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">quadrature2</span> example below uses a function <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">integrand</span> that is a
component as input argument according to case (c):</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gcXVhZHJhdHVyZTIgIkludGVncmF0ZSBmdW5jdGlvbiB5PWludGVncmFuZCh4KSBmcm9tIHgxIHRvIHgyIgogIGlucHV0IFJlYWwgeDE7CiAgaW5wdXQgUmVhbCB4MjsKICBpbnB1dCBJbnRlZ3JhbmQgaW50ZWdyYW5kOyAvLyBJbnRlZ3JhbmQgaXMgYSBwYXJ0aWFsIGZ1bmN0aW9uIHR5cGUKICBvdXRwdXQgUmVhbCBpbnRlZ3JhbDsKYWxnb3JpdGhtCiAgaW50ZWdyYWwgOj0gcXVhZHJhdHVyZSh4MSwgKHgxK3gyKS8yLCBpbnRlZ3JhbmQpKyAgcXVhZHJhdHVyZSgoeDEreDIpLzIsIHgyLCBpbnRlZ3JhbmQpOwplbmQgcXVhZHJhdHVyZTI7">⬇</a></div>
<div id="lstnumberx2648" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Integrate<span class="ltx_text ltx_lst_space"> </span>function<span class="ltx_text ltx_lst_space"> </span>y=integrand(x)<span class="ltx_text ltx_lst_space"> </span>from<span class="ltx_text ltx_lst_space"> </span>x1<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>x2"</span>
</div>
<div id="lstnumberx2649" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x1</span>;
</div>
<div id="lstnumberx2650" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x2</span>;
</div>
<div id="lstnumberx2651" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Integrand</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Integrand<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>partial<span class="ltx_text ltx_lst_space"> </span>function<span class="ltx_text ltx_lst_space"> </span>type</span>
</div>
<div id="lstnumberx2652" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integral</span>;
</div>
<div id="lstnumberx2653" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2654" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">integral</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature</span>(<span class="ltx_text ltx_lst_identifier">x1</span>,<span class="ltx_text ltx_lst_space"> </span>(<span class="ltx_text ltx_lst_identifier">x1</span>+<span class="ltx_text ltx_lst_identifier">x2</span>)/2,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span>)+<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">quadrature</span>((<span class="ltx_text ltx_lst_identifier">x1</span>+<span class="ltx_text ltx_lst_identifier">x2</span>)/2,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x2</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span>);
</div>
<div id="lstnumberx2655" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature2</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
<section id="function-partial-application" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">12.4.2.1 </span>Function Partial Application</h4>

<div id="S4.SS2.SSS1.p1" class="ltx_para">
<p class="ltx_p">A function partial application is similar to a function call with
certain formal parameters bound to expressions, the specific rules are
specified in this section and are not identical to the ones for function
call in <a href="#positional-or-named-input-arguments-of-functions" title="12.4.1 Positional or Named Input Arguments of Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.1</span></a>. A function partial application returns a partially
evaluated function that is also a function, with the remaining not bound
formal parameters still present in the same order as in the original
function declaration. A function partial application is specified by the
<span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">function</span> keyword followed by a function call to <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">func_name</span>
giving named formal parameter associations for the formal parameters to
be bound, e.g.:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZnVuY19uYW1lKCRcbGRvdHMkLCBmb3JtYWxfcGFyYW1ldGVyX25hbWUgPSBleHByLCAkXGxkb3RzJCk=">⬇</a></div>
<div id="lstnumberx2656" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">func_name</span>(<math id="lstnumberx2656.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">formal_parameter_name</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">expr</span>,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2656.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)
</div>
</div>
</div>
<div id="S4.SS2.SSS1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Note that the keyword <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">function</span> in a function partial
application differentiates the syntax from a normal function call
where some parameters have been left out, and instead supplied via
default values.</span>]</p>
</div>
<div id="S4.SS2.SSS1.p3" class="ltx_para">
<p class="ltx_p">The function created by the function partial application acts as the original function but with the bound formal input parameters(s) removed, i.e., they cannot be supplied arguments at function call.
The binding occurs when the partially evaluated function is created.
A partially evaluated function is function-compatible (<a href="interface-or-type-relationships.html#function-compatibility" title="Definition 6.8. Function-compatibility or function-subtyping for functions. ‣ 6.6 Function-Compatibility or Function-Subtyping for Functions ‣ Chapter 6 Interface or Type Relationships ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">definition</span> <span class="ltx_text ltx_ref_tag">6.8</span></a>) with the same function where all bound arguments are removed.</p>
</div>
<div id="S4.SS2.SSS1.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Thus, for checking function type compatibility, bound formal parameters are ignored.</span>]</p>
</div>
<div id="S4.SS2.SSS1.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Function partial application as argument, positional argument passing, according to case (b) above:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgVGVzdAogIHBhcmFtZXRlciBJbnRlZ2VyIE47CiAgUmVhbCBhcmVhOwphbGdvcml0aG0KICBhcmVhIDo9IDA7CiAgZm9yIGkgaW4gMTpOIGxvb3AKICAgIGFyZWEgOj0gYXJlYSArIHF1YWRyYXR1cmUoMCwgMSwgZnVuY3Rpb24gIFNpbmUoQT0yLCB3PWkqdGltZSkpOwogIGVuZCBmb3I7CmVuZCBUZXN0OwoKZnVuY3Rpb24gU2luZSAieSA9IFNpbmUoeCxBLHcpIgogIGV4dGVuZHMgSW50ZWdyYW5kOwogIGlucHV0IFJlYWwgQTsKICBpbnB1dCBSZWFsIHc7CmFsZ29yaXRobQogIHk6PUEqTW9kZWxpY2EuTWF0aC5zaW4odyp4KTsKZW5kIFNpbmU7">⬇</a></div>
<div id="lstnumberx2657" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Test</span>
</div>
<div id="lstnumberx2658" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">N</span>;
</div>
<div id="lstnumberx2659" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">area</span>;
</div>
<div id="lstnumberx2660" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2661" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">area</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span>0;
</div>
<div id="lstnumberx2662" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space"> </span>1:<span class="ltx_text ltx_lst_identifier">N</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">loop</span>
</div>
<div id="lstnumberx2663" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">area</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">area</span><span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature</span>(0,<span class="ltx_text ltx_lst_space"> </span>1,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Sine</span>(<span class="ltx_text ltx_lst_identifier">A</span>=2,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">w</span>=<span class="ltx_text ltx_lst_identifier">i</span>*<span class="ltx_text ltx_lst_identifier">time</span>));
</div>
<div id="lstnumberx2664" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">for</span>;
</div>
<div id="lstnumberx2665" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Test</span>;
</div>
<div id="lstnumberx2666" class="ltx_listingline">
</div>
<div id="lstnumberx2667" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Sine</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"y<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>Sine(x,A,w)"</span>
</div>
<div id="lstnumberx2668" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">extends</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Integrand</span>;
</div>
<div id="lstnumberx2669" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">A</span>;
</div>
<div id="lstnumberx2670" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">w</span>;
</div>
<div id="lstnumberx2671" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2672" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">y</span>:=<span class="ltx_text ltx_lst_identifier">A</span>*<span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Math</span>.<span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">w</span>*<span class="ltx_text ltx_lst_identifier">x</span>);
</div>
<div id="lstnumberx2673" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Sine</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Call with function partial application as named input argument:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YXJlYSA6PSBhcmVhICsgcXVhZHJhdHVyZSgwLCAxLCBpbnRlZ3JhbmQgPSBmdW5jdGlvbiBTaW5lKEE9Miwgdz1pKnRpbWUpKTs=">⬇</a></div>
<div id="lstnumberx2674" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">area</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">area</span><span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature</span>(0,<span class="ltx_text ltx_lst_space"> </span>1,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Sine</span>(<span class="ltx_text ltx_lst_identifier">A</span>=2,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">w</span>=<span class="ltx_text ltx_lst_identifier">i</span>*<span class="ltx_text ltx_lst_identifier">time</span>));
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S4.SS2.SSS1.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Function types are matching after removing the bound arguments <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">A</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">w</span> in a function partial
application:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gU2luZTIgInkgPSBTaW5lMihBLHcseCkiCiAgaW5wdXQgUmVhbCBBOwogIGlucHV0IFJlYWwgdzsKICBpbnB1dCBSZWFsIHg7IC8vIE5vdGU6IHggaXMgbm93IGxhc3QgaW4gYXJndW1lbnQgbGlzdC4KICBvdXRwdXQgUmVhbCB5OwphbGdvcml0aG0KICB5Oj1BKk1vZGVsaWNhLk1hdGguc2luKHcqeCk7CmVuZCBTaW5lMjsKYXJlYSA9IHF1YWRyYXR1cmUoMCwgMSwgaW50ZWdyYW5kID0gZnVuY3Rpb24gIFNpbmUyKEE9Miwgdz0zKSk7">⬇</a></div>
<div id="lstnumberx2675" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Sine2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"y<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>Sine2(A,w,x)"</span>
</div>
<div id="lstnumberx2676" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">A</span>;
</div>
<div id="lstnumberx2677" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">w</span>;
</div>
<div id="lstnumberx2678" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Note:<span class="ltx_text ltx_lst_space"> </span>x<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>now<span class="ltx_text ltx_lst_space"> </span>last<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>argument<span class="ltx_text ltx_lst_space"> </span>list.</span>
</div>
<div id="lstnumberx2679" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx2680" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2681" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">y</span>:=<span class="ltx_text ltx_lst_identifier">A</span>*<span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Math</span>.<span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">w</span>*<span class="ltx_text ltx_lst_identifier">x</span>);
</div>
<div id="lstnumberx2682" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Sine2</span>;
</div>
<div id="lstnumberx2683" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">area</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature</span>(0,<span class="ltx_text ltx_lst_space"> </span>1,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Sine2</span>(<span class="ltx_text ltx_lst_identifier">A</span>=2,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">w</span>=3));
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The partially evaluated <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">Sine2</span> has only one argument: <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">x</span> – and is thus type compatible with <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">Integrand</span>.</span>]</p>
</div>
<div id="S4.SS2.SSS1.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Function partial application of a function that is a component, according to case (d) above:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cGFydGlhbCBmdW5jdGlvbiBTdXJmYWNlSW50ZWdyYW5kCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IFJlYWwgeTsKICBvdXRwdXQgUmVhbCB6OwplbmQgU3VyZmFjZUludGVncmFuZDsKCmZ1bmN0aW9uIHF1YWRyYXR1cmVPbmNlCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IFJlYWwgeTE7CiAgaW5wdXQgUmVhbCB5MjsKICBpbnB1dCBTdXJmYWNlSW50ZWdyYW5kIGludGVncmFuZDsKICBvdXRwdXQgUmVhbCB6OwphbGdvcml0aG0KICB6IDo9IHF1YWRyYXR1cmUoeTEsIHkyLCBmdW5jdGlvbiAgaW50ZWdyYW5kKHk9eCkpOwogIC8vIFRoaXMgaXMgYWNjb3JkaW5nIHRvIGNhc2UgKGQpIGFuZCBuZWVkcyB0byBiaW5kIHRoZSAybmQgYXJndW1lbnQKZW5kIHF1YWRyYXR1cmVPbmNlOwoKZnVuY3Rpb24gc3VyZmFjZVF1YWRyYXR1cmUKICBpbnB1dCBSZWFsIHgxOwogIGlucHV0IFJlYWwgeDI7CiAgaW5wdXQgUmVhbCB5MTsKICBpbnB1dCBSZWFsIHkyOwogIGlucHV0IFN1cmZhY2VJbnRlZ3JhbmQgaW50ZWdyYW5kOwogIG91dHB1dCBSZWFsIGludGVncmFsOwphbGdvcml0aG0KICBpbnRlZ3JhbCA6PSBxdWFkcmF0dXJlKHgxLCB4MiwKICBmdW5jdGlvbiBxdWFkcmF0dXJlT25jZSh5MT15MSwgeTI9eTIsIGludGVncmFuZD1pbnRlZ3JhbmQpKTsKICAvLyBDYXNlIChiKSBhbmQgKGMpCmVuZCBzdXJmYWNlUXVhZHJhdHVyZTs=">⬇</a></div>
<div id="lstnumberx2684" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">partial</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">SurfaceIntegrand</span>
</div>
<div id="lstnumberx2685" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2686" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx2687" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>;
</div>
<div id="lstnumberx2688" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">SurfaceIntegrand</span>;
</div>
<div id="lstnumberx2689" class="ltx_listingline">
</div>
<div id="lstnumberx2690" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadratureOnce</span>
</div>
<div id="lstnumberx2691" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2692" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y1</span>;
</div>
<div id="lstnumberx2693" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y2</span>;
</div>
<div id="lstnumberx2694" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">SurfaceIntegrand</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span>;
</div>
<div id="lstnumberx2695" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>;
</div>
<div id="lstnumberx2696" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2697" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">z</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature</span>(<span class="ltx_text ltx_lst_identifier">y1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y2</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">integrand</span>(<span class="ltx_text ltx_lst_identifier">y</span>=<span class="ltx_text ltx_lst_identifier">x</span>));
</div>
<div id="lstnumberx2698" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>This<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>according<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>case<span class="ltx_text ltx_lst_space"> </span>(d)<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>needs<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>bind<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>2nd<span class="ltx_text ltx_lst_space"> </span>argument</span>
</div>
<div id="lstnumberx2699" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadratureOnce</span>;
</div>
<div id="lstnumberx2700" class="ltx_listingline">
</div>
<div id="lstnumberx2701" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">surfaceQuadrature</span>
</div>
<div id="lstnumberx2702" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x1</span>;
</div>
<div id="lstnumberx2703" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x2</span>;
</div>
<div id="lstnumberx2704" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y1</span>;
</div>
<div id="lstnumberx2705" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y2</span>;
</div>
<div id="lstnumberx2706" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">SurfaceIntegrand</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span>;
</div>
<div id="lstnumberx2707" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integral</span>;
</div>
<div id="lstnumberx2708" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2709" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">integral</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadrature</span>(<span class="ltx_text ltx_lst_identifier">x1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x2</span>,
</div>
<div id="lstnumberx2710" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">quadratureOnce</span>(<span class="ltx_text ltx_lst_identifier">y1</span>=<span class="ltx_text ltx_lst_identifier">y1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y2</span>=<span class="ltx_text ltx_lst_identifier">y2</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">integrand</span>=<span class="ltx_text ltx_lst_identifier">integrand</span>));
</div>
<div id="lstnumberx2711" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Case<span class="ltx_text ltx_lst_space"> </span>(b)<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>(c)</span>
</div>
<div id="lstnumberx2712" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">surfaceQuadrature</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="output-formal-parameters-of-functions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.4.3 </span>Output Formal Parameters of Functions</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p class="ltx_p">A function may have more than one output component, corresponding to
multiple return values. The only way to use more than the first return
value of such a function is to make the function call the right hand
side of an equation or assignment. In this case, the left hand side of
the equation or assignment shall contain a list of component references
within parentheses:</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">(<span class="ltx_text ltx_lst_identifier">out1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">out2</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">out3</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>(<math id="S4.SS3.p2.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>);</span></p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p class="ltx_p">The component references are associated with the output components
according to their position in the list. Thus output component i is set
equal to, or assigned to, component reference i in the list, where the
order of the output components is given by the order of the component
declarations in the function definition. The type of each component
reference in the list must agree with the type of the corresponding
output component.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p class="ltx_p">A function application may be used as expression whose value and type is
given by the value and type of the first output component, if at least
one return result is provided.</p>
</div>
<div id="S4.SS3.p5" class="ltx_para">
<p class="ltx_p">It is possible to omit left hand side component references and/or
truncate the left hand side list in order to discard outputs from a
function call.</p>
</div>
<div id="S4.SS3.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Optimizations to avoid computation of unused output results can
be automatically deduced by an optimizing compiler.</span>]</p>
</div>
<div id="S4.SS3.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Function <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">eigen</span> to compute eigenvalues and optionally
eigenvectors may be called in the following ways:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZXYgPSBlaWdlbihBKTsgLy8gY2FsY3VsYXRlIGVpZ2VudmFsdWVzCnggPSBpc1N0YWJsZShlaWdlbihBKSk7IC8vIHVzZWQgaW4gYW4gZXhwcmVzc2lvbgooZXYsIHZyKSA9IGVpZ2VuKEEpIC8vIGNhbGN1bGF0ZSBlaWdlbnZlY3RvcnMKKGV2LHZyLHZsKSA9IGVpZ2VuKEEpIC8vIGFuZCBhbHNvIGxlZnQgZWlnZW52ZWN0b3JzCihldiwsdmwpID0gZWlnZW4oQSkgLy8gbm8gcmlnaHQgZWlnZW52ZWN0b3Jz">⬇</a></div>
<div id="lstnumberx2713" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">ev</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">eigen</span>(<span class="ltx_text ltx_lst_identifier">A</span>);<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>calculate<span class="ltx_text ltx_lst_space"> </span>eigenvalues</span>
</div>
<div id="lstnumberx2714" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">x</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">isStable</span>(<span class="ltx_text ltx_lst_identifier">eigen</span>(<span class="ltx_text ltx_lst_identifier">A</span>));<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>used<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>an<span class="ltx_text ltx_lst_space"> </span>expression</span>
</div>
<div id="lstnumberx2715" class="ltx_listingline">(<span class="ltx_text ltx_lst_identifier">ev</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">vr</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">eigen</span>(<span class="ltx_text ltx_lst_identifier">A</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>calculate<span class="ltx_text ltx_lst_space"> </span>eigenvectors</span>
</div>
<div id="lstnumberx2716" class="ltx_listingline">(<span class="ltx_text ltx_lst_identifier">ev</span>,<span class="ltx_text ltx_lst_identifier">vr</span>,<span class="ltx_text ltx_lst_identifier">vl</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">eigen</span>(<span class="ltx_text ltx_lst_identifier">A</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>also<span class="ltx_text ltx_lst_space"> </span>left<span class="ltx_text ltx_lst_space"> </span>eigenvectors</span>
</div>
<div id="lstnumberx2717" class="ltx_listingline">(<span class="ltx_text ltx_lst_identifier">ev</span>,,<span class="ltx_text ltx_lst_identifier">vl</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">eigen</span>(<span class="ltx_text ltx_lst_identifier">A</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>right<span class="ltx_text ltx_lst_space"> </span>eigenvectors</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The function may be defined as:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZWlnZW4gImNhbGN1bGF0ZSBlaWdlbnZhbHVlcyBhbmQgb3B0aW9uYWxseSBlaWdlbnZlY3RvcnMiCiAgaW5wdXQgUmVhbCBBWzosIHNpemUoQSwxKV07CiAgb3V0cHV0IFJlYWwgZWlnZW5WYWx1ZXNbc2l6ZShBLDEpLDJdOwogIG91dHB1dCBSZWFsIHJpZ2h0RWlnZW5WZWN0b3JzW3NpemUoQSwxKSxzaXplKEEsMSldOwogIG91dHB1dCBSZWFsIGxlZnRFaWdlblZlY3RvcnMgW3NpemUoQSwxKSxzaXplKEEsMSldOwphbGdvcml0aG0KICAvLyBUaGUgb3V0cHV0IHZhcmlhYmxlcyBhcmUgY29tcHV0ZWQgc2VwYXJhdGVseSAoYW5kIG5vdCwgZS5nLiwgYnkgb25lCiAgLy8gY2FsbCBvZiBhIEZvcnRyYW4gZnVuY3Rpb24pIGluIG9yZGVyIHRoYXQgYW4gb3B0aW1pemluZyBjb21waWxlciBjYW4KICAvLyByZW1vdmUgdW5uZWNlc3NhcnkgY29tcHV0YXRpb25zLCBpZiBvbmUgb3IgbW9yZSBvdXRwdXQgYXJndW1lbnRzIGFyZQogIC8vIG1pc3NpbmcKICAvLyAgIGNvbXB1dGUgZWlnZW52YWx1ZXMKICAvLyAgIGNvbXB1dGUgcmlnaHQgZWlnZW52ZWN0b3JzIHVzaW5nIHRoZSBjb21wdXRlZCBlaWdlbnZhbHVlcwogIC8vICAgY29tcHV0ZSBsZWZ0IGVpZ2VudmVjdG9ycyB1c2luZyB0aGUgY29tcHV0ZWQgZWlnZW52YWx1ZXMKZW5kIGVpZ2VuOw==">⬇</a></div>
<div id="lstnumberx2718" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">eigen</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"calculate<span class="ltx_text ltx_lst_space"> </span>eigenvalues<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>optionally<span class="ltx_text ltx_lst_space"> </span>eigenvectors"</span>
</div>
<div id="lstnumberx2719" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">A</span>[:,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">A</span>,1)];
</div>
<div id="lstnumberx2720" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">eigenValues</span>[<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">A</span>,1),2];
</div>
<div id="lstnumberx2721" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">rightEigenVectors</span>[<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">A</span>,1),<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">A</span>,1)];
</div>
<div id="lstnumberx2722" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">leftEigenVectors</span><span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">A</span>,1),<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">A</span>,1)];
</div>
<div id="lstnumberx2723" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2724" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>The<span class="ltx_text ltx_lst_space"> </span>output<span class="ltx_text ltx_lst_space"> </span>variables<span class="ltx_text ltx_lst_space"> </span>are<span class="ltx_text ltx_lst_space"> </span>computed<span class="ltx_text ltx_lst_space"> </span>separately<span class="ltx_text ltx_lst_space"> </span>(and<span class="ltx_text ltx_lst_space"> </span>not,<span class="ltx_text ltx_lst_space"> </span>e.g.,<span class="ltx_text ltx_lst_space"> </span>by<span class="ltx_text ltx_lst_space"> </span>one</span>
</div>
<div id="lstnumberx2725" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>call<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>Fortran<span class="ltx_text ltx_lst_space"> </span>function)<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>order<span class="ltx_text ltx_lst_space"> </span>that<span class="ltx_text ltx_lst_space"> </span>an<span class="ltx_text ltx_lst_space"> </span>optimizing<span class="ltx_text ltx_lst_space"> </span>compiler<span class="ltx_text ltx_lst_space"> </span>can</span>
</div>
<div id="lstnumberx2726" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>remove<span class="ltx_text ltx_lst_space"> </span>unnecessary<span class="ltx_text ltx_lst_space"> </span>computations,<span class="ltx_text ltx_lst_space"> </span>if<span class="ltx_text ltx_lst_space"> </span>one<span class="ltx_text ltx_lst_space"> </span>or<span class="ltx_text ltx_lst_space"> </span>more<span class="ltx_text ltx_lst_space"> </span>output<span class="ltx_text ltx_lst_space"> </span>arguments<span class="ltx_text ltx_lst_space"> </span>are</span>
</div>
<div id="lstnumberx2727" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>missing</span>
</div>
<div id="lstnumberx2728" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space">   </span>compute<span class="ltx_text ltx_lst_space"> </span>eigenvalues</span>
</div>
<div id="lstnumberx2729" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space">   </span>compute<span class="ltx_text ltx_lst_space"> </span>right<span class="ltx_text ltx_lst_space"> </span>eigenvectors<span class="ltx_text ltx_lst_space"> </span>using<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>computed<span class="ltx_text ltx_lst_space"> </span>eigenvalues</span>
</div>
<div id="lstnumberx2730" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space">   </span>compute<span class="ltx_text ltx_lst_space"> </span>left<span class="ltx_text ltx_lst_space"> </span>eigenvectors<span class="ltx_text ltx_lst_space"> </span>using<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>computed<span class="ltx_text ltx_lst_space"> </span>eigenvalues</span>
</div>
<div id="lstnumberx2731" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">eigen</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S4.SS3.p8" class="ltx_para">
<p class="ltx_p">The only permissible use of an expression in the form of a list of
expressions in parentheses, is when it is used as the left hand side of
an equation or assignment where the right hand side is an application of
a function.</p>
</div>
<div id="S4.SS3.p9" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
The following are illegal:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,KHgrMSwgMy4wLCB6L3kpID0gZigxLjAsIDIuMCk7IC8vIE5vdCBhIGxpc3Qgb2YgY29tcG9uZW50IHJlZmVyZW5jZXMuCih4LCB5LCB6KSArICh1LCB2LCB3KSAvLyBOb3QgTEhTIG9mIHN1aXRhYmxlIGVxbi9hc3NpZ25tZW50Lg==">⬇</a></div>
<div id="lstnumberx2732" class="ltx_listingline">(<span class="ltx_text ltx_lst_identifier">x</span>+1,<span class="ltx_text ltx_lst_space"> </span>3.0,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>/<span class="ltx_text ltx_lst_identifier">y</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>(1.0,<span class="ltx_text ltx_lst_space"> </span>2.0);<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Not<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>list<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>component<span class="ltx_text ltx_lst_space"> </span>references.</span>
</div>
<div id="lstnumberx2733" class="ltx_listingline">(<span class="ltx_text ltx_lst_identifier">x</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>)<span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span>(<span class="ltx_text ltx_lst_identifier">u</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">v</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">w</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Not<span class="ltx_text ltx_lst_space"> </span>LHS<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>suitable<span class="ltx_text ltx_lst_space"> </span>eqn/assignment.</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="initialization-and-binding-equations-of-components-in-functions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.4.4 </span>Initialization and Binding Equations of Components in Functions</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p class="ltx_p">Components in a function can be divided into three groups:</p>
<ul id="S4.I2" class="ltx_itemize">
<li id="S4.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i1.p1" class="ltx_para">
<p class="ltx_p">Public components which are input formal parameters.</p>
</div>
</li>
<li id="S4.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i2.p1" class="ltx_para">
<p class="ltx_p">Public components which are output formal parameters.</p>
</div>
</li>
<li id="S4.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i3.p1" class="ltx_para">
<p class="ltx_p">Protected components which are local variables, parameters, or
constants.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p class="ltx_p">When a function is called components of a function do not have start-attributes.
However, a binding equation (<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">expression</span></span>) with an expression may be present for a component.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p class="ltx_p">[<em class="ltx_emph">Declaration assignments</em><span class="ltx_text ltx_font_italic"> of the form <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">expression</span></span> are deprecated, but otherwise identical to binding equations.</span>]</p>
</div>
<div id="S4.SS4.p4" class="ltx_para">
<p class="ltx_p">A binding equation for a non-input component initializes the
component to this <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">expression</span> at the start of every function invocation
(before executing the algorithm section or calling the external
function). These bindings must be executed in an order where a variable
is not used before its binding equations has been executed; it is
an error if no such order exists (i.e. the binding must be acyclic).</p>
</div>
<div id="S4.SS4.p5" class="ltx_para">
<p class="ltx_p">Binding equations can only be used for components of a function.
If no binding equation is given for a non-input component the variable is uninitialized (except for record components where modifiers may also initialize that component).
It is an error to use (or return) an uninitialized variable in a function.
Binding equations for input formal parameters are interpreted as default arguments, as described in
<a href="#positional-or-named-input-arguments-of-functions" title="12.4.1 Positional or Named Input Arguments of Functions ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.1</span></a>.</p>
</div>
<div id="S4.SS4.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">It is recommended to check for use of uninitialized variables statically – if this is not possible a warning is recommended
combined with a run-time check.</span>]</p>
</div>
<div id="S4.SS4.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The properties of components in functions described in this
section are also briefly described in <a href="#function-as-a-specialized-class" title="12.2 Function as a Specialized Class ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.2</span></a>.</span>]</p>
</div>
</section>
<section id="flexible-array-sizes-and-resizing-of-arrays-in-functions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.4.5 </span>Flexible Array Sizes and Resizing of Arrays in Functions</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Flexible setting of array dimension sizes of arrays in
functions is also briefly described in <a href="#function-as-a-specialized-class" title="12.2 Function as a Specialized Class ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.2</span></a>.</span>]</p>
</div>
<div id="S4.SS5.p2" class="ltx_para">
<p class="ltx_p">A dimension size not specified with colon (<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">:</span>) for a non-input array component of a function must be given by the inputs or be constant.</p>
</div>
<div id="S4.SS5.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gam9pblRocmVlVmVjdG9ycwogIGlucHV0IFJlYWwgdjFbOl0sdjJbOl0sdjNbOl07CiAgb3V0cHV0IFJlYWwgdnJlc1tzaXplKHYxLDEpK3NpemUodjIsMSkrc2l6ZSh2MywxKV07CmFsZ29yaXRobQogIHZyZXMgOj0gY2F0ICgxLHYxLHYyLHYzKTsKZW5kIGpvaW5UaHJlZVZlY3RvcnM7">⬇</a></div>
<div id="lstnumberx2734" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">joinThreeVectors</span>
</div>
<div id="lstnumberx2735" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">v1</span>[:],<span class="ltx_text ltx_lst_identifier">v2</span>[:],<span class="ltx_text ltx_lst_identifier">v3</span>[:];
</div>
<div id="lstnumberx2736" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">vres</span>[<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">v1</span>,1)+<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">v2</span>,1)+<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">v3</span>,1)];
</div>
<div id="lstnumberx2737" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2738" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">vres</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">cat</span><span class="ltx_text ltx_lst_space"> </span>(1,<span class="ltx_text ltx_lst_identifier">v1</span>,<span class="ltx_text ltx_lst_identifier">v2</span>,<span class="ltx_text ltx_lst_identifier">v3</span>);
</div>
<div id="lstnumberx2739" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">joinThreeVectors</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S4.SS5.p4" class="ltx_para">
<p class="ltx_p">A non-input array component declared in a function with a dimension size specified by colon (<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">:</span>) and no binding equation, can change size according to these special rules:</p>
<ul id="S4.I3" class="ltx_itemize">
<li id="S4.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I3.i1.p1" class="ltx_para">
<p class="ltx_p">Prior to execution of the function algorithm the dimension size is zero.</p>
</div>
</li>
<li id="S4.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I3.i2.p1" class="ltx_para">
<p class="ltx_p">The entire array (without any subscripts) may be assigned with a corresponding array with arbitrary dimension size (the array variable is re-sized).</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS5.p5" class="ltx_para">
<p class="ltx_p">These rules also apply if the array component is an element of a record
component in a function.</p>
</div>
<div id="S4.SS5.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
A function to collect the positive elements in a vector:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gY29sbGVjdFBvc2l0aXZlCiAgaW5wdXQgUmVhbCB4WzpdOwogIG91dHB1dCBSZWFsIHhwb3NbOl07CmFsZ29yaXRobQogIGZvciBpIGluIDEgOiBzaXplKHgsIDEpIGxvb3AKICAgIGlmIHhbaV0gPiAwIHRoZW4KICAgICAgeHBvcyA6PSBjYXQoMSwgeHBvcywgeFtpOmldKTsKICAgIGVuZCBpZjsKICBlbmQgZm9yOwplbmQgY29sbGVjdFBvc2l0aXZlOw==">⬇</a></div>
<div id="lstnumberx2740" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">collectPositive</span>
</div>
<div id="lstnumberx2741" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>[:];
</div>
<div id="lstnumberx2742" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">xpos</span>[:];
</div>
<div id="lstnumberx2743" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2744" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space"> </span>1<span class="ltx_text ltx_lst_space"> </span>:<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">x</span>,<span class="ltx_text ltx_lst_space"> </span>1)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">loop</span>
</div>
<div id="lstnumberx2745" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>[<span class="ltx_text ltx_lst_identifier">i</span>]<span class="ltx_text ltx_lst_space"> </span>&gt;<span class="ltx_text ltx_lst_space"> </span>0<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx2746" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">xpos</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">cat</span>(1,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">xpos</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>[<span class="ltx_text ltx_lst_identifier">i</span>:<span class="ltx_text ltx_lst_identifier">i</span>]);
</div>
<div id="lstnumberx2747" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">if</span>;
</div>
<div id="lstnumberx2748" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">for</span>;
</div>
<div id="lstnumberx2749" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">collectPositive</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="scalar-functions-applied-to-array-arguments" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.4.6 </span>Scalar Functions Applied to Array Arguments</h3>

<div id="S4.SS6.p1" class="ltx_para">
<p class="ltx_p">Functions with one scalar return value can be applied to arrays element-wise, e.g. if <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">A</span> is a vector of reals, then <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">A</span>)</span> is a vector where each element is the result of applying the function <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">sin</span> to the corresponding element in <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">A</span>. Only <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">function</span> classes that are transitively non-replaceable (<a href="interface-or-type-relationships.html#transitively-non-replaceable" title="6.3.1 Transitively non-Replaceable ‣ 6.3 Interface or Type ‣ Chapter 6 Interface or Type Relationships ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">6.3.1</span></a> and <a href="inheritance-modification-and-redeclaration.html#restrictions-on-base-classes-and-constraining-types-to-be-transitively-non-replaceable" title="7.1.4 Restrictions on Base Classes and Constraining Types to be Transitively Non-Replaceable ‣ 7.1 Inheritance – Extends Clause ‣ Chapter 7 Inheritance, Modification, and Redeclaration ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">7.1.4</span></a>) may be called vectorized.</p>
</div>
<div id="S4.SS6.p2" class="ltx_para">
<p class="ltx_p">Consider the expression <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">f</span>(<span class="ltx_text ltx_lst_identifier">arg1</span>,<span class="ltx_text ltx_lst_space"> </span><math id="S4.SS6.p2.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">argn</span>)</span>, an application of the function <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">f</span> to the arguments <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">arg1</span>, …, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">argn</span>.
Potential vectorization of this call is defined as follows.
For each passed argument, the type of the argument is checked against the type of the corresponding formal parameter of the function:</p>
<ol id="S4.I4" class="ltx_enumerate">
<li id="argument-type-check-match" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S4.I4.i1.p1" class="ltx_para">
<p class="ltx_p">If the types match, nothing is done.</p>
</div>
</li>
<li id="S4.I4.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S4.I4.i2.p1" class="ltx_para">
<p class="ltx_p">If the types do not match, and a type conversion can be applied, it is
applied. Continue with step <a href="#argument-type-check-match" title="item 1 ‣ 12.4.6 Scalar Functions Applied to Array Arguments ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</li>
<li id="S4.I4.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S4.I4.i3.p1" class="ltx_para">
<p class="ltx_p">If the types do not match, and no type conversion is applicable, the passed argument type is checked to see if it is an <math id="S4.I4.i3.p1.m1" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math>-dimensional array of the formal parameter type. If it is not, the function call is invalid. If it is, we call this a <em class="ltx_emph ltx_font_italic">foreach argument</em>.</p>
</div>
</li>
<li id="S4.I4.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S4.I4.i4.p1" class="ltx_para">
<p class="ltx_p">For all foreach arguments, the number and sizes of dimensions must
match. If they do not match, the function call is invalid.</p>
</div>
</li>
<li id="S4.I4.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span> 
<div id="S4.I4.i5.p1" class="ltx_para">
<p class="ltx_p">If no foreach argument exists, the function is applied in the normal
fashion, and the result has the type specified by the function
definition.</p>
</div>
</li>
<li id="S4.I4.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">6.</span> 
<div id="S4.I4.i6.p1" class="ltx_para">
<p class="ltx_p">The result of the function call expression is an <math id="S4.I4.i6.p1.m1" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math>-dimensional array <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">e</span> with the same dimension sizes as the foreach arguments.
Each element <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">e</span>[<math id="S4.I4.i6.p1.m2" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S4.I4.i6.p1.m3" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S4.I4.i6.p1.m4" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math>]</span> is the result of applying <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">f</span> to arguments constructed from the original arguments in the following way:</p>
<ul id="S4.I4.i6.I1" class="ltx_itemize">
<li id="S4.I4.i6.I0.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I4.i6.I0.i1.p1" class="ltx_para">
<p class="ltx_p">If the argument is not a foreach argument, it is used as-is.</p>
</div>
</li>
<li id="S4.I4.i6.I0.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I4.i6.I0.i2.p1" class="ltx_para">
<p class="ltx_p">If the argument is a foreach argument, the element at index <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">[<math id="S4.I4.i6.I0.i2.p1.m1" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S4.I4.i6.I0.i2.p1.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S4.I4.i6.I0.i2.p1.m3" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math>]</span> is used.</p>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div id="S4.SS6.p3" class="ltx_para">
<p class="ltx_p">If more than one argument is an array, all of them have to be the same
size, and they are traversed in parallel.</p>
</div>
<div id="S4.SS6.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,c2luKHthLCBiLCBjfSkgPSB7c2luKGEpLCBzaW4oYiksIHNpbihjKX0gLy8gYXJndW1lbnQgaXMgYSB2ZWN0b3IKc2luKFthLCBiLCBjXSkgPSBbc2luKGEpLCBzaW4oYiksIHNpbihjKV0gLy8gYXJndW1lbnQgbWF5IGJlIGEgbWF0cml4CmF0YW4yKHthLCBiLCBjfSwge2QsIGUsIGZ9KSA9IHthdGFuMihhLCBkKSwgYXRhbjIoYiwgZSksIGF0YW4yKGMsIGYpfQ==">⬇</a></div>
<div id="lstnumberx2750" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">sin</span>({<span class="ltx_text ltx_lst_identifier">a</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c</span>})<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">a</span>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">b</span>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">c</span>)}<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>argument<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>vector</span>
</div>
<div id="lstnumberx2751" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">sin</span>([<span class="ltx_text ltx_lst_identifier">a</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c</span>])<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">a</span>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">b</span>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">c</span>)]<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>argument<span class="ltx_text ltx_lst_space"> </span>may<span class="ltx_text ltx_lst_space"> </span>be<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>matrix</span>
</div>
<div id="lstnumberx2752" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">atan2</span>({<span class="ltx_text ltx_lst_identifier">a</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c</span>},<span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_identifier">d</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">e</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>})<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_identifier">atan2</span>(<span class="ltx_text ltx_lst_identifier">a</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d</span>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">atan2</span>(<span class="ltx_text ltx_lst_identifier">b</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">e</span>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">atan2</span>(<span class="ltx_text ltx_lst_identifier">c</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>)}
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This works even if the function is declared to take an array as
one of its arguments. If <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">pval</span> is defined as a function that takes
one argument that is a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span> vector and returns a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span>, then it can
be used with an actual argument which is a two-dimensional array (a
vector of vectors). The result type in this case will be a vector of
<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span>.
</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cHZhbChbMSwyOzMsNF0pID0gW3B2YWwoWzEsMl0pOyBwdmFsKFszLDRdKV0Kc2luKFsxLDI7Myw0XSkgPSBbc2luKHsxLDJ9KTsgc2luKHszLDR9KV0KICA9IFtzaW4oMSksIHNpbigyKTsgc2luKDMpLCBzaW4oNCld">⬇</a></div>
<div id="lstnumberx2753" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">pval</span>([1,2;3,4])<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_identifier">pval</span>([1,2]);<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">pval</span>([3,4])]
</div>
<div id="lstnumberx2754" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">sin</span>([1,2;3,4])<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_identifier">sin</span>({1,2});<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>({3,4})]
</div>
<div id="lstnumberx2755" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span>=<span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_identifier">sin</span>(1),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(2);<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(3),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(4)]
</div>
</div>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gQWRkCiAgaW5wdXQgUmVhbCBlMSwgZTI7CiAgb3V0cHV0IFJlYWwgc3VtMTsKYWxnb3JpdGhtCiAgc3VtMSA6PSBlMSArIGUyOwplbmQgQWRkOw==">⬇</a></div>
<div id="lstnumberx2756" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Add</span>
</div>
<div id="lstnumberx2757" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">e1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">e2</span>;
</div>
<div id="lstnumberx2758" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sum1</span>;
</div>
<div id="lstnumberx2759" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2760" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">sum1</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">e1</span><span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">e2</span>;
</div>
<div id="lstnumberx2761" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Add</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_upright">Add</span><span class="ltx_text ltx_font_upright">(1,<span class="ltx_text ltx_lst_space"> </span>[1,2,3])</span></span><span class="ltx_text ltx_font_italic"> adds one to each of the elements of the second
argument giving the result <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">[2,3,4]</span>. However, it is illegal to
write <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">1<span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span>[1,2,3]</span>, because the rules for the built-in
operators are more restrictive.</span>]</p>
</div>
</section>
<section id="empty-function-calls" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.4.7 </span>Empty Function Calls</h3>

<div id="S4.SS7.p1" class="ltx_para">
<p class="ltx_p">An <em class="ltx_emph ltx_font_italic">empty</em> function call is a call that does not return any results.</p>
</div>
<div id="S4.SS7.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">An empty call is of limited use in Modelica since a function call without results does not contribute to the simulation,
but it is useful to check assertions and in certain cases for desired side-effects, see <a href="#pure-modelica-functions" title="12.3 Pure Modelica Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.3</span></a>.</span>]</p>
</div>
<div id="S4.SS7.p3" class="ltx_para">
<p class="ltx_p">An empty call can occur either as a kind of “null equation” or “null statement”.</p>
</div>
<div id="S4.SS7.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
The empty calls to <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_upright">eigen</span><span class="ltx_text ltx_font_upright">()</span></span> are examples of a “null equation” and a “null statement”:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZXF1YXRpb24KICBNb2RlbGljYS5NYXRoLk1hdHJpY2VzLmVpZ2VuKEEpOyAvLyBFbXB0eSBmdW5jdGlvbiBjYWxsIGFzIGFuIGVxdWF0aW9uCmFsZ29yaXRobQogIE1vZGVsaWNhLk1hdGguTWF0cmljZXMuZWlnZW4oQSk7IC8vIEVtcHR5IGZ1bmN0aW9uIGNhbGwgYXMgYSBzdGF0ZW1lbnQ=">⬇</a></div>
<div id="lstnumberx2762" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx2763" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Math</span>.<span class="ltx_text ltx_lst_identifier">Matrices</span>.<span class="ltx_text ltx_lst_identifier">eigen</span>(<span class="ltx_text ltx_lst_identifier">A</span>);<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Empty<span class="ltx_text ltx_lst_space"> </span>function<span class="ltx_text ltx_lst_space"> </span>call<span class="ltx_text ltx_lst_space"> </span>as<span class="ltx_text ltx_lst_space"> </span>an<span class="ltx_text ltx_lst_space"> </span>equation</span>
</div>
<div id="lstnumberx2764" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2765" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Math</span>.<span class="ltx_text ltx_lst_identifier">Matrices</span>.<span class="ltx_text ltx_lst_identifier">eigen</span>(<span class="ltx_text ltx_lst_identifier">A</span>);<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Empty<span class="ltx_text ltx_lst_space"> </span>function<span class="ltx_text ltx_lst_space"> </span>call<span class="ltx_text ltx_lst_space"> </span>as<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>statement</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="built-in-functions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">12.5 </span>Built-in Functions</h2>

<div id="S5.p1" class="ltx_para">
<p class="ltx_p">There are basically four groups of built-in functions in Modelica:</p>
<ul id="S5.I1" class="ltx_itemize">
<li id="S5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Intrinsic mathematical and conversion functions, see <a href="operators-and-expressions.html#numeric-functions-and-conversion-functions" title="3.7.1 Numeric Functions and Conversion Functions ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.7.1</span></a>.</p>
</div>
</li>
<li id="S5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Derivative and special operators with function syntax,
see <a href="operators-and-expressions.html#derivative-and-special-purpose-operators-with-function-syntax" title="3.7.4 Derivative and Special Purpose Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.7.4</span></a>.</p>
</div>
</li>
<li id="S5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i3.p1" class="ltx_para">
<p class="ltx_p">Event-related operators with function syntax, see <a href="operators-and-expressions.html#event-related-operators-with-function-syntax" title="3.7.5 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.7.5</span></a>.</p>
</div>
</li>
<li id="S5.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I1.i4.p1" class="ltx_para">
<p class="ltx_p">Built-in array functions, see <a href="arrays.html#built-in-array-functions" title="10.3 Built-in Array Functions ‣ Chapter 10 Arrays ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">10.3</span></a>.</p>
</div>
<div id="S5.I1.i4.p2" class="ltx_para">
<p class="ltx_p">Note that when the specification references a function having the name
of a built-in function it references the built-in function, not a
user-defined function having the same name.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="record-constructor-functions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">12.6 </span>Record Constructor Functions</h2>

<div id="S6.p1" class="ltx_para">
<p class="ltx_p">Whenever a record is defined, a record constructor function with the
same name and in the same scope as the record class is implicitly
defined according to the following rules:</p>
</div>
<div id="S6.p2" class="ltx_para">
<p class="ltx_p">The declaration of the record is partially flattened including inheritance, modifications, redeclarations, and expansion of all names referring to declarations outside of the scope of the record to their fully qualified names.</p>
</div>
<div id="S6.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The partial flattening is performed in order to remove potentially conflicting import-clauses in the record constructor function due to flattening the inheritance tree.</span>]</p>
</div>
<div id="S6.p4" class="ltx_para">
<p class="ltx_p">All record elements (i.e., components and local class
definitions) of the partially flattened record declaration are used
as declarations in the record constructor function with the following
exceptions:</p>
<ul id="S6.I1" class="ltx_itemize">
<li id="S6.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Component declarations which do not allow a modification (such
as <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">final</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span></span>) are declared
as protected components in the record constructor function.</p>
</div>
</li>
<li id="S6.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Prefixes (<span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">constant</span>, <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">parameter</span>, <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">final</span>, <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">discrete</span>, …) of the remaining
record components are removed.</p>
</div>
</li>
<li id="S6.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i3.p1" class="ltx_para">
<p class="ltx_p">The prefix <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">input</span> is added to the public components of the record
constructor function.</p>
</div>
</li>
</ul>
</div>
<div id="S6.p5" class="ltx_para">
<p class="ltx_p">An instance of the record is declared as output parameter using
a name not appearing in the record, together with a modification. In
the modification, all input parameters are used to set the corresponding
record variables.</p>
</div>
<div id="S6.p6" class="ltx_para">
<p class="ltx_p">A record constructor can only be called if the referenced record class
is found in the global scope, and thus cannot be modified.</p>
</div>
<div id="S6.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">This allows constructing an instance of a record, with an
optional modification, at all places where a function call is allowed.
</span></p>
</div>
<div id="S6.p8" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Examples:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICByZWNvcmQgQ29tcGxleCAiQ29tcGxleCBudW1iZXIiCiAgICBSZWFsIHJlICJyZWFsIHBhcnQiOwogICAgUmVhbCBpbSAiaW1hZ2luYXJ5IHBhcnQiOwogIGVuZCBDb21wbGV4OwoKICBmdW5jdGlvbiBhZGQKICAgIGlucHV0IENvbXBsZXggdSwgdjsKICAgIG91dHB1dCBDb21wbGV4IHcocmU9dS5yZSArIHYucmUsIGltPXUuaW0rdi5yZSk7CiAgZW5kIGFkZDsKCiAgQ29tcGxleCBjMSwgYzI7CmVxdWF0aW9uCiAgYzIgPSBhZGQoYzEsIENvbXBsZXgoc2luKHRpbWUpLCBjb3ModGltZSkpOw==">⬇</a></div>
<div id="lstnumberx2766" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Complex</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Complex<span class="ltx_text ltx_lst_space"> </span>number"</span>
</div>
<div id="lstnumberx2767" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">re</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"real<span class="ltx_text ltx_lst_space"> </span>part"</span>;
</div>
<div id="lstnumberx2768" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">im</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"imaginary<span class="ltx_text ltx_lst_space"> </span>part"</span>;
</div>
<div id="lstnumberx2769" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Complex</span>;
</div>
<div id="lstnumberx2770" class="ltx_listingline">
</div>
<div id="lstnumberx2771" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">add</span>
</div>
<div id="lstnumberx2772" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Complex</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">v</span>;
</div>
<div id="lstnumberx2773" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Complex</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">w</span>(<span class="ltx_text ltx_lst_identifier">re</span>=<span class="ltx_text ltx_lst_identifier">u</span>.<span class="ltx_text ltx_lst_identifier">re</span><span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">v</span>.<span class="ltx_text ltx_lst_identifier">re</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">im</span>=<span class="ltx_text ltx_lst_identifier">u</span>.<span class="ltx_text ltx_lst_identifier">im</span>+<span class="ltx_text ltx_lst_identifier">v</span>.<span class="ltx_text ltx_lst_identifier">re</span>);
</div>
<div id="lstnumberx2774" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">add</span>;
</div>
<div id="lstnumberx2775" class="ltx_listingline">
</div>
<div id="lstnumberx2776" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Complex</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c2</span>;
</div>
<div id="lstnumberx2777" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx2778" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">c2</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">add</span>(<span class="ltx_text ltx_lst_identifier">c1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Complex</span>(<span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">time</span>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">cos</span>(<span class="ltx_text ltx_lst_identifier">time</span>));
</div>
</div>
</div>
<div id="S6.p9" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">In the following example, a convenient data sheet library of
components is built up:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cGFja2FnZSBNb3RvcnMKICByZWNvcmQgTW90b3JEYXRhICJEYXRhIHNoZWV0IG9mIGEgbW90b3IiCiAgICBwYXJhbWV0ZXIgUmVhbCBpbmVydGlhOwogICAgcGFyYW1ldGVyIFJlYWwgbm9taW5hbFRvcnF1ZTsKICAgIHBhcmFtZXRlciBSZWFsIG1heFRvcnF1ZTsKICAgIHBhcmFtZXRlciBSZWFsIG1heFNwZWVkOwogIGVuZCBNb3RvckRhdGE7CgogIG1vZGVsIE1vdG9yICJNb3RvciBtb2RlbCIgLy8gdXNpbmcgdGhlIGdlbmVyaWMgTW90b3JEYXRhCiAgICBNb3RvckRhdGEgZGF0YTsKICAgICRcbGRvdHMkCiAgZXF1YXRpb24KICAgICRcbGRvdHMkCiAgZW5kIE1vdG9yOwoKICByZWNvcmQgTW90b3JJMTIzID0gTW90b3JEYXRhKCAvLyBkYXRhIG9mIGEgc3BlY2lmaWMgbW90b3IKICAgIGluZXJ0aWEgPSAwLjAwMSwKICAgIG5vbWluYWxUb3JxdWUgPSAxMCwKICAgIG1heFRvcnF1ZSA9IDIwLAogICAgbWF4U3BlZWQgPSAzNjAwKSAiRGF0YSBzaGVldCBvZiBtb3RvciBJMTIzIjsKICByZWNvcmQgTW90b3JJMTQ1ID0gTW90b3JEYXRhKCAvLyBkYXRhIG9mIGFub3RoZXIgc3BlY2lmaWMgbW90b3IKICAgIGluZXJ0aWEgPSAwLjAwMTUsCiAgICBub21pbmFsVG9ycXVlID0gMTUsCiAgICBtYXhUb3JxdWUgPSAyMiwKICAgIG1heFNwZWVkID0gMzYwMCkgIkRhdGEgc2hlZXQgb2YgbW90b3IgSTE0NSI7CmVuZCBNb3RvcnMKCm1vZGVsIFJvYm90CiAgaW1wb3J0IE1vdG9ycy4qOwogIE1vdG9yIG1vdG9yMShkYXRhID0gTW90b3JJMTIzKCkpOyAvLyBqdXN0IHJlZmVyIHRvIGRhdGEgc2hlZXQKICBNb3RvciBtb3RvcjIoZGF0YSA9IE1vdG9ySTEyMyhpbmVydGlhID0gMC4wMDEyKSk7CiAgLy8gZGF0YSBjYW4gc3RpbGwgYmUgbW9kaWZpZWQgKGlmIG5vIGZpbmFsIGRlY2xhcmF0aW9uIGluIHJlY29yZCkKICBNb3RvciBtb3RvcjMoZGF0YSA9IE1vdG9ySTE0NSgpKTsKICAkXGxkb3RzJAplbmQgUm9ib3Q7">⬇</a></div>
<div id="lstnumberx2779" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">package</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Motors</span>
</div>
<div id="lstnumberx2780" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MotorData</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Data<span class="ltx_text ltx_lst_space"> </span>sheet<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>motor"</span>
</div>
<div id="lstnumberx2781" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">inertia</span>;
</div>
<div id="lstnumberx2782" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">nominalTorque</span>;
</div>
<div id="lstnumberx2783" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">maxTorque</span>;
</div>
<div id="lstnumberx2784" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">maxSpeed</span>;
</div>
<div id="lstnumberx2785" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MotorData</span>;
</div>
<div id="lstnumberx2786" class="ltx_listingline">
</div>
<div id="lstnumberx2787" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Motor</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Motor<span class="ltx_text ltx_lst_space"> </span>model"</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>using<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>generic<span class="ltx_text ltx_lst_space"> </span>MotorData</span>
</div>
<div id="lstnumberx2788" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">MotorData</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">data</span>;
</div>
<div id="lstnumberx2789" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><math id="lstnumberx2789.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2790" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx2791" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><math id="lstnumberx2791.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2792" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Motor</span>;
</div>
<div id="lstnumberx2793" class="ltx_listingline">
</div>
<div id="lstnumberx2794" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MotorI123</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MotorData</span>(<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>data<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>specific<span class="ltx_text ltx_lst_space"> </span>motor</span>
</div>
<div id="lstnumberx2795" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">inertia</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0.001,
</div>
<div id="lstnumberx2796" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">nominalTorque</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>10,
</div>
<div id="lstnumberx2797" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">maxTorque</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>20,
</div>
<div id="lstnumberx2798" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">maxSpeed</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>3600)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Data<span class="ltx_text ltx_lst_space"> </span>sheet<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>motor<span class="ltx_text ltx_lst_space"> </span>I123"</span>;
</div>
<div id="lstnumberx2799" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MotorI145</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MotorData</span>(<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>data<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>another<span class="ltx_text ltx_lst_space"> </span>specific<span class="ltx_text ltx_lst_space"> </span>motor</span>
</div>
<div id="lstnumberx2800" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">inertia</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0.0015,
</div>
<div id="lstnumberx2801" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">nominalTorque</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>15,
</div>
<div id="lstnumberx2802" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">maxTorque</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>22,
</div>
<div id="lstnumberx2803" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">maxSpeed</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>3600)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Data<span class="ltx_text ltx_lst_space"> </span>sheet<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>motor<span class="ltx_text ltx_lst_space"> </span>I145"</span>;
</div>
<div id="lstnumberx2804" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Motors</span>
</div>
<div id="lstnumberx2805" class="ltx_listingline">
</div>
<div id="lstnumberx2806" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Robot</span>
</div>
<div id="lstnumberx2807" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">import</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Motors</span>.*;
</div>
<div id="lstnumberx2808" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Motor</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">motor1</span>(<span class="ltx_text ltx_lst_identifier">data</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MotorI123</span>());<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>just<span class="ltx_text ltx_lst_space"> </span>refer<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>data<span class="ltx_text ltx_lst_space"> </span>sheet</span>
</div>
<div id="lstnumberx2809" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Motor</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">motor2</span>(<span class="ltx_text ltx_lst_identifier">data</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MotorI123</span>(<span class="ltx_text ltx_lst_identifier">inertia</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0.0012));
</div>
<div id="lstnumberx2810" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>data<span class="ltx_text ltx_lst_space"> </span>can<span class="ltx_text ltx_lst_space"> </span>still<span class="ltx_text ltx_lst_space"> </span>be<span class="ltx_text ltx_lst_space"> </span>modified<span class="ltx_text ltx_lst_space"> </span>(if<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>final<span class="ltx_text ltx_lst_space"> </span>declaration<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>record)</span>
</div>
<div id="lstnumberx2811" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Motor</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">motor3</span>(<span class="ltx_text ltx_lst_identifier">data</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MotorI145</span>());
</div>
<div id="lstnumberx2812" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2812.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2813" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Robot</span>;
</div>
</div>
</div>
<div id="S6.p10" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Example showing most of the situations, which may occur for the
implicit record constructor function creation. With the following record
definitions:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cGFja2FnZSBEZW1vOwogIHJlY29yZCBSZWNvcmQxOwogICAgcGFyYW1ldGVyIFJlYWwgcjAgPSAwOwogIGVuZCBSZWNvcmQxOwoKICByZWNvcmQgUmVjb3JkMgogICAgaW1wb3J0IE1vZGVsaWNhLk1hdGguKjsKICAgIGV4dGVuZHMgUmVjb3JkMTsKICAgIGZpbmFsIGNvbnN0YW50IFJlYWwgYzEgPSAyLjA7CiAgICBjb25zdGFudCBSZWFsIGMyOwogICAgcGFyYW1ldGVyIEludGVnZXIgbjEgPSA1OwogICAgcGFyYW1ldGVyIEludGVnZXIgbjI7CiAgICBwYXJhbWV0ZXIgUmVhbCByMSAiY29tbWVudCI7CiAgICBwYXJhbWV0ZXIgUmVhbCByMiA9IHNpbihjMSk7CiAgICBmaW5hbCBwYXJhbWV0ZXIgUmVhbCByMyA9IGNvcyhyMik7CiAgICBSZWFsIHI0OwogICAgUmVhbCByNSA9IDUuMDsKICAgIFJlYWwgcjZbbjFdOwogICAgUmVhbCByN1tuMl07CiAgZW5kIFJlY29yZDI7CmVuZCBEZW1vOw==">⬇</a></div>
<div id="lstnumberx2814" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">package</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Demo</span>;
</div>
<div id="lstnumberx2815" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record1</span>;
</div>
<div id="lstnumberx2816" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r0</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0;
</div>
<div id="lstnumberx2817" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record1</span>;
</div>
<div id="lstnumberx2818" class="ltx_listingline">
</div>
<div id="lstnumberx2819" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record2</span>
</div>
<div id="lstnumberx2820" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">import</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Math</span>.*;
</div>
<div id="lstnumberx2821" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">extends</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record1</span>;
</div>
<div id="lstnumberx2822" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">final</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">constant</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>2.0;
</div>
<div id="lstnumberx2823" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">constant</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c2</span>;
</div>
<div id="lstnumberx2824" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">n1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>5;
</div>
<div id="lstnumberx2825" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">n2</span>;
</div>
<div id="lstnumberx2826" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"comment"</span>;
</div>
<div id="lstnumberx2827" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r2</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">c1</span>);
</div>
<div id="lstnumberx2828" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">final</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r3</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">cos</span>(<span class="ltx_text ltx_lst_identifier">r2</span>);
</div>
<div id="lstnumberx2829" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r4</span>;
</div>
<div id="lstnumberx2830" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r5</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>5.0;
</div>
<div id="lstnumberx2831" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r6</span>[<span class="ltx_text ltx_lst_identifier">n1</span>];
</div>
<div id="lstnumberx2832" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r7</span>[<span class="ltx_text ltx_lst_identifier">n2</span>];
</div>
<div id="lstnumberx2833" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record2</span>;
</div>
<div id="lstnumberx2834" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Demo</span>;
</div>
</div>
</div>
<div id="S6.p11" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The following record constructor functions are implicitly defined
(the name of the output, given in italic below, is not defined; it
should be chosen to not cause any conflict):
</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cGFja2FnZSBEZW1vOwogIGZ1bmN0aW9uIFJlY29yZDEKICAgIGlucHV0IFJlYWwgcjAgPSAwOwogICAgb3V0cHV0IFJlY29yZDEgJFxtYXRoaXR7cmVzdWx0fSQocjAgPSByMCk7CiAgZW5kIFJlY29yZDE7CgogIGZ1bmN0aW9uIFJlY29yZDIKICAgIGlucHV0IFJlYWwgcjAgPSAwOwogICAgaW5wdXQgUmVhbCBjMjsKICAgIGlucHV0IEludGVnZXIgbjEgPSA1OwogICAgaW5wdXQgSW50ZWdlciBuMjsKICAgIGlucHV0IFJlYWwgcjEgImNvbW1lbnQiOyAvLyB0aGUgY29tbWVudCBhbHNvIGNvcGllZCBmcm9tIHJlY29yZAogICAgaW5wdXQgUmVhbCByMiA9IE1vZGVsaWNhLk1hdGguc2luKGMxKTsKICAgIGlucHV0IFJlYWwgcjQ7CiAgICBpbnB1dCBSZWFsIHI1ID0gNS4wOwogICAgaW5wdXQgUmVhbCByNltuMV07CiAgICBpbnB1dCBSZWFsIHI3W24yXTsKICAgIG91dHB1dCBSZWNvcmQyICRcbWF0aGl0e3Jlc3VsdH0kKHIwPXIwLGMyPWMyLG4xPW4xLG4yPW4yLHIxPXIxLHIyPXIyLHI0PXI0LHI1PXI1LHI2PXI2LHI3PXI3KTsKICBwcm90ZWN0ZWQKICAgIGZpbmFsIGNvbnN0YW50IFJlYWwgYzEgPSAyLjA7IC8vIHJlZmVyZW5jZWQgZnJvbSByMgogICAgZmluYWwgcGFyYW1ldGVyIFJlYWwgcjMgPSBNb2RlbGljYS5NYXRoLmNvcyhyMik7CiAgZW5kIFJlY29yZDI7CmVuZCBEZW1vOw==">⬇</a></div>
<div id="lstnumberx2835" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">package</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Demo</span>;
</div>
<div id="lstnumberx2836" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record1</span>
</div>
<div id="lstnumberx2837" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r0</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0;
</div>
<div id="lstnumberx2838" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record1</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2838.m1" class="ltx_Math" alttext="\mathit{result}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑢𝑙𝑡</mi></math>(<span class="ltx_text ltx_lst_identifier">r0</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r0</span>);
</div>
<div id="lstnumberx2839" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record1</span>;
</div>
<div id="lstnumberx2840" class="ltx_listingline">
</div>
<div id="lstnumberx2841" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record2</span>
</div>
<div id="lstnumberx2842" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r0</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0;
</div>
<div id="lstnumberx2843" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c2</span>;
</div>
<div id="lstnumberx2844" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">n1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>5;
</div>
<div id="lstnumberx2845" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">n2</span>;
</div>
<div id="lstnumberx2846" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"comment"</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>comment<span class="ltx_text ltx_lst_space"> </span>also<span class="ltx_text ltx_lst_space"> </span>copied<span class="ltx_text ltx_lst_space"> </span>from<span class="ltx_text ltx_lst_space"> </span>record</span>
</div>
<div id="lstnumberx2847" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r2</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Math</span>.<span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">c1</span>);
</div>
<div id="lstnumberx2848" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r4</span>;
</div>
<div id="lstnumberx2849" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r5</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>5.0;
</div>
<div id="lstnumberx2850" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r6</span>[<span class="ltx_text ltx_lst_identifier">n1</span>];
</div>
<div id="lstnumberx2851" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r7</span>[<span class="ltx_text ltx_lst_identifier">n2</span>];
</div>
<div id="lstnumberx2852" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record2</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2852.m1" class="ltx_Math" alttext="\mathit{result}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑢𝑙𝑡</mi></math>(<span class="ltx_text ltx_lst_identifier">r0</span>=<span class="ltx_text ltx_lst_identifier">r0</span>,<span class="ltx_text ltx_lst_identifier">c2</span>=<span class="ltx_text ltx_lst_identifier">c2</span>,<span class="ltx_text ltx_lst_identifier">n1</span>=<span class="ltx_text ltx_lst_identifier">n1</span>,<span class="ltx_text ltx_lst_identifier">n2</span>=<span class="ltx_text ltx_lst_identifier">n2</span>,<span class="ltx_text ltx_lst_identifier">r1</span>=<span class="ltx_text ltx_lst_identifier">r1</span>,<span class="ltx_text ltx_lst_identifier">r2</span>=<span class="ltx_text ltx_lst_identifier">r2</span>,<span class="ltx_text ltx_lst_identifier">r4</span>=<span class="ltx_text ltx_lst_identifier">r4</span>,<span class="ltx_text ltx_lst_identifier">r5</span>=<span class="ltx_text ltx_lst_identifier">r5</span>,<span class="ltx_text ltx_lst_identifier">r6</span>=<span class="ltx_text ltx_lst_identifier">r6</span>,<span class="ltx_text ltx_lst_identifier">r7</span>=<span class="ltx_text ltx_lst_identifier">r7</span>);
</div>
<div id="lstnumberx2853" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">protected</span>
</div>
<div id="lstnumberx2854" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">final</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">constant</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>2.0;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>referenced<span class="ltx_text ltx_lst_space"> </span>from<span class="ltx_text ltx_lst_space"> </span>r2</span>
</div>
<div id="lstnumberx2855" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">final</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r3</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Math</span>.<span class="ltx_text ltx_lst_identifier">cos</span>(<span class="ltx_text ltx_lst_identifier">r2</span>);
</div>
<div id="lstnumberx2856" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Record2</span>;
</div>
<div id="lstnumberx2857" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Demo</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">and can be applied in the following way
</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,RGVtby5SZWNvcmQyIHIxID0gRGVtby5SZWNvcmQyKHIwPTEsIGMyPTIsIG4xPTIsIG4yPTMsIHIxPTEsIHIyPTIscjQ9NSwgcjU9NSwgcjY9ezEsMn0sIHI3PXsxLDIsM30pOwpEZW1vLlJlY29yZDIgcjIgPSBEZW1vLlJlY29yZDIoMSwyLDIsMywxLDIsNSw1LHsxLDJ9LHsxLDIsM30pOwpwYXJhbWV0ZXIgRGVtby5SZWNvcmQyIHIzID0gRGVtby5SZWNvcmQyKGMyPTIsIG4yPTEsIHIxPTEscjQ9NCwgcjY9MTo1LCByNz17MX0pOw==">⬇</a></div>
<div id="lstnumberx2858" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">Demo</span>.<span class="ltx_text ltx_lst_identifier">Record2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Demo</span>.<span class="ltx_text ltx_lst_identifier">Record2</span>(<span class="ltx_text ltx_lst_identifier">r0</span>=1,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c2</span>=2,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">n1</span>=2,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">n2</span>=3,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r1</span>=1,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r2</span>=2,<span class="ltx_text ltx_lst_identifier">r4</span>=5,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r5</span>=5,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r6</span>={1,2},<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r7</span>={1,2,3});
</div>
<div id="lstnumberx2859" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">Demo</span>.<span class="ltx_text ltx_lst_identifier">Record2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r2</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Demo</span>.<span class="ltx_text ltx_lst_identifier">Record2</span>(1,2,2,3,1,2,5,5,{1,2},{1,2,3});
</div>
<div id="lstnumberx2860" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Demo</span>.<span class="ltx_text ltx_lst_identifier">Record2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r3</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Demo</span>.<span class="ltx_text ltx_lst_identifier">Record2</span>(<span class="ltx_text ltx_lst_identifier">c2</span>=2,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">n2</span>=1,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r1</span>=1,<span class="ltx_text ltx_lst_identifier">r4</span>=4,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r6</span>=1:5,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r7</span>={1});
</div>
</div>
</div>
<div id="S6.p12" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The above example is only used to show the different variants
appearing with prefixes, but it is not very meaningful, because it is
simpler to just use a direct modifier.</span>]</p>
</div>
<section id="casting-to-record" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.6.1 </span>Casting to Record</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p class="ltx_p">A constructor of a record <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span> can be used to cast an instance m of a
<span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">model</span>, <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">block</span>, <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">connector</span> class <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">M</span> to a value of type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span>, provided that for
each component defined in <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span> (that do not have a default value) there is
also a public component defined in <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">M</span> with identical name and type. A
nested record component of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span> is handled as follows, if the corresponding
component of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">M</span> is a <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">model</span>/<span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">block</span>/<span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">connector</span> a nested record constructor is
called – otherwise the component is used directly; and the resulting
call/component is used as argument to the record constructor <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span>. If the
corresponding component of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span> in <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">M</span> is a conditional component, it is an
error. The instance <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">m</span> is given as single (un-named)
argument to the record constructor of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span>. The interpretation is that <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">R</span>(<span class="ltx_text ltx_lst_identifier">m</span>)</span>
is replaced by a record constructor of type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span> where all public
components of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">M</span> that are present in <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span> are assigned to the corresponding
components of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">R</span>. The record cast can be used in vectorized form
according to <a href="#scalar-functions-applied-to-array-arguments" title="12.4.6 Scalar Functions Applied to Array Arguments ‣ 12.4 Function Call ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.4.6</span></a>.</p>
</div>
<div id="S6.SS1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The problem if <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">R</span> would be a conditional component is that the corresponding binding would be illegal since it is not a
connect-statement.</span>]</p>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The record cast operation is uniquely distinguished from a record constructor call, because an argument of the record constructor cannot
be a <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">model</span>, <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">block</span> or <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">connector</span> instance.</span>]</p>
</div>
<div id="S6.SS1.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Y29ubmVjdG9yIEZsYW5nZQogIFJlYWwgcGhpOwogIGZsb3cgUmVhbCB0YXU7CmVuZCBGbGFuZ2U7Cgptb2RlbCBNb2RlbDEKICBSZWFsIG0xOwogIEJvb2xlYW4gYjE7CiAgRmxhbmdlIGZsYW5nZTsKZW5kIE1vZGVsMTsKCm1vZGVsIE1vZGVsMgogIFJlYWwgcjE7CiAgUmVhbCByMjsKICBJbnRlZ2VyIGkyCiAgUGluIHAxLCBwMjsKICBNb2RlbDEgc3ViMTsKICBwcm90ZWN0ZWQKICBJbnRlZ2VyIGkxOwogICRcbGRvdHMkCmVuZCBNb2RlbDI7CgpyZWNvcmQgTXlGbGFuZ2UKICBSZWFsIHRhdTsKZW5kIE15RmxhbmdlOwoKcmVjb3JkIE15UmVjb3JkMQogIEJvb2xlYW4gYjE7CiAgTXlGbGFuZ2UgZmxhbmdlOwplbmQgTXlSZWNvcmQxOwoKcmVjb3JkIE15UmVjb3JkMgogIFJlYWwgcjE7CiAgSW50ZWdlciBpMjsKICBNeVJlY29yZDEgc3ViMTsKZW5kIE15UmVjb3JkMjsKCm1vZGVsIE1vZGVsCiAgTW9kZWwyIHMxOwogIE1vZGVsMiBzMlsyXTsKICBNeVJlY29yZDIgcmVjMSA9IE15UmVjb3JkMihzMSk7CiAgTXlSZWNvcmQyIHJlYzJbMl0gPSBNeVJlY29yZDIoczIpOwogICRcbGRvdHMkCmVuZCBNb2RlbDsKLy8gTW9kZWwgaXMgY29uY2VwdHVhbGx5IG1hcHBlZCB0bwptb2RlbCBNb2RlbEV4cGFuZGVkCiAgTW9kZWwyIHMxOwogIE1vZGVsMiBzMlsyXTsKICBNeVJlY29yZDIgcmVjMSA9IE15UmVjb3JkMihyMT1zMS5yMSwgaTI9czEuaTIsCiAgc3ViMSA9IE15UmVjb3JkMShiMT1zMS5zdWIxLmIxLAogIGZsYW5nZSA9IE15RmxhbmdlKHRhdT1zMS5zdWIxLmZsYW5nZS50YXUpKTsKICBNeVJlY29yZDIgcmVjMlsyXSA9IHtNeVJlY29yZDIocjE9czJbMV0ucjEsIGkyPXMyWzFdLmkyLAogIHN1YjEgPSBNeVJlY29yZDEoYjE9czJbMV0uc3ViMS5iMSwKICBmbGFuZ2UgPSBNeUZsYW5nZSh0YXU9czFbMV0uc3ViMS5mbGFuZ2UudGF1KSksCiAgTXlSZWNvcmQyKHIxPXMyWzJdLnIxLCBpMj1zMlsyXS5pMiwKICBzdWIxID0gTXlSZWNvcmQxKGIxPXMyWzJdLnN1YjEuYjEsCiAgZmxhbmdlID0gTXlGbGFuZ2UodGF1PXMyWzJdLnN1YjEuZmxhbmdlLnRhdSl9OwogICRcbGRvdHMkCmVuZCBNb2RlbEV4cGFuZGVkOw==">⬇</a></div>
<div id="lstnumberx2861" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">connector</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Flange</span>
</div>
<div id="lstnumberx2862" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">phi</span>;
</div>
<div id="lstnumberx2863" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">flow</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">tau</span>;
</div>
<div id="lstnumberx2864" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Flange</span>;
</div>
<div id="lstnumberx2865" class="ltx_listingline">
</div>
<div id="lstnumberx2866" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Model1</span>
</div>
<div id="lstnumberx2867" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">m1</span>;
</div>
<div id="lstnumberx2868" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b1</span>;
</div>
<div id="lstnumberx2869" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Flange</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">flange</span>;
</div>
<div id="lstnumberx2870" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Model1</span>;
</div>
<div id="lstnumberx2871" class="ltx_listingline">
</div>
<div id="lstnumberx2872" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Model2</span>
</div>
<div id="lstnumberx2873" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r1</span>;
</div>
<div id="lstnumberx2874" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r2</span>;
</div>
<div id="lstnumberx2875" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i2</span>
</div>
<div id="lstnumberx2876" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Pin</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p2</span>;
</div>
<div id="lstnumberx2877" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Model1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sub1</span>;
</div>
<div id="lstnumberx2878" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">protected</span>
</div>
<div id="lstnumberx2879" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i1</span>;
</div>
<div id="lstnumberx2880" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2880.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2881" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Model2</span>;
</div>
<div id="lstnumberx2882" class="ltx_listingline">
</div>
<div id="lstnumberx2883" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyFlange</span>
</div>
<div id="lstnumberx2884" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">tau</span>;
</div>
<div id="lstnumberx2885" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyFlange</span>;
</div>
<div id="lstnumberx2886" class="ltx_listingline">
</div>
<div id="lstnumberx2887" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord1</span>
</div>
<div id="lstnumberx2888" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b1</span>;
</div>
<div id="lstnumberx2889" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyFlange</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">flange</span>;
</div>
<div id="lstnumberx2890" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord1</span>;
</div>
<div id="lstnumberx2891" class="ltx_listingline">
</div>
<div id="lstnumberx2892" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span>
</div>
<div id="lstnumberx2893" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">r1</span>;
</div>
<div id="lstnumberx2894" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i2</span>;
</div>
<div id="lstnumberx2895" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyRecord1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sub1</span>;
</div>
<div id="lstnumberx2896" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span>;
</div>
<div id="lstnumberx2897" class="ltx_listingline">
</div>
<div id="lstnumberx2898" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Model</span>
</div>
<div id="lstnumberx2899" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Model2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">s1</span>;
</div>
<div id="lstnumberx2900" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Model2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">s2</span>[2];
</div>
<div id="lstnumberx2901" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">rec1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span>(<span class="ltx_text ltx_lst_identifier">s1</span>);
</div>
<div id="lstnumberx2902" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">rec2</span>[2]<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span>(<span class="ltx_text ltx_lst_identifier">s2</span>);
</div>
<div id="lstnumberx2903" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2903.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2904" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Model</span>;
</div>
<div id="lstnumberx2905" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Model<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>conceptually<span class="ltx_text ltx_lst_space"> </span>mapped<span class="ltx_text ltx_lst_space"> </span>to</span>
</div>
<div id="lstnumberx2906" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelExpanded</span>
</div>
<div id="lstnumberx2907" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Model2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">s1</span>;
</div>
<div id="lstnumberx2908" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Model2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">s2</span>[2];
</div>
<div id="lstnumberx2909" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">rec1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span>(<span class="ltx_text ltx_lst_identifier">r1</span>=<span class="ltx_text ltx_lst_identifier">s1</span>.<span class="ltx_text ltx_lst_identifier">r1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i2</span>=<span class="ltx_text ltx_lst_identifier">s1</span>.<span class="ltx_text ltx_lst_identifier">i2</span>,
</div>
<div id="lstnumberx2910" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">sub1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord1</span>(<span class="ltx_text ltx_lst_identifier">b1</span>=<span class="ltx_text ltx_lst_identifier">s1</span>.<span class="ltx_text ltx_lst_identifier">sub1</span>.<span class="ltx_text ltx_lst_identifier">b1</span>,
</div>
<div id="lstnumberx2911" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">flange</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyFlange</span>(<span class="ltx_text ltx_lst_identifier">tau</span>=<span class="ltx_text ltx_lst_identifier">s1</span>.<span class="ltx_text ltx_lst_identifier">sub1</span>.<span class="ltx_text ltx_lst_identifier">flange</span>.<span class="ltx_text ltx_lst_identifier">tau</span>));
</div>
<div id="lstnumberx2912" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">rec2</span>[2]<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_identifier">MyRecord2</span>(<span class="ltx_text ltx_lst_identifier">r1</span>=<span class="ltx_text ltx_lst_identifier">s2</span>[1].<span class="ltx_text ltx_lst_identifier">r1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i2</span>=<span class="ltx_text ltx_lst_identifier">s2</span>[1].<span class="ltx_text ltx_lst_identifier">i2</span>,
</div>
<div id="lstnumberx2913" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">sub1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord1</span>(<span class="ltx_text ltx_lst_identifier">b1</span>=<span class="ltx_text ltx_lst_identifier">s2</span>[1].<span class="ltx_text ltx_lst_identifier">sub1</span>.<span class="ltx_text ltx_lst_identifier">b1</span>,
</div>
<div id="lstnumberx2914" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">flange</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyFlange</span>(<span class="ltx_text ltx_lst_identifier">tau</span>=<span class="ltx_text ltx_lst_identifier">s1</span>[1].<span class="ltx_text ltx_lst_identifier">sub1</span>.<span class="ltx_text ltx_lst_identifier">flange</span>.<span class="ltx_text ltx_lst_identifier">tau</span>)),
</div>
<div id="lstnumberx2915" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyRecord2</span>(<span class="ltx_text ltx_lst_identifier">r1</span>=<span class="ltx_text ltx_lst_identifier">s2</span>[2].<span class="ltx_text ltx_lst_identifier">r1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i2</span>=<span class="ltx_text ltx_lst_identifier">s2</span>[2].<span class="ltx_text ltx_lst_identifier">i2</span>,
</div>
<div id="lstnumberx2916" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">sub1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyRecord1</span>(<span class="ltx_text ltx_lst_identifier">b1</span>=<span class="ltx_text ltx_lst_identifier">s2</span>[2].<span class="ltx_text ltx_lst_identifier">sub1</span>.<span class="ltx_text ltx_lst_identifier">b1</span>,
</div>
<div id="lstnumberx2917" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">flange</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyFlange</span>(<span class="ltx_text ltx_lst_identifier">tau</span>=<span class="ltx_text ltx_lst_identifier">s2</span>[2].<span class="ltx_text ltx_lst_identifier">sub1</span>.<span class="ltx_text ltx_lst_identifier">flange</span>.<span class="ltx_text ltx_lst_identifier">tau</span>)};
</div>
<div id="lstnumberx2918" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2918.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2919" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelExpanded</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="declaring-derivatives-of-functions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">12.7 </span>Declaring Derivatives of Functions</h2>

<div id="S7.p1" class="ltx_para">
<p class="ltx_p">Derivatives of functions can be declared explicitly using the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">derivative</span>
annotation, see <a href="#using-the-derivative-annotation" title="12.7.1 Using the Derivative Annotation ‣ 12.7 Declaring Derivatives of Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.7.1</span></a>, whereas a function can be defined as a
partial derivative of another function using the <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">der</span>-operator in a short
function definition, see <a href="#partial-derivatives-of-functions" title="12.7.2 Partial Derivatives of Functions ‣ 12.7 Declaring Derivatives of Functions ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.7.2</span></a>.
</p>
</div>
<section id="using-the-derivative-annotation" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.7.1 </span>Using the Derivative Annotation</h3>

<div id="S7.SS1.p1" class="ltx_para">
<p class="ltx_p">A function declaration can have an annotation <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">derivative</span> specifying the derivative function or preferably, for a function written in Modelica, use the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">smoothOrder</span> annotation to indicate that the tool can construct the derivative function automatically, <a href="annotations.html#annotations-for-code-generation" title="18.3 Annotations for Code Generation ‣ Chapter 18 Annotations ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">18.3</span></a>.
The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">derivative</span> annotation can influence simulation time and accuracy and can be applied to both functions written in Modelica and to external functions.
A <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">derivative</span> annotation can state that it is only valid under certain restrictions on the input arguments.
These restrictions are defined using the following optional attributes: <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">order</span> (only a restriction if <math id="S7.SS1.p1.m1" class="ltx_Math" alttext="{\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame%
\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language\lst@@@set@frame%
\normalsize{\@listingGroup{ltx_lst_identifier}{order}}}}}}&gt;1" display="inline"><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">order</mtext><mo>&gt;</mo><mn>1</mn></mrow></math>, the default for <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">order</span> is 1), <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">noDerivative</span>, and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">zeroDerivative</span>.
The given derivative-function must be a valid derivative if these restrictions are satisfied, and can thus be used to compute the derivative in those cases.
There may be multiple restrictions on the derivative, in which case they must all be satisfied. The restrictions also imply that some derivatives of some inputs are excluded from the call of the derivative (since they are not necessary).
A function may supply multiple derivative functions subject to different restrictions, the first one that can be used (i.e. satisfying the restrictions) will be used for each call.</p>
</div>
<div id="S7.SS1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">This means that the most restrictive derivatives should be written first.</span>]</p>
</div>
<div id="S7.SS1.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
The following model illustrates the requirement that a provided derivative must be valid.
That <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">fder</span> is a valid derivative of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">f</span> means that it can be used safely to compute <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">x2</span> by numeric integration: the function value, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">x1</span>, will up to numerical precision be matched by the integral of the derivative, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">x2</span>.</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZgogIGlucHV0IFJlYWwgeDsKICBvdXRwdXQgUmVhbCB5OwogIGFubm90YXRpb24oZGVyaXZhdGl2ZSA9IGZkZXIpOwogIGV4dGVybmFsICJDIjsKZW5kIGY7Cm1vZGVsIE0KICBpbnB1dCBSZWFsIHU7CiAgUmVhbCB4MSAiRGlyZWN0bHkgZnJvbSBmdW5jdGlvbiI7CiAgUmVhbCB4MiAiSW50ZWdyYXRlZCBmcm9tIGRlcml2YXRpdmUiOwplcXVhdGlvbgogIHgxID0gZih1KTsKICBkZXIoeDIpID0gZGVyKHgxKTsKaW5pdGlhbCBlcXVhdGlvbgogIHgyID0geDE7CmVuZCBNOw==">⬇</a></div>
<div id="lstnumberx2920" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>
</div>
<div id="lstnumberx2921" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2922" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx2923" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fder</span>);
</div>
<div id="lstnumberx2924" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>;
</div>
<div id="lstnumberx2925" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>;
</div>
<div id="lstnumberx2926" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">M</span>
</div>
<div id="lstnumberx2927" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u</span>;
</div>
<div id="lstnumberx2928" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Directly<span class="ltx_text ltx_lst_space"> </span>from<span class="ltx_text ltx_lst_space"> </span>function"</span>;
</div>
<div id="lstnumberx2929" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Integrated<span class="ltx_text ltx_lst_space"> </span>from<span class="ltx_text ltx_lst_space"> </span>derivative"</span>;
</div>
<div id="lstnumberx2930" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx2931" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">x1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>(<span class="ltx_text ltx_lst_identifier">u</span>);
</div>
<div id="lstnumberx2932" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">der</span>(<span class="ltx_text ltx_lst_identifier">x2</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">der</span>(<span class="ltx_text ltx_lst_identifier">x1</span>);
</div>
<div id="lstnumberx2933" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">initial</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx2934" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">x2</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x1</span>;
</div>
<div id="lstnumberx2935" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">M</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Note that tools are not required to use the provided derivative, and might solve the equations completely without numeric integration.</span>]</p>
</div>
<div id="S7.SS1.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Use of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">order</span> to specify a second order derivative:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vMCBhbm5vdGF0aW9uKGRlcml2YXRpdmUgPSBmb28xKTsKZW5kIGZvbzA7CgpmdW5jdGlvbiBmb28xIGFubm90YXRpb24oZGVyaXZhdGl2ZShvcmRlcj0yKSA9IGZvbzIpOwplbmQgZm9vMTsKCmZ1bmN0aW9uIGZvbzIgZW5kIGZvbzI7">⬇</a></div>
<div id="lstnumberx2936" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo0</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo1</span>);
</div>
<div id="lstnumberx2937" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo0</span>;
</div>
<div id="lstnumberx2938" class="ltx_listingline">
</div>
<div id="lstnumberx2939" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo1</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span>(<span class="ltx_text ltx_lst_identifier">order</span>=2)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo2</span>);
</div>
<div id="lstnumberx2940" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo1</span>;
</div>
<div id="lstnumberx2941" class="ltx_listingline">
</div>
<div id="lstnumberx2942" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo2</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S7.SS1.p5" class="ltx_para">
<p class="ltx_p">The inputs to the derivative function of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">order</span> 1 are constructed as
follows:</p>
<ul id="S7.I1" class="ltx_itemize">
<li id="S7.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I1.i1.p1" class="ltx_para">
<p class="ltx_p">First are all inputs to the original function, and after all them we
will in order append one derivative for each input containing reals.
These common inputs must have the same name, type, and declaration
order for the function and its derivative.</p>
</div>
</li>
<li id="S7.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I1.i2.p1" class="ltx_para">
<p class="ltx_p">The outputs are constructed by starting with an empty list and then in
order appending one derivative for each output containing reals. The
outputs must have the same type and declaration order for the function
and its derivative.</p>
</div>
</li>
</ul>
</div>
<div id="S7.SS1.p6" class="ltx_para">
<p class="ltx_p">If the Modelica function call is a <math id="S7.SS1.p6.m1" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math>th derivative (<math id="S7.SS1.p6.m2" class="ltx_Math" alttext="n\geq 1" display="inline"><mrow><mi>n</mi><mo>≥</mo><mn>1</mn></mrow></math>), i.e. this function call has been derived from an <math id="S7.SS1.p6.m3" class="ltx_Math" alttext="(n-1)" display="inline"><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>-</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></math>th derivative by differentiation inside the tool, an <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span>(<span class="ltx_text ltx_lst_identifier">order</span>=<math id="S7.SS1.p6.m4" class="ltx_Math" alttext="n+1" display="inline"><mrow><mi mathbackground="#FFFFFF">n</mi><mo mathbackground="#FFFFFF">+</mo><mn mathbackground="#FFFFFF">1</mn></mrow></math>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="S7.SS1.p6.m5" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span>, specifies the <math id="S7.SS1.p6.m6" class="ltx_Math" alttext="(n+1)" display="inline"><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></math>th derivative, and the <math id="S7.SS1.p6.m7" class="ltx_Math" alttext="(n+1)" display="inline"><mrow><mo stretchy="false">(</mo><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mo stretchy="false">)</mo></mrow></math>th derivative call is constructed as follows:</p>
<ul id="S7.I2" class="ltx_itemize">
<li id="S7.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I2.i1.p1" class="ltx_para">
<p class="ltx_p">The input arguments are appended with the (n+1)th derivative, which
are constructed in order from the <math id="S7.I2.i1.p1.m1" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math>th <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">order</span> derivatives.</p>
</div>
</li>
<li id="S7.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I2.i2.p1" class="ltx_para">
<p class="ltx_p">The output arguments are similar to the output argument for the <math id="S7.I2.i2.p1.m1" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math>th
derivative, but each output is one higher in derivative order. The
outputs must have the same type and declaration order for the function
and its derivative.</p>
</div>
</li>
</ul>
</div>
<div id="S7.SS1.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The restriction that only the result of differentiation can use
higher-order derivatives ensures that the derivatives <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">x</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">der_x</span>,
… are in fact derivatives of each other. Without that restriction
we would have both <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword ltx_font_upright" style="color:#003378;">der</span><span class="ltx_text ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">x_der</span> as inputs (or perform advanced
tests to verify that they are the same).</span>]</p>
</div>
<div id="S7.SS1.p8" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Given the declarations</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vMAogICRcbGRvdHMkCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IEJvb2xlYW4gbGluZWFyOwogIGlucHV0ICRcbGRvdHMkOwogIG91dHB1dCBSZWFsIHk7CiAgJFxsZG90cyQKICBhbm5vdGF0aW9uKGRlcml2YXRpdmUgPSBmb28xKTsKZW5kIGZvbzA7CgpmdW5jdGlvbiBmb28xCiAgJFxsZG90cyQKICBpbnB1dCBSZWFsIHg7CiAgaW5wdXQgQm9vbGVhbiBsaW5lYXI7CiAgaW5wdXQgJFxsZG90cyQ7CiAgaW5wdXQgUmVhbCBkZXJfeDsKICAkXGxkb3RzJAogIG91dHB1dCBSZWFsIGRlcl95OwogICRcbGRvdHMkCiAgYW5ub3RhdGlvbihkZXJpdmF0aXZlKG9yZGVyPTIpID0gZm9vMik7CmVuZCBmb28xOwoKZnVuY3Rpb24gZm9vMgogICRcbGRvdHMkCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IEJvb2xlYW4gbGluZWFyOwogIGlucHV0ICRcbGRvdHMkOwogIGlucHV0IFJlYWwgZGVyX3g7CiAgJFxsZG90cyQ7CiAgaW5wdXQgUmVhbCBkZXJfMl94OwogICRcbGRvdHMkCiAgb3V0cHV0IFJlYWwgZGVyXzJfeTsKICAkXGxkb3RzJA==">⬇</a></div>
<div id="lstnumberx2943" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo0</span>
</div>
<div id="lstnumberx2944" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2944.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2945" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2946" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">linear</span>;
</div>
<div id="lstnumberx2947" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2947.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>;
</div>
<div id="lstnumberx2948" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx2949" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2949.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2950" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo1</span>);
</div>
<div id="lstnumberx2951" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo0</span>;
</div>
<div id="lstnumberx2952" class="ltx_listingline">
</div>
<div id="lstnumberx2953" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo1</span>
</div>
<div id="lstnumberx2954" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2954.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2955" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2956" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">linear</span>;
</div>
<div id="lstnumberx2957" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2957.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>;
</div>
<div id="lstnumberx2958" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">der_x</span>;
</div>
<div id="lstnumberx2959" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2959.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2960" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">der_y</span>;
</div>
<div id="lstnumberx2961" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2961.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2962" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span>(<span class="ltx_text ltx_lst_identifier">order</span>=2)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo2</span>);
</div>
<div id="lstnumberx2963" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo1</span>;
</div>
<div id="lstnumberx2964" class="ltx_listingline">
</div>
<div id="lstnumberx2965" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo2</span>
</div>
<div id="lstnumberx2966" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2966.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2967" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx2968" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">linear</span>;
</div>
<div id="lstnumberx2969" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx2969.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>;
</div>
<div id="lstnumberx2970" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">der_x</span>;
</div>
<div id="lstnumberx2971" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2971.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>;
</div>
<div id="lstnumberx2972" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">der_2_x</span>;
</div>
<div id="lstnumberx2973" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2973.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2974" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">der_2_y</span>;
</div>
<div id="lstnumberx2975" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2975.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">the equation
</span></p>
<table id="A4.S14.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex1.m1" class="ltx_Math" alttext="\displaystyle(\ldots,\,y(t),\,\ldots)" display="inline"><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mrow><mi>y</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo stretchy="false">)</mo></mrow></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex1.m2" class="ltx_Math" alttext="{\displaystyle=\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_identifier}{foo0}}}}}}(%
\ldots,\,x(t),\,b,\ldots)" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">foo0</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mrow><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo rspace="4.2pt">,</mo><mi>b</mi><mo>,</mo><mi mathvariant="normal">…</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody><tr class="ltx_eqn_row ltx_align_baseline"><td class="ltx_eqn_cell ltx_align_left" style="white-space:normal;" colspan="5"><span class="ltx_text ltx_font_italic">implies that:</span></td></tr></tbody>
<tbody id="Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex3.m1" class="ltx_Math" alttext="\displaystyle(\ldots,\,\frac{\mathrm{d}y(t)}{\mathrm{d}t},\,\ldots)" display="inline"><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>y</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo stretchy="false">)</mo></mrow></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex3.m2" class="ltx_Math" alttext="{\displaystyle=\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_identifier}{foo1}}}}}}(%
\ldots,\,x(t),\,b,\,\ldots,\,\ldots,\,\frac{\mathrm{d}x(t)}{\mathrm{d}t},\,\ldots)" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">foo1</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mrow><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo rspace="4.2pt">,</mo><mi>b</mi><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex4.m1" class="ltx_Math" alttext="\displaystyle(\ldots,\,\frac{\mathrm{d}^{2}y(t)}{\mathrm{d}t^{2}},\,\ldots)" display="inline"><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mstyle displaystyle="true"><mfrac><mrow><msup><mi mathvariant="normal">d</mi><mn>2</mn></msup><mo>⁢</mo><mi>y</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac></mstyle><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo stretchy="false">)</mo></mrow></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex4.m2" class="ltx_Math" alttext="{\displaystyle=\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_identifier}{foo2}}}}}}(%
\ldots,\,x(t),\,b,\,\ldots,\,\frac{\mathrm{d}x(t)}{\mathrm{d}t},\,\ldots,\,%
\ldots,\,\frac{\mathrm{d}^{2}x(t)}{\mathrm{d}t^{2}},\,\ldots)" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">foo2</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mrow><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo rspace="4.2pt">,</mo><mi>b</mi><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo rspace="4.2pt">,</mo><mstyle displaystyle="true"><mfrac><mrow><msup><mi mathvariant="normal">d</mi><mn>2</mn></msup><mo>⁢</mo><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><msup><mi>t</mi><mn>2</mn></msup></mrow></mfrac></mstyle><mo rspace="4.2pt">,</mo><mi mathvariant="normal">…</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p">]</p>
</div>
<div id="S7.SS1.p9" class="ltx_para">
<p class="ltx_p">An input or output to the function may be any simple type (<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Real</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Boolean</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Integer</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">String</span> and enumeration types) or a record.
For a record containing <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Real</span> values, the corresponding derivative uses a derivative record that only contains the real-predefined types and sub-records containing reals (handled recursively) from the original record.
When using <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">smoothOrder</span>, then the derivative record is automatically constructed.
The function must have at least one input containing reals.
The output list of the derivative function shall not be empty.</p>
</div>
<div id="S7.SS1.p10" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Here is one example use case with records mixing <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span> and
non-<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span> as inputs and outputs:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cmVjb3JkIFRoZXJtb2R5bmFtaWNTdGF0ZSAiVGhlcm1vZHluYW1pYyBzdGF0ZSIKICBTcGVjaWZpY0VudGhhbHB5IGggIlNwZWNpZmljIGVudGhhbHB5IjsKICBBYnNvbHV0ZVByZXNzdXJlIHAgIlByZXNzdXJlIjsKICBJbnRlZ2VyIHBoYXNlKG1pbj0xLCBtYXg9Miwgc3RhcnQ9MSk7CmVuZCBUaGVybW9keW5hbWljU3RhdGU7CgpyZWNvcmQgVGhlcm1vRHluYW1pY1N0YXRlX2RlciAiRGVyaXZhdGl2ZSIKICBTcGVjaWZpY0VudGhhbHB5RGVyaXZhdGl2ZSBoICJTcGVjaWZpYyBlbnRoYWxwaHkgZGVyaXZhdGl2ZSI7CiAgUHJlc3N1cmVEZXJpdmF0aXZlIHAgIlByZXNzdXJlIGRlcml2YXRpdmUiOwogIC8vIEludGVnZXIgaW5wdXQgaXMgc2tpcHBlZAplbmQgVGhlcm1vZHluYW1pY1N0YXRlX2RlcjsKCmZ1bmN0aW9uIGRlbnNpdHkKICBpbnB1dCBUaGVybW9keW5hbWljU3RhdGUgc3RhdGUgIlRoZXJtb2R5bmFtaWMgc3RhdGUiOwogIG91dHB1dCBEZW5zaXR5IGQgIkRlbnNpdHkiOwphbGdvcml0aG0KICAkXGxkb3RzJAogIGFubm90YXRpb24oZGVyaXZhdGl2ZSA9IGRlbnNpdHlfZGVyKTsKZW5kIGRlbnNpdHk7CgpmdW5jdGlvbiBkZW5zaXR5X2RlcgogIGlucHV0IFRoZXJtb2R5bmFtaWNTdGF0ZSBzdGF0ZSAiVGhlcm1vZHluYW1pYyBzdGF0ZSI7CiAgaW5wdXQgVGhlcm1vZHluYW1pY1N0YXRlX2RlciBzdGF0ZV9kZXI7CiAgb3V0cHV0IERlbnNpdHlEZXJpdmF0aXZlIGQgIkRlbnNpdHkgZGVyaXZhdGl2ZSI7CmFsZ29yaXRobQogICRcbGRvdHMkCmVuZCBkZW5zaXR5X2RlcjsKCmZ1bmN0aW9uIHNldFN0YXRlX3BoCiAgaW5wdXQgUHJlc3N1cmUgcDsKICBpbnB1dCBTcGVjaWZpY0VudGhhbHB5IGg7CiAgaW5wdXQgSW50ZWdlciBwaGFzZSA9IDA7CiAgb3V0cHV0IFRoZXJtb2R5bmFtaWNTdGF0ZSBzdGF0ZTsKYWxnb3JpdGhtCiAgJFxsZG90cyQKICBhbm5vdGF0aW9uKGRlcml2YXRpdmUgPSBzZXRTdGF0ZV9waF9kZXIpOwplbmQgc2V0U3RhdGVfcGg7CgpmdW5jdGlvbiBzZXRTdGF0ZV9waF9kZXIKICBpbnB1dCBQcmVzc3VyZSBwOwogIGlucHV0IFNwZWNpZmljRW50aGFscHkgaDsKICBpbnB1dCBJbnRlZ2VyIHBoYXNlOwogIGlucHV0IFByZXNzdXJlRGVyaXZhdGl2ZSBwX2RlcjsKICBpbnB1dCBTcGVjaWZpY0VudGhhbHB5RGVyaXZhdGl2ZSBoX2RlcjsKICBvdXRwdXQgVGhlcm1vZHluYW1pY1N0YXRlX2RlciBzdGF0ZV9kZXI7CmFsZ29yaXRobQogICRcbGRvdHMkCmVuZCBzZXRTdGF0ZV9waF9kZXI7CgpUaGVybW9keW5hbWljU3RhdGUgc3RhdGUxID0gc2V0U3RhdGVfcGgocD0kXGxkb3RzJCwgaD0kXGxkb3RzJCwgcGhhc2U9JFxsZG90cyQpOwpEZW5zaXR5IHJobzE9ZGVuc2l0eShzdGF0ZTEpOwpEZW5zaXR5RGVyaXZhdGl2ZSBkX3JobzE9ZGVyKHJobzEpOwpEZW5zaXR5IHJobzI9ZGVuc2l0eShzZXRTdGF0ZV9waChwPSRcbGRvdHMkLCBoPSRcbGRvdHMkLCBwaGFzZT0kXGxkb3RzJCkpOwpEZW5zaXR5RGVyaXZhdGl2ZSBkX3JobzI9ZGVyKHJobzIpOw==">⬇</a></div>
<div id="lstnumberx2976" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ThermodynamicState</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Thermodynamic<span class="ltx_text ltx_lst_space"> </span>state"</span>
</div>
<div id="lstnumberx2977" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">SpecificEnthalpy</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Specific<span class="ltx_text ltx_lst_space"> </span>enthalpy"</span>;
</div>
<div id="lstnumberx2978" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">AbsolutePressure</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Pressure"</span>;
</div>
<div id="lstnumberx2979" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">phase</span>(<span class="ltx_text ltx_lst_identifier">min</span>=1,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">max</span>=2,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">start</span>=1);
</div>
<div id="lstnumberx2980" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ThermodynamicState</span>;
</div>
<div id="lstnumberx2981" class="ltx_listingline">
</div>
<div id="lstnumberx2982" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ThermoDynamicState_der</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Derivative"</span>
</div>
<div id="lstnumberx2983" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">SpecificEnthalpyDerivative</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Specific<span class="ltx_text ltx_lst_space"> </span>enthalphy<span class="ltx_text ltx_lst_space"> </span>derivative"</span>;
</div>
<div id="lstnumberx2984" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">PressureDerivative</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Pressure<span class="ltx_text ltx_lst_space"> </span>derivative"</span>;
</div>
<div id="lstnumberx2985" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Integer<span class="ltx_text ltx_lst_space"> </span>input<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>skipped</span>
</div>
<div id="lstnumberx2986" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ThermodynamicState_der</span>;
</div>
<div id="lstnumberx2987" class="ltx_listingline">
</div>
<div id="lstnumberx2988" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">density</span>
</div>
<div id="lstnumberx2989" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ThermodynamicState</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">state</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Thermodynamic<span class="ltx_text ltx_lst_space"> </span>state"</span>;
</div>
<div id="lstnumberx2990" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Density</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Density"</span>;
</div>
<div id="lstnumberx2991" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx2992" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx2992.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx2993" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">density_der</span>);
</div>
<div id="lstnumberx2994" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">density</span>;
</div>
<div id="lstnumberx2995" class="ltx_listingline">
</div>
<div id="lstnumberx2996" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">density_der</span>
</div>
<div id="lstnumberx2997" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ThermodynamicState</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">state</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Thermodynamic<span class="ltx_text ltx_lst_space"> </span>state"</span>;
</div>
<div id="lstnumberx2998" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ThermodynamicState_der</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">state_der</span>;
</div>
<div id="lstnumberx2999" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">DensityDerivative</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Density<span class="ltx_text ltx_lst_space"> </span>derivative"</span>;
</div>
<div id="lstnumberx3000" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3001" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3001.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3002" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">density_der</span>;
</div>
<div id="lstnumberx3003" class="ltx_listingline">
</div>
<div id="lstnumberx3004" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">setState_ph</span>
</div>
<div id="lstnumberx3005" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Pressure</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p</span>;
</div>
<div id="lstnumberx3006" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">SpecificEnthalpy</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span>;
</div>
<div id="lstnumberx3007" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">phase</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0;
</div>
<div id="lstnumberx3008" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ThermodynamicState</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">state</span>;
</div>
<div id="lstnumberx3009" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3010" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3010.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3011" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">setState_ph_der</span>);
</div>
<div id="lstnumberx3012" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">setState_ph</span>;
</div>
<div id="lstnumberx3013" class="ltx_listingline">
</div>
<div id="lstnumberx3014" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">setState_ph_der</span>
</div>
<div id="lstnumberx3015" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Pressure</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p</span>;
</div>
<div id="lstnumberx3016" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">SpecificEnthalpy</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span>;
</div>
<div id="lstnumberx3017" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">phase</span>;
</div>
<div id="lstnumberx3018" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">PressureDerivative</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p_der</span>;
</div>
<div id="lstnumberx3019" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">SpecificEnthalpyDerivative</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h_der</span>;
</div>
<div id="lstnumberx3020" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ThermodynamicState_der</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">state_der</span>;
</div>
<div id="lstnumberx3021" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3022" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3022.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3023" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">setState_ph_der</span>;
</div>
<div id="lstnumberx3024" class="ltx_listingline">
</div>
<div id="lstnumberx3025" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">ThermodynamicState</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">state1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">setState_ph</span>(<span class="ltx_text ltx_lst_identifier">p</span>=<math id="lstnumberx3025.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span>=<math id="lstnumberx3025.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">phase</span>=<math id="lstnumberx3025.m3" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>);
</div>
<div id="lstnumberx3026" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">Density</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">rho1</span>=<span class="ltx_text ltx_lst_identifier">density</span>(<span class="ltx_text ltx_lst_identifier">state1</span>);
</div>
<div id="lstnumberx3027" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">DensityDerivative</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d_rho1</span>=<span class="ltx_text ltx_lst_keyword" style="color:#003378;">der</span>(<span class="ltx_text ltx_lst_identifier">rho1</span>);
</div>
<div id="lstnumberx3028" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">Density</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">rho2</span>=<span class="ltx_text ltx_lst_identifier">density</span>(<span class="ltx_text ltx_lst_identifier">setState_ph</span>(<span class="ltx_text ltx_lst_identifier">p</span>=<math id="lstnumberx3028.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span>=<math id="lstnumberx3028.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">phase</span>=<math id="lstnumberx3028.m3" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>));
</div>
<div id="lstnumberx3029" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">DensityDerivative</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d_rho2</span>=<span class="ltx_text ltx_lst_keyword" style="color:#003378;">der</span>(<span class="ltx_text ltx_lst_identifier">rho2</span>);
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S7.SS1.p11" class="ltx_para">
<ul id="S7.I3" class="ltx_itemize">
<li id="S7.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I3.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_language_grammar ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_italic">zeroDerivative</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="S7.I3.i1.p1.m1" class="ltx_Math" alttext="\mathit{inputVar}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑖𝑛𝑝𝑢𝑡𝑉𝑎𝑟</mi><mn mathbackground="#FFFFFF">1</mn></msub></math><span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_space"> </span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">zeroDerivative</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="S7.I3.i1.p1.m2" class="ltx_Math" alttext="\mathit{inputVar}_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑖𝑛𝑝𝑢𝑡𝑉𝑎𝑟</mi><mn mathbackground="#FFFFFF">2</mn></msub></math><span class="ltx_text ltx_lst_space"> </span>}</span></p>
</div>
</li>
</ul>
</div>
<div id="S7.SS1.p12" class="ltx_para">
<p class="ltx_p">The derivative function is only valid if <math id="S7.SS1.p12.m1" class="ltx_Math" alttext="\mathit{inputVar}_{1}" display="inline"><msub><mi>𝑖𝑛𝑝𝑢𝑡𝑉𝑎𝑟</mi><mn>1</mn></msub></math> (and <math id="S7.SS1.p12.m2" class="ltx_Math" alttext="\mathit{inputVar}_{2}" display="inline"><msub><mi>𝑖𝑛𝑝𝑢𝑡𝑉𝑎𝑟</mi><mn>2</mn></msub></math> etc.) are independent of the variables the function call is differentiated with respect to (i.e. that the derivative of <math id="S7.SS1.p12.m3" class="ltx_Math" alttext="\mathit{inputVar}_{1}" display="inline"><msub><mi>𝑖𝑛𝑝𝑢𝑡𝑉𝑎𝑟</mi><mn>1</mn></msub></math> is zero).
The derivative of <math id="S7.SS1.p12.m4" class="ltx_Math" alttext="\mathit{inputVar}_{1}" display="inline"><msub><mi>𝑖𝑛𝑝𝑢𝑡𝑉𝑎𝑟</mi><mn>1</mn></msub></math> (and <math id="S7.SS1.p12.m5" class="ltx_Math" alttext="\mathit{inputVar}_{2}" display="inline"><msub><mi>𝑖𝑛𝑝𝑢𝑡𝑉𝑎𝑟</mi><mn>2</mn></msub></math> etc.) are excluded from the argument list of the derivative-function.
If the derivative-function also specifies a derivative the common variables should have consistent <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">zeroDerivative</span>.</p>
</div>
<div id="S7.SS1.p13" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Assume that function <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">f</span> takes a matrix and a scalar.
Since the matrix argument is usually a parameter expression it is then
useful to define the function as follows (the additional derivative =
<span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">fGeneralDer</span> is optional and can be used when the derivative of
the matrix or offset is non-zero). Note that the derivative annotation of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">fDer</span> must specify
<span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">zeroDerivative</span> for both <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">y</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">offset</span> as below, but the derivative annotation of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">fGeneralDer</span> shall not have
<span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">zeroDerivative</span> for either of them (it may specify <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">zeroDerivative</span> for <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">x_der</span>,
<span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">y_der</span>, or <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">offset_der</span>).</span></p>
</div>
<div id="S7.SS1.p14" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZiAiU2ltcGxlIHRhYmxlIGxvb2t1cCIKICBpbnB1dCBSZWFsIHg7CiAgaW5wdXQgUmVhbCB5WzosIDJdOwogIGlucHV0IFJlYWwgb2Zmc2V0ICJTaG9ydGVuZWQgdG8gbyBiZWxvdyI7CiAgb3V0cHV0IFJlYWwgejsKYWxnb3JpdGhtCiAgJFxsZG90cyQKICBhbm5vdGF0aW9uKGRlcml2YXRpdmUoemVyb0Rlcml2YXRpdmU9eSwgemVyb0Rlcml2YXRpdmU9b2Zmc2V0KSA9IGZEZXIsCiAgICAgICAgICAgICBkZXJpdmF0aXZlID0gZkdlbmVyYWxEZXIpOwplbmQgZjsKCmZ1bmN0aW9uIGZEZXIgIkRlcml2YXRpdmUgb2Ygc2ltcGxlIHRhYmxlIGxvb2t1cCIKICBpbnB1dCBSZWFsIHg7CiAgaW5wdXQgUmVhbCB5WzosIDJdOwogIGlucHV0IFJlYWwgb2Zmc2V0OwogIGlucHV0IFJlYWwgeF9kZXI7CiAgb3V0cHV0IFJlYWwgel9kZXI7CmFsZ29yaXRobQogICRcbGRvdHMkCiAgYW5ub3RhdGlvbigKICAgIGRlcml2YXRpdmUoemVyb0Rlcml2YXRpdmU9eSwgemVyb0Rlcml2YXRpdmU9b2Zmc2V0LCBvcmRlcj0yKSA9IGZEZXIyKTsKZW5kIGZEZXI7CgpmdW5jdGlvbiBmRGVyMiAiU2Vjb25kIGRlcml2YXRpdmUgb2Ygc2ltcGxlIHRhYmxlIGxvb2t1cCIKICBpbnB1dCBSZWFsIHg7CiAgaW5wdXQgUmVhbCB5WzosIDJdOwogIGlucHV0IFJlYWwgb2Zmc2V0OwogIGlucHV0IFJlYWwgeF9kZXI7CiAgaW5wdXQgUmVhbCB4X2RlcjI7CiAgb3V0cHV0IFJlYWwgel9kZXIyOwphbGdvcml0aG0KICAkXGxkb3RzJAplbmQgZkRlcjI7CgpmdW5jdGlvbiBmR2VuZXJhbERlciAiRGVyaXZhdGl2ZSBvZiB0YWJsZSBsb29rdXAgdGFraW5nCmludG8gYWNjb3VudCB2YXJ5aW5nIHRhYmxlcyIKICBpbnB1dCBSZWFsIHg7CiAgaW5wdXQgUmVhbCB5WzosIDJdOwogIGlucHV0IFJlYWwgb2Zmc2V0OwogIGlucHV0IFJlYWwgeF9kZXI7CiAgaW5wdXQgUmVhbCB5X2Rlcls6LCAyXTsKICBpbnB1dCBSZWFsIG9mZnNldF9kZXI7CiAgb3V0cHV0IFJlYWwgel9kZXI7CmFsZ29yaXRobQogICRcbGRvdHMkCiAgLy9hbm5vdGF0aW9uKGRlcml2YXRpdmUob3JkZXI9MikgPSBmR2VuZXJhbERlcjIpOwplbmQgZkdlbmVyYWxEZXI7">⬇</a></div>
<div id="lstnumberx3030" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Simple<span class="ltx_text ltx_lst_space"> </span>table<span class="ltx_text ltx_lst_space"> </span>lookup"</span>
</div>
<div id="lstnumberx3031" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3032" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>[:,<span class="ltx_text ltx_lst_space"> </span>2];
</div>
<div id="lstnumberx3033" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">offset</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Shortened<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>o<span class="ltx_text ltx_lst_space"> </span>below"</span>;
</div>
<div id="lstnumberx3034" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>;
</div>
<div id="lstnumberx3035" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3036" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3036.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3037" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span>(<span class="ltx_text ltx_lst_identifier">zeroDerivative</span>=<span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">zeroDerivative</span>=<span class="ltx_text ltx_lst_identifier">offset</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fDer</span>,
</div>
<div id="lstnumberx3038" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">             </span><span class="ltx_text ltx_lst_identifier">derivative</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fGeneralDer</span>);
</div>
<div id="lstnumberx3039" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>;
</div>
<div id="lstnumberx3040" class="ltx_listingline">
</div>
<div id="lstnumberx3041" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fDer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Derivative<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>simple<span class="ltx_text ltx_lst_space"> </span>table<span class="ltx_text ltx_lst_space"> </span>lookup"</span>
</div>
<div id="lstnumberx3042" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3043" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>[:,<span class="ltx_text ltx_lst_space"> </span>2];
</div>
<div id="lstnumberx3044" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">offset</span>;
</div>
<div id="lstnumberx3045" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x_der</span>;
</div>
<div id="lstnumberx3046" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z_der</span>;
</div>
<div id="lstnumberx3047" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3048" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3048.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3049" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(
</div>
<div id="lstnumberx3050" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">derivative</span>(<span class="ltx_text ltx_lst_identifier">zeroDerivative</span>=<span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">zeroDerivative</span>=<span class="ltx_text ltx_lst_identifier">offset</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">order</span>=2)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fDer2</span>);
</div>
<div id="lstnumberx3051" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fDer</span>;
</div>
<div id="lstnumberx3052" class="ltx_listingline">
</div>
<div id="lstnumberx3053" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fDer2</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Second<span class="ltx_text ltx_lst_space"> </span>derivative<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>simple<span class="ltx_text ltx_lst_space"> </span>table<span class="ltx_text ltx_lst_space"> </span>lookup"</span>
</div>
<div id="lstnumberx3054" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3055" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>[:,<span class="ltx_text ltx_lst_space"> </span>2];
</div>
<div id="lstnumberx3056" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">offset</span>;
</div>
<div id="lstnumberx3057" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x_der</span>;
</div>
<div id="lstnumberx3058" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x_der2</span>;
</div>
<div id="lstnumberx3059" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z_der2</span>;
</div>
<div id="lstnumberx3060" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3061" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3061.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3062" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fDer2</span>;
</div>
<div id="lstnumberx3063" class="ltx_listingline">
</div>
<div id="lstnumberx3064" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fGeneralDer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Derivative<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>table<span class="ltx_text ltx_lst_space"> </span>lookup<span class="ltx_text ltx_lst_space"> </span>taking</span>
</div>
<div id="lstnumberx3065" class="ltx_listingline">
<span class="ltx_text" style="color:#000000;">into</span><span class="ltx_text ltx_lst_space" style="color:#000000;"> </span><span class="ltx_text" style="color:#000000;">account</span><span class="ltx_text ltx_lst_space" style="color:#000000;"> </span><span class="ltx_text" style="color:#000000;">varying</span><span class="ltx_text ltx_lst_space" style="color:#000000;"> </span><span class="ltx_text" style="color:#000000;">tables"</span>
</div>
<div id="lstnumberx3066" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3067" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>[:,<span class="ltx_text ltx_lst_space"> </span>2];
</div>
<div id="lstnumberx3068" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">offset</span>;
</div>
<div id="lstnumberx3069" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x_der</span>;
</div>
<div id="lstnumberx3070" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y_der</span>[:,<span class="ltx_text ltx_lst_space"> </span>2];
</div>
<div id="lstnumberx3071" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">offset_der</span>;
</div>
<div id="lstnumberx3072" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z_der</span>;
</div>
<div id="lstnumberx3073" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3074" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3074.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3075" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//annotation(derivative(order=2)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>fGeneralDer2);</span>
</div>
<div id="lstnumberx3076" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fGeneralDer</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">In the example above <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_upright">zeroDerivative</span><span class="ltx_text ltx_font_upright">=<span class="ltx_text ltx_lst_identifier">y</span></span></span> and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_upright">zeroDerivative</span><span class="ltx_text ltx_font_upright">=<span class="ltx_text ltx_lst_identifier">offset</span></span></span> imply that</span></p>
<table id="Ex5" class="ltx_equationgroup ltx_eqn_table">

<tbody id="Ex5X"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex5X.m2" class="ltx_Math" alttext="{\displaystyle\frac{\mathrm{d}}{\mathrm{d}t}\text{\lstinline{{%
\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor%
\lst@@@set@language\lst@@@set@language\lst@@@set@frame\normalsize{%
\@listingGroup{ltx_lst_identifier}{f}}}}}}(x(t),\,y(t),\,o(t))" display="inline"><mrow><mstyle displaystyle="true"><mfrac><mi mathvariant="normal">d</mi><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle><mo>⁢</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo rspace="4.2pt">,</mo><mrow><mi>y</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo rspace="4.2pt">,</mo><mrow><mi>o</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex5X.m3" class="ltx_Math" alttext="{{{\displaystyle=\frac{\partial\text{\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{%
ltx_lst_identifier}{f}}}}}}}{\partial x}\frac{\mathrm{d}x}{\mathrm{d}t}+\frac{%
\partial\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_identifier}{f}}}}}}}{%
\partial y}\frac{\mathrm{d}y}{\mathrm{d}t}+\frac{\partial\text{\lstinline{{%
\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor%
\lst@@@set@language\lst@@@set@language\lst@@@set@frame\normalsize{%
\@listingGroup{ltx_lst_identifier}{f}}}}}}}{\partial o}\frac{\mathrm{d}o}{%
\mathrm{d}t}" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>x</mi></mrow></mfrac></mstyle><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow><mo>+</mo><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>y</mi></mrow></mfrac></mstyle><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>y</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow><mo>+</mo><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>o</mi></mrow></mfrac></mstyle><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>o</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex5Xa"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex5Xa.m2" class="ltx_Math" alttext="{{{\displaystyle=\frac{\partial\text{\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{%
ltx_lst_identifier}{f}}}}}}}{\partial x}\frac{\mathrm{d}x}{\mathrm{d}t}+\frac{%
\partial\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_identifier}{f}}}}}}}{%
\partial y}\cdot 0+\frac{\partial\text{\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{%
ltx_lst_identifier}{f}}}}}}}{\partial o}\cdot 0" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>x</mi></mrow></mfrac></mstyle><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow><mo>+</mo><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>y</mi></mrow></mfrac></mstyle><mo>⋅</mo><mn>0</mn></mrow><mo>+</mo><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>o</mi></mrow></mfrac></mstyle><mo>⋅</mo><mn>0</mn></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex5Xb"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex5Xb.m2" class="ltx_Math" alttext="{\displaystyle=\frac{\partial\text{\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{%
ltx_lst_identifier}{f}}}}}}}{\partial x}\frac{\mathrm{d}x}{\mathrm{d}t}" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>x</mi></mrow></mfrac></mstyle><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex5Xc"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex5Xc.m2" class="ltx_Math" alttext="{\displaystyle=\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_identifier}{fDer}}}}}}\cdot%
\frac{\mathrm{d}x}{\mathrm{d}t}" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">fDer</mtext><mo>⋅</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p">]</p>
</div>
<div id="S7.SS1.p15" class="ltx_para">
<ul id="S7.I4" class="ltx_itemize">
<li id="S7.I4.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S7.I4.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_language_grammar ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_italic">noDerivative</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="S7.I4.i1.p1.m1" class="ltx_Math" alttext="\mathit{inputVar}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑖𝑛𝑝𝑢𝑡𝑉𝑎𝑟</mi><mn mathbackground="#FFFFFF">1</mn></msub></math></span></p>
</div>
</li>
</ul>
</div>
<div id="S7.SS1.p16" class="ltx_para">
<p class="ltx_p">The derivative of <math id="S7.SS1.p16.m1" class="ltx_Math" alttext="\mathit{inputVar}_{1}" display="inline"><msub><mi>𝑖𝑛𝑝𝑢𝑡𝑉𝑎𝑟</mi><mn>1</mn></msub></math> is excluded from the argument list of the derivative-function.
This relies on assumptions on the arguments to the function; and the function should document these assumptions (it is not always straightforward to verify them).
In many cases even the undifferentiated function will only behave correctly under these assumptions.</p>
</div>
<div id="S7.SS1.p17" class="ltx_para">
<p class="ltx_p">The inputs excluded using <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">zeroDerivative</span> or <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">noDerivative</span> may be of any type (including types not containing reals).</p>
</div>
<div id="S7.SS1.p18" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Assume that function <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">fg</span> is defined as a composition <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_upright">f</span><span class="ltx_text ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">x</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">g</span>(<span class="ltx_text ltx_lst_identifier">x</span>))</span></span>.
When differentiating <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">f</span> it is useful to give the derivative under the
assumption that the second argument is defined in this way:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZmcKICBpbnB1dCBSZWFsIHg7CiAgb3V0cHV0IFJlYWwgejsKYWxnb3JpdGhtCiAgeiA6PSBmKHgsIGcoeCkpOwplbmQgZmc7CgpmdW5jdGlvbiBmCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IFJlYWwgeTsKICBvdXRwdXQgUmVhbCB6OwphbGdvcml0aG0KICAkXGxkb3RzJAogIGFubm90YXRpb24oZGVyaXZhdGl2ZShub0Rlcml2YXRpdmU9eSkgPSBoKTsKZW5kIGY7CgpmdW5jdGlvbiBoCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IFJlYWwgeTsKICBpbnB1dCBSZWFsIHhfZGVyOwogIG91dHB1dCBSZWFsIHpfZGVyOwphbGdvcml0aG0KICAkXGxkb3RzJAplbmQgaDs=">⬇</a></div>
<div id="lstnumberx3077" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fg</span>
</div>
<div id="lstnumberx3078" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3079" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>;
</div>
<div id="lstnumberx3080" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3081" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">z</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>(<span class="ltx_text ltx_lst_identifier">x</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">g</span>(<span class="ltx_text ltx_lst_identifier">x</span>));
</div>
<div id="lstnumberx3082" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fg</span>;
</div>
<div id="lstnumberx3083" class="ltx_listingline">
</div>
<div id="lstnumberx3084" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>
</div>
<div id="lstnumberx3085" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3086" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3087" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>;
</div>
<div id="lstnumberx3088" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3089" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3089.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3090" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">derivative</span>(<span class="ltx_text ltx_lst_identifier">noDerivative</span>=<span class="ltx_text ltx_lst_identifier">y</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span>);
</div>
<div id="lstnumberx3091" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>;
</div>
<div id="lstnumberx3092" class="ltx_listingline">
</div>
<div id="lstnumberx3093" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span>
</div>
<div id="lstnumberx3094" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3095" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3096" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x_der</span>;
</div>
<div id="lstnumberx3097" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z_der</span>;
</div>
<div id="lstnumberx3098" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3099" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3099.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3100" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This is useful if <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">g</span> represents the major computational
effort of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">fg</span>.</span></p>
</div>
<div id="S7.SS1.p19" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Therefore <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">h</span> indirectly includes the derivative with respect to <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">y</span> as follows:</span></p>
<table id="Ex6" class="ltx_equationgroup ltx_eqn_table">

<tbody id="Ex6X"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex6X.m2" class="ltx_Math" alttext="{\displaystyle\frac{\mathrm{d}}{\mathrm{d}t}\text{\lstinline{{%
\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor%
\lst@@@set@language\lst@@@set@language\lst@@@set@frame\normalsize{%
\@listingGroup{ltx_lst_identifier}{fg}}}}}}(x(t))" display="inline"><mrow><mstyle displaystyle="true"><mfrac><mi mathvariant="normal">d</mi><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle><mo>⁢</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">fg</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex6X.m3" class="ltx_Math" alttext="{{\displaystyle=\frac{\mathrm{d}}{\mathrm{d}t}\text{\lstinline{{%
\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor%
\lst@@@set@language\lst@@@set@language\lst@@@set@frame\normalsize{%
\@listingGroup{ltx_lst_identifier}{f}}}}}}(x(t),\,\text{\lstinline{{%
\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor%
\lst@@@set@language\lst@@@set@language\lst@@@set@frame\normalsize{%
\@listingGroup{ltx_lst_identifier}{g}}}}}}(x(t)))" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mstyle displaystyle="true"><mfrac><mi mathvariant="normal">d</mi><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle><mo>⁢</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo rspace="4.2pt">,</mo><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">g</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex6Xa"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex6Xa.m2" class="ltx_Math" alttext="{{{\displaystyle=\frac{\partial\text{\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{%
ltx_lst_identifier}{f}}}}}}}{\partial x}\frac{\mathrm{d}x}{\mathrm{d}t}+\frac{%
\partial\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_identifier}{f}}}}}}}{%
\partial y}\frac{\partial\text{\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{%
ltx_lst_identifier}{g}}}}}}}{\partial x}\frac{\mathrm{d}x}{\mathrm{d}t}" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>x</mi></mrow></mfrac></mstyle><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow><mo>+</mo><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>y</mi></mrow></mfrac></mstyle><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">g</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>x</mi></mrow></mfrac></mstyle><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex6Xb"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex6Xb.m2" class="ltx_Math" alttext="{{{\displaystyle=\left(\frac{\partial\text{\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{%
ltx_lst_identifier}{f}}}}}}}{\partial x}+\frac{\partial\text{\lstinline{{%
\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor%
\lst@@@set@language\lst@@@set@language\lst@@@set@frame\normalsize{%
\@listingGroup{ltx_lst_identifier}{f}}}}}}}{\partial y}\frac{\partial\text{%
\lstinline{{\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame%
\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language\lst@@@set@frame%
\normalsize{\@listingGroup{ltx_lst_identifier}{g}}}}}}}{\partial x}\right)%
\frac{\mathrm{d}x}{\mathrm{d}t}" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mrow><mo>(</mo><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>x</mi></mrow></mfrac></mstyle><mo>+</mo><mrow><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">f</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>y</mi></mrow></mfrac></mstyle><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mo>∂</mo><mo>⁡</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">g</mtext></mrow><mrow><mo>∂</mo><mo>⁡</mo><mi>x</mi></mrow></mfrac></mstyle></mrow></mrow><mo>)</mo></mrow><mo>⁢</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex6Xc"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex6Xc.m2" class="ltx_Math" alttext="{\displaystyle=\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_identifier}{h}}}}}}(x(t),\,%
y(t)))\frac{\mathrm{d}x}{\mathrm{d}t}" display="inline"><mrow><mo>=</mo><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">h</mtext><mrow><mo stretchy="false">(</mo><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><mo rspace="4.2pt">,</mo><mi>y</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo></mrow><mo stretchy="false">)</mo><mstyle displaystyle="true"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>⁢</mo><mi>t</mi></mrow></mfrac></mstyle></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p">]</p>
</div>
</section>
<section id="partial-derivatives-of-functions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.7.2 </span>Partial Derivatives of Functions</h3>

<div id="S7.SS2.p1" class="ltx_para">
<p class="ltx_p">A class defined as:</p>
<div class="ltx_listing ltx_lst_language_grammar ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,SURFTlQgIj0iIGRlciAiKCIgbmFtZSAiLCIgSURFTlQgeyAiLCIgSURFTlQgfSAiKSIgY29tbWVudA==">⬇</a></div>
<div id="lstnumberx3101" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_italic">IDENT</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">"="</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">der</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">"("</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">name</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">","</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">IDENT</span><span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">","</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">IDENT</span><span class="ltx_text ltx_lst_space"> </span>}<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">")"</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">comment</span>
</div>
</div>
<p class="ltx_p">is the partial derivative of a function, and may only be used as declarations of functions.</p>
</div>
<div id="S7.SS2.p2" class="ltx_para">
<p class="ltx_p">The semantics is that a function (and only a function) can be specified in this form, defining that it is the partial derivative of the function to the right of the equal sign (looked up in the same way as a short class definition, and the looked up name must be a function), and partially differentiated with respect to each <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">IDENT</span> in order (starting from the first one). The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">IDENT</span> must be <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Real</span> inputs to the function.</p>
</div>
<div id="S7.SS2.p3" class="ltx_para">
<p class="ltx_p">The comment allows a user to comment the function (in the info-layer and as one-line description, and as icon).
</p>
</div>
<div id="S7.SS2.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
The specific enthalpy can be computed from a Gibbs-function as follows:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gR2liYnMKICBpbnB1dCBSZWFsIHAsIFQ7CiAgb3V0cHV0IFJlYWwgZzsKYWxnb3JpdGhtCiAgJFxsZG90cyQKZW5kIEdpYmJzOwpmdW5jdGlvbiBHaWJic19UID0gZGVyKEdpYmJzLCBUKTsKZnVuY3Rpb24gc3BlY2lmaWNFbnRoYWxweQogIGlucHV0IFJlYWwgcCwgVDsKICBvdXRwdXQgUmVhbCBoOwphbGdvcml0aG0KICBoIDo9IEdpYmJzKHAsIFQpIC0gVCAqIEdpYmJzX1QocCwgVCk7CmVuZCBzcGVjaWZpY0VudGhhbHB5Ow==">⬇</a></div>
<div id="lstnumberx3102" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Gibbs</span>
</div>
<div id="lstnumberx3103" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T</span>;
</div>
<div id="lstnumberx3104" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">g</span>;
</div>
<div id="lstnumberx3105" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3106" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3106.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3107" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Gibbs</span>;
</div>
<div id="lstnumberx3108" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Gibbs_T</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">der</span>(<span class="ltx_text ltx_lst_identifier">Gibbs</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T</span>);
</div>
<div id="lstnumberx3109" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">specificEnthalpy</span>
</div>
<div id="lstnumberx3110" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T</span>;
</div>
<div id="lstnumberx3111" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span>;
</div>
<div id="lstnumberx3112" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3113" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">h</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Gibbs</span>(<span class="ltx_text ltx_lst_identifier">p</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T</span>)<span class="ltx_text ltx_lst_space"> </span>-<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T</span><span class="ltx_text ltx_lst_space"> </span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Gibbs_T</span>(<span class="ltx_text ltx_lst_identifier">p</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T</span>);
</div>
<div id="lstnumberx3114" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">specificEnthalpy</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="declaring-inverses-of-functions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">12.8 </span>Declaring Inverses of Functions</h2>

<div id="S8.p1" class="ltx_para">
<p class="ltx_p">Every function with one output formal parameter may have one or more <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">inverse</span> annotations to define inverses of this function:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gJGZfMSQKICBpbnB1dCAkQV8xJCAkdV8xJDsKICAkXGxkb3RzJAogIGlucHV0ICRUXzEkICR1X2skOwogICRcbGRvdHMkCiAgaW5wdXQgJEFfbSQgJHVfbSQgPSAkYV9tJDsKICAkXGxkb3RzJAogIGlucHV0ICRBX24kICR1X24kOwogIG91dHB1dCAkVF8yJCB5OwphbGdvcml0aG0KICAkXGxkb3RzJAogIGFubm90YXRpb24oaW52ZXJzZSgkdV9rJCA9ICRmXzIkKCRcbGRvdHMkLCB5LCAkXGxkb3RzJCksICR1X2kkID0gJGZfMyQoJFxsZG90cyQsIHksICRcbGRvdHMkKSwgJFxsZG90cyQpKTsKZW5kICRmXzEkOw==">⬇</a></div>
<div id="lstnumberx3115" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3115.m1" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">f</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>
</div>
<div id="lstnumberx3116" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3116.m1" class="ltx_Math" alttext="A_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">A</mi><mn mathbackground="#FFFFFF">1</mn></msub></math><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3116.m2" class="ltx_Math" alttext="u_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">u</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>;
</div>
<div id="lstnumberx3117" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3117.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3118" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3118.m1" class="ltx_Math" alttext="T_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">T</mi><mn mathbackground="#FFFFFF">1</mn></msub></math><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3118.m2" class="ltx_Math" alttext="u_{k}" display="inline"><msub><mi mathbackground="#FFFFFF">u</mi><mi mathbackground="#FFFFFF">k</mi></msub></math>;
</div>
<div id="lstnumberx3119" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3119.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3120" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3120.m1" class="ltx_Math" alttext="A_{m}" display="inline"><msub><mi mathbackground="#FFFFFF">A</mi><mi mathbackground="#FFFFFF">m</mi></msub></math><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3120.m2" class="ltx_Math" alttext="u_{m}" display="inline"><msub><mi mathbackground="#FFFFFF">u</mi><mi mathbackground="#FFFFFF">m</mi></msub></math><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3120.m3" class="ltx_Math" alttext="a_{m}" display="inline"><msub><mi mathbackground="#FFFFFF">a</mi><mi mathbackground="#FFFFFF">m</mi></msub></math>;
</div>
<div id="lstnumberx3121" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3121.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3122" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3122.m1" class="ltx_Math" alttext="A_{n}" display="inline"><msub><mi mathbackground="#FFFFFF">A</mi><mi mathbackground="#FFFFFF">n</mi></msub></math><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3122.m2" class="ltx_Math" alttext="u_{n}" display="inline"><msub><mi mathbackground="#FFFFFF">u</mi><mi mathbackground="#FFFFFF">n</mi></msub></math>;
</div>
<div id="lstnumberx3123" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3123.m1" class="ltx_Math" alttext="T_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">T</mi><mn mathbackground="#FFFFFF">2</mn></msub></math><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3124" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3125" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3125.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3126" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">inverse</span>(<math id="lstnumberx3126.m1" class="ltx_Math" alttext="u_{k}" display="inline"><msub><mi mathbackground="#FFFFFF">u</mi><mi mathbackground="#FFFFFF">k</mi></msub></math><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3126.m2" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">f</mi><mn mathbackground="#FFFFFF">2</mn></msub></math>(<math id="lstnumberx3126.m3" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3126.m4" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>),<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3126.m5" class="ltx_Math" alttext="u_{i}" display="inline"><msub><mi mathbackground="#FFFFFF">u</mi><mi mathbackground="#FFFFFF">i</mi></msub></math><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3126.m6" class="ltx_Math" alttext="f_{3}" display="inline"><msub><mi mathbackground="#FFFFFF">f</mi><mn mathbackground="#FFFFFF">3</mn></msub></math>(<math id="lstnumberx3126.m7" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3126.m8" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>),<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3126.m9" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>));
</div>
<div id="lstnumberx3127" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3127.m1" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">f</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>;
</div>
</div>
</div>
<div id="S8.p2" class="ltx_para">
<p class="ltx_p">The meaning is that function <math id="S8.p2.m1" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math> is one inverse to function <math id="S8.p2.m2" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi>f</mi><mn>1</mn></msub></math> where the previous output <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">y</span> is now an input and the previous input <math id="S8.p2.m3" class="ltx_Math" alttext="u_{k}" display="inline"><msub><mi>u</mi><mi>k</mi></msub></math> is now an output.
More than one inverse can be defined within the same <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">inverse</span> annotation.
Several inverses are separated by commas.</p>
</div>
<div id="S8.p3" class="ltx_para">
<p class="ltx_p">The function in the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">inverse</span> annotation must be an actual inverse.
This requires that <math id="S8.p3.m1" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math> is such that, if <math id="S8.p3.m2" class="ltx_Math" alttext="u_{k}" display="inline"><msub><mi>u</mi><mi>k</mi></msub></math> is calculated as <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><math id="S8.p3.m3" class="ltx_Math" alttext="u_{k}" display="inline"><msub><mi mathbackground="#FFFFFF">u</mi><mi mathbackground="#FFFFFF">k</mi></msub></math><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><math id="S8.p3.m4" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">f</mi><mn mathbackground="#FFFFFF">2</mn></msub></math>(<math id="S8.p3.m5" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><math id="S8.p3.m6" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span>, the equality <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="S8.p3.m7" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">f</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>(<math id="S8.p3.m8" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S8.p3.m9" class="ltx_Math" alttext="u_{k}" display="inline"><msub><mi mathbackground="#FFFFFF">u</mi><mi mathbackground="#FFFFFF">k</mi></msub></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S8.p3.m10" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span> is satisfied up to a certain precision, for all valid values of the input arguments of <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><math id="S8.p3.m11" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">f</mi><mn mathbackground="#FFFFFF">2</mn></msub></math>(<math id="S8.p3.m12" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><math id="S8.p3.m13" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span>.
the equality <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><math id="S8.p3.m14" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">f</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>(<math id="S8.p3.m15" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S8.p3.m16" class="ltx_Math" alttext="u_{k}" display="inline"><msub><mi mathbackground="#FFFFFF">u</mi><mi mathbackground="#FFFFFF">k</mi></msub></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S8.p3.m17" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span> is satisfied up to a certain precision.</p>
</div>
<div id="S8.p4" class="ltx_para">
<p class="ltx_p">Function <math id="S8.p4.m1" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi>f</mi><mn>1</mn></msub></math> can have any number and types of formal parameters with and without default value.
The restriction is that the <em class="ltx_emph ltx_font_italic">number of unknown variables</em> (see <a href="class-predefined-types-and-declarations.html#balanced-models" title="4.7 Balanced Models ‣ Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">4.7</span></a>) in the output formal parameter of both <math id="S8.p4.m2" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi>f</mi><mn>1</mn></msub></math> and <math id="S8.p4.m3" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math> must be the same and that <math id="S8.p4.m4" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math> should have a union of output and formal parameters that is the same or a sub-set of that union for <math id="S8.p4.m5" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi>f</mi><mn>1</mn></msub></math>, but the order of the formal parameters may be permuted.</p>
</div>
<div id="S8.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Same union of variables:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gaF9wVFgKICBpbnB1dCBSZWFsIHAgInByZXNzdXJlIjsKICBpbnB1dCBSZWFsIFQgInRlbXBlcmF0dXJlIjsKICBpbnB1dCBSZWFsIFhbOl0gIm1hc3MgZnJhY3Rpb25zIjsKICBvdXRwdXQgUmVhbCBoICJzcGVjaWZpYyBlbnRoYWxweSI7CmFsZ29yaXRobQogICRcbGRvdHMkCiAgYW5ub3RhdGlvbihpbnZlcnNlKFQgPSBUX3BoWChwLGgsWCkpKTsKZW5kIGhfcFRYOwoKZnVuY3Rpb24gVF9waFgKICBpbnB1dCBSZWFsIHAgInByZXNzdXJlIjsKICBpbnB1dCBSZWFsIGggInNwZWNpZmljIGVudGhhbHB5IjsKICBpbnB1dCBSZWFsIFhbOl0gIm1hc3MgZnJhY3Rpb25zIjsKICBvdXRwdXQgUmVhbCBUICJ0ZW1wZXJhdHVyZSI7CmFsZ29yaXRobQogICRcbGRvdHMkCmVuZCBUX3BoWDs=">⬇</a></div>
<div id="lstnumberx3128" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h_pTX</span>
</div>
<div id="lstnumberx3129" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"pressure"</span>;
</div>
<div id="lstnumberx3130" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"temperature"</span>;
</div>
<div id="lstnumberx3131" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">X</span>[:]<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"mass<span class="ltx_text ltx_lst_space"> </span>fractions"</span>;
</div>
<div id="lstnumberx3132" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"specific<span class="ltx_text ltx_lst_space"> </span>enthalpy"</span>;
</div>
<div id="lstnumberx3133" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3134" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3134.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3135" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">inverse</span>(<span class="ltx_text ltx_lst_identifier">T</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T_phX</span>(<span class="ltx_text ltx_lst_identifier">p</span>,<span class="ltx_text ltx_lst_identifier">h</span>,<span class="ltx_text ltx_lst_identifier">X</span>)));
</div>
<div id="lstnumberx3136" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h_pTX</span>;
</div>
<div id="lstnumberx3137" class="ltx_listingline">
</div>
<div id="lstnumberx3138" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T_phX</span>
</div>
<div id="lstnumberx3139" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"pressure"</span>;
</div>
<div id="lstnumberx3140" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">h</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"specific<span class="ltx_text ltx_lst_space"> </span>enthalpy"</span>;
</div>
<div id="lstnumberx3141" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">X</span>[:]<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"mass<span class="ltx_text ltx_lst_space"> </span>fractions"</span>;
</div>
<div id="lstnumberx3142" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"temperature"</span>;
</div>
<div id="lstnumberx3143" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3144" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3144.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3145" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">T_phX</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S8.p6" class="ltx_para">
<p class="ltx_p">The sub-set case is useful if <math id="S8.p6.m1" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi>f</mi><mn>1</mn></msub></math> computes the inverse of <math id="S8.p6.m2" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math> within a region, or up to a certain tolerance.
Then, <math id="S8.p6.m3" class="ltx_Math" alttext="f_{1}" display="inline"><msub><mi>f</mi><mn>1</mn></msub></math> may specify <math id="S8.p6.m4" class="ltx_Math" alttext="f_{2}" display="inline"><msub><mi>f</mi><mn>2</mn></msub></math> as inverse with fewer arguments, skipping the arguments for tolerance and/or the region.</p>
</div>
<div id="S8.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
</div>
<div id="S8.p8" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gaW52X3NpbmUKICBpbnB1dCBSZWFsIHg7CiAgaW5wdXQgUmVhbCBhbmdsZU9yaWc7CiAgb3V0cHV0IFJlYWwgYW5nbGU7CiAgLy8gRmluZHMgc2luZShhbmdsZSkgPSB4IHdpdGggYW5nbGUgY2xvc2VzdCB0byBhbmdsZU9yaWcuCmFsZ29yaXRobQogICRcbGRvdHMkCiAgYW5ub3RhdGlvbihpbnZlcnNlKHggPSBzaW5lKGFuZ2xlKSkpOwplbmQgaW52X3NpbmU7CgpmdW5jdGlvbiBzaW5lCiAgaW5wdXQgUmVhbCBhbmdsZTsKICBvdXRwdXQgUmVhbCB4OwphbGdvcml0aG0KICB4IDo9IHNpbihhbmdsZSk7CiAgLy8gTm90ZTogTm8gaW52ZXJzZS4KZW5kIHNpbmU7">⬇</a></div>
<div id="lstnumberx3146" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">inv_sine</span>
</div>
<div id="lstnumberx3147" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3148" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">angleOrig</span>;
</div>
<div id="lstnumberx3149" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">angle</span>;
</div>
<div id="lstnumberx3150" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Finds<span class="ltx_text ltx_lst_space"> </span>sine(angle)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>x<span class="ltx_text ltx_lst_space"> </span>with<span class="ltx_text ltx_lst_space"> </span>angle<span class="ltx_text ltx_lst_space"> </span>closest<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>angleOrig.</span>
</div>
<div id="lstnumberx3151" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3152" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3152.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3153" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">inverse</span>(<span class="ltx_text ltx_lst_identifier">x</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sine</span>(<span class="ltx_text ltx_lst_identifier">angle</span>)));
</div>
<div id="lstnumberx3154" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">inv_sine</span>;
</div>
<div id="lstnumberx3155" class="ltx_listingline">
</div>
<div id="lstnumberx3156" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sine</span>
</div>
<div id="lstnumberx3157" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">angle</span>;
</div>
<div id="lstnumberx3158" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3159" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3160" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">x</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">angle</span>);
</div>
<div id="lstnumberx3161" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Note:<span class="ltx_text ltx_lst_space"> </span>No<span class="ltx_text ltx_lst_space"> </span>inverse.</span>
</div>
<div id="lstnumberx3162" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sine</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="external-function-interface" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">12.9 </span>External Function Interface</h2>

<div id="S9.p1" class="ltx_para">
<p class="ltx_p">Here, the word <em class="ltx_emph ltx_font_italic">function</em> is used to refer to an arbitrary external routine, whether or not the routine has a return value or returns its result via output parameters (or both).
The Modelica external function call interface provides the following:</p>
<ul id="S9.I1" class="ltx_itemize">
<li id="S9.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Support for external functions written in C (specifically C89) and
FORTRAN 77. Other languages, e.g. C++ and Fortran 90, may be supported
in the future, and provided the function is link-compatible with C89
or FORTRAN 77 it can be written in any language.</p>
</div>
</li>
<li id="S9.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Mapping of argument types from Modelica to the target language and
back.</p>
</div>
</li>
<li id="S9.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I1.i3.p1" class="ltx_para">
<p class="ltx_p">Natural type conversion rules in the sense that there is a mapping
from Modelica to standard libraries of the target language.</p>
</div>
</li>
<li id="S9.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I1.i4.p1" class="ltx_para">
<p class="ltx_p">Handling arbitrary parameter order for the external function.</p>
</div>
</li>
<li id="S9.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I1.i5.p1" class="ltx_para">
<p class="ltx_p">Passing arrays to and from external functions where the dimension
sizes are passed as explicit integer parameters.</p>
</div>
</li>
<li id="S9.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I1.i6.p1" class="ltx_para">
<p class="ltx_p">Handling of external function parameters which are used both for input
and output, by passing an output that has a binding equation to
the external function.
</p>
</div>
<div id="S9.I1.i6.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Binding equations are executed prior to calling the external function.</span>]</p>
</div>
</li>
</ul>
</div>
<div id="S9.p2" class="ltx_para">
<p class="ltx_p">The format of an external function declaration is as follows.</p>
<div class="ltx_listing ltx_lst_language_grammar ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gSURFTlQgZGVzY3JpcHRpb24tc3RyaW5nCiAgeyBjb21wb25lbnQtY2xhdXNlICI7IiB9CiAgWyBwcm90ZWN0ZWQgeyBjb21wb25lbnQtY2xhdXNlICI7IiB9IF0KZXh0ZXJuYWwgWyBsYW5ndWFnZS1zcGVjaWZpY2F0aW9uIF0KICBbIGV4dGVybmFsLWZ1bmN0aW9uLWNhbGwgXQogICAgW2Fubm90YXRpb24gXSAiOyIKICBbIGFubm90YXRpb24gIjsiIF0KZW5kIElERU5UOw==">⬇</a></div>
<div id="lstnumberx3163" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">IDENT</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">description-string</span>
</div>
<div id="lstnumberx3164" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span>{<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">component-clause</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">";"</span><span class="ltx_text ltx_lst_space"> </span>}
</div>
<div id="lstnumberx3165" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span>[<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">protected</span><span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">component-clause</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">";"</span><span class="ltx_text ltx_lst_space"> </span>}<span class="ltx_text ltx_lst_space"> </span>]
</div>
<div id="lstnumberx3166" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span>[<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">language-specification</span><span class="ltx_text ltx_lst_space"> </span>]
</div>
<div id="lstnumberx3167" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span>[<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">external-function-call</span><span class="ltx_text ltx_lst_space"> </span>]
</div>
<div id="lstnumberx3168" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span>[<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span><span class="ltx_text ltx_lst_space"> </span>]<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">";"</span>
</div>
<div id="lstnumberx3169" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span>[<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#003378;">";"</span><span class="ltx_text ltx_lst_space"> </span>]
</div>
<div id="lstnumberx3170" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier ltx_font_italic">IDENT</span>;
</div>
</div>
</div>
<div id="S9.p3" class="ltx_para">
<p class="ltx_p">Components in the public part of an external function declaration shall be declared either as <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">input</span> or <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">output</span>.</p>
</div>
<div id="S9.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">This is just as for any other function. The components in the protected part allow local variables for temporary storage to be declared.</span>]</p>
</div>
<div id="S9.p5" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_identifier ltx_lst_language_grammar ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;">language-specification</span> must currently be one of <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"builtin"</span> (deprecated), <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"C"</span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"C<math id="S9.p5.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#000000" mathvariant="normal">…</mi></math>"</span> (for one of the specific C standards like C89, C99, and C11 – specifying
that it relies on the C standard library of that version) or <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"FORTRAN<span class="ltx_text ltx_lst_space"> </span>77"</span>.
Unless the external language is specified, it is assumed to be <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"C"</span>.</p>
</div>
<div id="S9.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The intended use of e.g. C99 is to detect if the user tries to link with a C99-function using a C89 compiler.</span>]</p>
</div>
<div id="S9.p7" class="ltx_para">
<p class="ltx_p">The deprecated <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"builtin"</span> specification is only used for the elementary mathematical functions described in <a href="operators-and-expressions.html#built-in-mathematical-functions-and-external-built-in-functions" title="3.7.3 Elementary Mathematical Functions ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.7.3</span></a>.
The external function call mechanism for <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"builtin"</span> functions is implementation-defined.</p>
</div>
<div id="S9.p8" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Typically, for functions from the standard C library, the prototype of the function is provided but no <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">Library</span> annotation. Currently, there are no other builtin functions defined in Modelica.</span>]</p>
</div>
<div id="S9.p9" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cGFja2FnZSBNb2RlbGljYQogIHBhY2thZ2UgTWF0aAogICAgZnVuY3Rpb24gc2luCiAgICAgIGlucHV0IFJlYWwgeDsKICAgICAgb3V0cHV0IFJlYWwgeTsKICAgIGV4dGVybmFsICJidWlsdGluIgogICAgICB5ID0gc2luKHgpOwogICAgZW5kIHNpbjsKICBlbmQgTWF0aDsKZW5kIE1vZGVsaWNhOwoKbW9kZWwgVXNlck1vZGVsCiAgcGFyYW1ldGVyIFJlYWwgcCA9IE1vZGVsaWNhLk1hdGguc2luKDIpOwplbmQgVXNlck1vZGVsOw==">⬇</a></div>
<div id="lstnumberx3171" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">package</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Modelica</span>
</div>
<div id="lstnumberx3172" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">package</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Math</span>
</div>
<div id="lstnumberx3173" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>
</div>
<div id="lstnumberx3174" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3175" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3176" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"builtin"</span>
</div>
<div id="lstnumberx3177" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>(<span class="ltx_text ltx_lst_identifier">x</span>);
</div>
<div id="lstnumberx3178" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">sin</span>;
</div>
<div id="lstnumberx3179" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Math</span>;
</div>
<div id="lstnumberx3180" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Modelica</span>;
</div>
<div id="lstnumberx3181" class="ltx_listingline">
</div>
<div id="lstnumberx3182" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">UserModel</span>
</div>
<div id="lstnumberx3183" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">p</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Modelica</span>.<span class="ltx_text ltx_lst_identifier">Math</span>.<span class="ltx_text ltx_lst_identifier">sin</span>(2);
</div>
<div id="lstnumberx3184" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">UserModel</span>;
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S9.p10" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_identifier ltx_lst_language_grammar ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;">external-function-call</span> specification allows functions whose prototypes do not match the default assumptions as defined below to be called. It also gives the name used to call the external function. If the external call is not given explicitly, this name is assumed to be the same as the Modelica name.</p>
</div>
<div id="S9.p11" class="ltx_para">
<p class="ltx_p">The only permissible kinds of expressions in the argument list are component references, scalar constants, and the function <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">size</span> applied to an array and a constant dimension number.
The annotations are used to pass additional information to the compiler when necessary.</p>
</div>
<div id="S9.p12" class="ltx_para">
<p class="ltx_p">A component reference to a component that is part of an input or output
is treated the same way as a top-level input or output in the external
call.</p>
</div>
<div id="S9.p13" class="ltx_para">
<p class="ltx_p">If the function has <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">Include</span>=<span class="ltx_text ltx_lst_string" style="color:#000000;">"includeDirective"</span>)</span>, <a href="#annotations-for-external-libraries-and-include-files" title="12.9.4 Annotations for External Libraries and Include Files ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.4</span></a> it is assumed that it contains an actual prototype and no prototype shall be automatically generated. In that case the input argument pointers shall be const pointers (indicating that they do not modify the inputs), and non-const pointers are deprecated. The optional <span class="ltx_text ltx_lst_identifier ltx_lst_language_grammar ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;">external-function-call</span> is still used for determining the name of the function, and order of arguments, as described below.</p>
</div>
<section id="argument-type-mapping" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.9.1 </span>Argument type Mapping</h3>

<div id="S9.SS1.p1" class="ltx_para">
<p class="ltx_p">The arguments of the external function are declared in the same order as
in the Modelica declaration, unless specified otherwise in an explicit
external function call. Protected variables (i.e. temporaries) are
passed in the same way as outputs, whereas constants and size-expression
are passed as inputs.</p>
</div>
<section id="simple-types" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">12.9.1.1 </span>Simple Types</h4>

<div id="S9.SS1.SSS1.p1" class="ltx_para">
<p class="ltx_p">Arguments of <em class="ltx_emph ltx_font_italic">simple</em> types are by default mapped as follows for C:</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Modelica</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2"><span class="ltx_text ltx_font_italic">C</span></th>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column"><span class="ltx_text ltx_font_italic">Input</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column"><span class="ltx_text ltx_font_italic">Output</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Real</span></th>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_keyword ltx_lst_language_C ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">double</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span>*</span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Integer</span></th>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keyword ltx_lst_language_C ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">int</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span><span class="ltx_text ltx_lst_space"> </span>*</span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Boolean</span></th>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keyword ltx_lst_language_C ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">int</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span><span class="ltx_text ltx_lst_space"> </span>*</span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">String</span></th>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span><span class="ltx_text ltx_lst_space"> </span>*</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span><span class="ltx_text ltx_lst_space"> </span>**</span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r">Enumeration type</th>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_keyword ltx_lst_language_C ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">int</span></td>
<td class="ltx_td ltx_align_left ltx_border_b"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span><span class="ltx_text ltx_lst_space"> </span>*</span></td>
</tr>
</tbody>
</table>
</div>
<div id="S9.SS1.SSS1.p2" class="ltx_para">
<p class="ltx_p">An exception is made when the argument is of the form <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<math id="S9.SS1.SSS1.p2.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS1.p2.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span>. In this case the corresponding C type is <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">size_t</span>.</p>
</div>
<div id="S9.SS1.SSS1.p3" class="ltx_para">
<p class="ltx_p">Strings are <span class="ltx_text ltx_font_smallcaps">nul</span>-terminated (i.e., terminated by <span class="ltx_text ltx_lst_language_C ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">’\0’</span>) to facilitate calling of C functions.
The valid return values for an external function returning a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">String</span> are:
</p>
<ul id="S9.I2" class="ltx_itemize">
<li id="S9.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I2.i1.p1" class="ltx_para">
<p class="ltx_p">A string given as <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">String</span> input to the external function.</p>
</div>
</li>
<li id="S9.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I2.i2.p1" class="ltx_para">
<p class="ltx_p">A pointer to a C string literal.</p>
</div>
</li>
<li id="S9.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I2.i3.p1" class="ltx_para">
<p class="ltx_p">A pointer returned by one of the string allocation functions in <a href="#utility-functions-for-allocating-strings" title="12.9.6.2 Utility Functions for Allocating Strings ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.6.2</span></a>.</p>
</div>
</li>
</ul>
</div>
<div id="S9.SS1.SSS1.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The reason why it is not allowed to return a string allocated with, for instance, <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">malloc</span> is that there is no transfer of ownership when a string is returned from the external function.
The external code would remain the owner of such a string, and would be responsible for eventually releasing the memory at some point.
Consequently, the Modelica simulation environment would not be able to assume that only its own string deallocation routines could invalidate any of the strings returned by external functions.</span>]</p>
</div>
<div id="S9.SS1.SSS1.p5" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> values are mapped to C such that <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">false</span> in Modelica is 0 in C and <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">true</span> in Modelica is 1 in C. If the returned value from C is 0 it is treated as <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">false</span> in Modelica; otherwise as <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">true</span>.</p>
</div>
<div id="S9.SS1.SSS1.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">It is recommended that the C function should interpret any non-zero value as true.</span>]</p>
</div>
<div id="S9.SS1.SSS1.p7" class="ltx_para">
<p class="ltx_p">Arguments of simple types are by default mapped as follows for FORTRAN 77:</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Modelica</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" colspan="2"><span class="ltx_text ltx_font_italic">FORTRAN 77</span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_th ltx_th_row ltx_border_r"></th>
<td class="ltx_td ltx_align_center"><span class="ltx_text ltx_font_italic">Input</span></td>
<td class="ltx_td ltx_align_center"><span class="ltx_text ltx_font_italic">Output</span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Real</span></th>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_FORTRAN77 ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">DOUBLE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">PRECISION</span></span></td>
<td class="ltx_td ltx_align_left ltx_border_tt"><span class="ltx_text ltx_lst_language_FORTRAN77 ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">DOUBLE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">PRECISION</span></span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Integer</span></th>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keyword ltx_lst_language_FORTRAN77 ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">INTEGER</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_keyword ltx_lst_language_FORTRAN77 ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">INTEGER</span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Boolean</span></th>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keyword ltx_lst_language_FORTRAN77 ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">LOGICAL</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_keyword ltx_lst_language_FORTRAN77 ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">LOGICAL</span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">String</span></th>
<td class="ltx_td ltx_align_left ltx_border_r"><em class="ltx_emph ltx_font_italic">Special</em></td>
<td class="ltx_td ltx_align_left"><em class="ltx_emph ltx_font_italic">Not available</em></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r">Enumeration type</th>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_keyword ltx_lst_language_FORTRAN77 ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">INTEGER</span></td>
<td class="ltx_td ltx_align_left ltx_border_b"><span class="ltx_text ltx_lst_keyword ltx_lst_language_FORTRAN77 ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">INTEGER</span></td>
</tr>
</tbody>
</table>
</div>
<div id="S9.SS1.SSS1.p8" class="ltx_para">
<p class="ltx_p">Sending string literals to FORTRAN 77 subroutines/functions is supported
for Lapack/Blas-routines, and the strings are <span class="ltx_text ltx_font_smallcaps">nul</span>-terminated for
compatibility with C. Returning strings from FORTRAN 77
subroutines/functions is currently not supported.</p>
</div>
<div id="S9.SS1.SSS1.p9" class="ltx_para">
<p class="ltx_p">Enumeration types used as arguments are mapped to type int when calling an external C function, and to type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">INTEGER</span> when calling an external FORTRAN function.
The <math id="S9.SS1.SSS1.p9.m1" class="ltx_Math" alttext="i" display="inline"><mi>i</mi></math>th enumeration literal is mapped to integer value <math id="S9.SS1.SSS1.p9.m2" class="ltx_Math" alttext="i" display="inline"><mi>i</mi></math>, starting at 1.</p>
</div>
<div id="S9.SS1.SSS1.p10" class="ltx_para">
<p class="ltx_p">Return values are mapped to enumeration types analogously: integer value
1 is mapped to the first enumeration literal, 2 to the second, etc.
Returning a value which does not map to an existing enumeration literal
for the specified enumeration type is an error.</p>
</div>
</section>
<section id="arrays-1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">12.9.1.2 </span>Arrays</h4>

<div id="S9.SS1.SSS2.p1" class="ltx_para">
<p class="ltx_p">Unless an explicit function call is present in the external-clause, an array is passed by its address followed by <math id="S9.SS1.SSS2.p1.m1" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math> arguments of type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">size_t</span> with the corresponding array dimension sizes, where <math id="S9.SS1.SSS2.p1.m2" class="ltx_Math" alttext="n" display="inline"><mi>n</mi></math> is the number of dimensions.</p>
</div>
<div id="S9.SS1.SSS2.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_C ltx_lstlisting ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">size_t</span> is a C unsigned integer type.</span>]</p>
</div>
<div id="S9.SS1.SSS2.p3" class="ltx_para">
<p class="ltx_p">Arrays are by default stored in row-major order when calling C functions and in column-major order when calling FORTRAN 77 functions. These defaults can be overridden by the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">arrayLayout</span> annotation. See the example below.</p>
</div>
<div id="S9.SS1.SSS2.p4" class="ltx_para">
<p class="ltx_p">The table below shows the mapping of an array argument in the absence of an explicit external function call when calling a C function.
The type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">T</span> is allowed to be any of the simple types which can be passed to C as defined in <a href="#simple-types" title="12.9.1.1 Simple Types ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.1.1</span></a> or a record type as defined in <a href="#records" title="12.9.1.3 Records ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.1.3</span></a> and it is mapped to the type <math id="S9.SS1.SSS2.p4.m1" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi>T</mi><mo>′</mo></msup></math> as defined in these sections for input arguments.
Array inputs to C-functions are const-pointers, indicating that the arrays shall not be changed.</p>
</div>
<div id="S9.SS1.SSS2.p5" class="ltx_para ltx_align_center">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Modelica</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="2"><span class="ltx_text ltx_font_italic">C</span></th>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column"><span class="ltx_text ltx_font_italic">Input</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column"><span class="ltx_text ltx_font_italic">Output</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">T</span>[<math id="S9.SS1.SSS2.p5.m1" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>]</span></th>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m2" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi mathbackground="#FFFFFF">T</mi><mo mathbackground="#FFFFFF">′</mo></msup></math><span class="ltx_text ltx_lst_space"> </span>*,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m3" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math></span></td>
<td class="ltx_td ltx_align_left ltx_border_tt"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><math id="S9.SS1.SSS2.p5.m4" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi mathbackground="#FFFFFF">T</mi><mo mathbackground="#FFFFFF">′</mo></msup></math><span class="ltx_text ltx_lst_space"> </span>*,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m5" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math></span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">T</span>[<math id="S9.SS1.SSS2.p5.m6" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m7" class="ltx_Math" alttext="\mathit{dim}_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">2</mn></msub></math>]</span></th>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m8" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi mathbackground="#FFFFFF">T</mi><mo mathbackground="#FFFFFF">′</mo></msup></math><span class="ltx_text ltx_lst_space"> </span>*,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m9" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m10" class="ltx_Math" alttext="\mathit{dim}_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">2</mn></msub></math></span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><math id="S9.SS1.SSS2.p5.m11" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi mathbackground="#FFFFFF">T</mi><mo mathbackground="#FFFFFF">′</mo></msup></math><span class="ltx_text ltx_lst_space"> </span>*,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m12" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m13" class="ltx_Math" alttext="\mathit{dim}_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">2</mn></msub></math></span></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">T</span>[<math id="S9.SS1.SSS2.p5.m14" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m15" class="ltx_Math" alttext="\mathit{dim}_{n}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mi mathbackground="#FFFFFF">n</mi></msub></math>]</span></th>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m16" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi mathbackground="#FFFFFF">T</mi><mo mathbackground="#FFFFFF">′</mo></msup></math><span class="ltx_text ltx_lst_space"> </span>*,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m17" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m18" class="ltx_Math" alttext="\mathit{dim}_{n}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mi mathbackground="#FFFFFF">n</mi></msub></math></span></td>
<td class="ltx_td ltx_align_left ltx_border_b"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><math id="S9.SS1.SSS2.p5.m19" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi mathbackground="#FFFFFF">T</mi><mo mathbackground="#FFFFFF">′</mo></msup></math><span class="ltx_text ltx_lst_space"> </span>*,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m20" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p5.m21" class="ltx_Math" alttext="\mathit{dim}_{n}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mi mathbackground="#FFFFFF">n</mi></msub></math></span></td>
</tr>
</tbody>
</table>
</div>
<div id="S9.SS1.SSS2.p6" class="ltx_para">
<p class="ltx_p">The method used to pass array arguments to FORTRAN 77 functions in the absence of an explicit external function call is similar to the one defined above for C: first the address of the array, then the dimension sizes as integers.
See the table below.
The type T is allowed to be any of the simple types which can be passed to FORTRAN 77 as defined in <a href="#simple-types" title="12.9.1.1 Simple Types ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.1.1</span></a> and it is mapped to the type <math id="S9.SS1.SSS2.p6.m1" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi>T</mi><mo>′</mo></msup></math> as defined in that section.</p>
</div>
<div id="S9.SS1.SSS2.p7" class="ltx_para ltx_align_center">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Modelica</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">FORTRAN 77</span></th>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_th ltx_th_column ltx_border_r"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column"><span class="ltx_text ltx_font_italic">Input and output</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">T</span>[<math id="S9.SS1.SSS2.p7.m1" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>]</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt"><span class="ltx_text ltx_lst_language_FORTRAN77 ltx_lstlisting" style="background-color:#FFFFFF;"><math id="S9.SS1.SSS2.p7.m2" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi mathbackground="#FFFFFF">T</mi><mo mathbackground="#FFFFFF">′</mo></msup></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p7.m3" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math></span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">T</span>[<math id="S9.SS1.SSS2.p7.m4" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p7.m5" class="ltx_Math" alttext="\mathit{dim}_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">2</mn></msub></math>]</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_language_FORTRAN77 ltx_lstlisting" style="background-color:#FFFFFF;"><math id="S9.SS1.SSS2.p7.m6" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi mathbackground="#FFFFFF">T</mi><mo mathbackground="#FFFFFF">′</mo></msup></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p7.m7" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p7.m8" class="ltx_Math" alttext="\mathit{dim}_{2}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">2</mn></msub></math></span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">T</span>[<math id="S9.SS1.SSS2.p7.m9" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p7.m10" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p7.m11" class="ltx_Math" alttext="\mathit{dim}_{n}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mi mathbackground="#FFFFFF">n</mi></msub></math>]</span></td>
<td class="ltx_td ltx_align_left ltx_border_b"><span class="ltx_text ltx_lst_language_FORTRAN77 ltx_lstlisting" style="background-color:#FFFFFF;"><math id="S9.SS1.SSS2.p7.m12" class="ltx_Math" alttext="T^{\prime}" display="inline"><msup><mi mathbackground="#FFFFFF">T</mi><mo mathbackground="#FFFFFF">′</mo></msup></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p7.m13" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p7.m14" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space"> </span><math id="S9.SS1.SSS2.p7.m15" class="ltx_Math" alttext="\mathit{dim}_{n}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mi mathbackground="#FFFFFF">n</mi></msub></math></span></td>
</tr>
</tbody>
</table>
</div>
<div id="S9.SS1.SSS2.p8" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
The following two examples illustrate the default mapping of
array arguments to external C and FORTRAN 77 functions.</span></p>
</div>
<div id="S9.SS1.SSS2.p9" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vCiAgaW5wdXQgUmVhbCBhWzosOiw6XTsKICBvdXRwdXQgUmVhbCB4OwogIGV4dGVybmFsOwplbmQgZm9vOw==">⬇</a></div>
<div id="lstnumberx3185" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>
</div>
<div id="lstnumberx3186" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a</span>[:,:,:];
</div>
<div id="lstnumberx3187" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3188" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span>;
</div>
<div id="lstnumberx3189" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The corresponding C prototype is as follows:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZG91YmxlIGZvbyhjb25zdCBkb3VibGUgKiwgc2l6ZV90LCBzaXplX3QsIHNpemVfdCk7">⬇</a></div>
<div id="lstnumberx3190" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span>*,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span>);
</div>
</div>
</div>
<div id="S9.SS1.SSS2.p10" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">If the external function is written in FORTRAN 77, i.e.:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vCiAgaW5wdXQgUmVhbCBhWzosOiw6XTsKICBvdXRwdXQgUmVhbCB4OwpleHRlcm5hbCAiRk9SVFJBTiA3NyI7CmVuZCBmb287">⬇</a></div>
<div id="lstnumberx3191" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>
</div>
<div id="lstnumberx3192" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a</span>[:,:,:];
</div>
<div id="lstnumberx3193" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3194" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"FORTRAN<span class="ltx_text ltx_lst_space"> </span>77"</span>;
</div>
<div id="lstnumberx3195" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">the default assumptions correspond to a FORTRAN 77 function
defined as follows:</span></p>
<div class="ltx_listing ltx_lst_language_FORTRAN77 ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,RlVOQ1RJT04gZm9vKGEsIGQxLCBkMiwgZDMpCiAgRE9VQkxFIFBSRUNJU0lPTihkMSwgZDIsIGQzKSBhCiAgSU5URUdFUiAgICAgICAgICAgICAgICAgICAgICBkMQogIElOVEVHRVIgICAgICAgICAgICAgICAgICAgICAgZDIKICBJTlRFR0VSICAgICAgICAgICAgICAgICAgICAgIGQzCiAgRE9VQkxFIFBSRUNJU0lPTiAgICAgICAgICAgICBmb28KICAkXGxkb3RzJApFTkQ=">⬇</a></div>
<div id="lstnumberx3196" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">FUNCTION</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>(<span class="ltx_text ltx_lst_identifier">a</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d2</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d3</span>)
</div>
<div id="lstnumberx3197" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">DOUBLE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">PRECISION</span>(<span class="ltx_text ltx_lst_identifier">d1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d2</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">d3</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a</span>
</div>
<div id="lstnumberx3198" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space">                      </span><span class="ltx_text ltx_lst_identifier">d1</span>
</div>
<div id="lstnumberx3199" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space">                      </span><span class="ltx_text ltx_lst_identifier">d2</span>
</div>
<div id="lstnumberx3200" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space">                      </span><span class="ltx_text ltx_lst_identifier">d3</span>
</div>
<div id="lstnumberx3201" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">DOUBLE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">PRECISION</span><span class="ltx_text ltx_lst_space">             </span><span class="ltx_text ltx_lst_identifier">foo</span>
</div>
<div id="lstnumberx3202" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3202.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3203" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">END</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S9.SS1.SSS2.p11" class="ltx_para">
<p class="ltx_p">When an explicit call to the external function is present, the array and
the sizes of its dimensions must be passed explicitly.</p>
</div>
<div id="S9.SS1.SSS2.p12" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
This example shows how arrays can be passed explicitly to an
external FORTRAN 77 function when the default assumptions are
unsuitable.</span></p>
</div>
<div id="S9.SS1.SSS2.p13" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vCiAgaW5wdXQgUmVhbCB4WzpdOwogIGlucHV0IFJlYWwgeVtzaXplKHgsMSksOl07CiAgaW5wdXQgSW50ZWdlciBpOwogIG91dHB1dCBSZWFsIHUxW3NpemUoeSwxKV07CiAgb3V0cHV0IEludGVnZXIgdTJbc2l6ZSh5LDIpXTsKZXh0ZXJuYWwgIkZPUlRSQU4gNzciCiAgbXlmb28oeCwgeSwgc2l6ZSh4LDEpLCBzaXplKHksMiksIHUxLCBpLCB1Mik7CmVuZCBmb287">⬇</a></div>
<div id="lstnumberx3204" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>
</div>
<div id="lstnumberx3205" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>[:];
</div>
<div id="lstnumberx3206" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>[<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">x</span>,1),:];
</div>
<div id="lstnumberx3207" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i</span>;
</div>
<div id="lstnumberx3208" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u1</span>[<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">y</span>,1)];
</div>
<div id="lstnumberx3209" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u2</span>[<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">y</span>,2)];
</div>
<div id="lstnumberx3210" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"FORTRAN<span class="ltx_text ltx_lst_space"> </span>77"</span>
</div>
<div id="lstnumberx3211" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">myfoo</span>(<span class="ltx_text ltx_lst_identifier">x</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">x</span>,1),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size</span>(<span class="ltx_text ltx_lst_identifier">y</span>,2),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u2</span>);
</div>
<div id="lstnumberx3212" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The corresponding FORTRAN 77 subroutine would be declared as follows:</span></p>
<div class="ltx_listing ltx_lst_language_FORTRAN77 ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,U1VCUk9VVElORSBteWZvbyh4LCB5LCBuLCBtLCB1MSwgaSwgdTIpCiAgRE9VQkxFIFBSRUNJU0lPTihuKSB4CiAgRE9VQkxFIFBSRUNJU0lPTihuLG0pIHkKICBJTlRFR0VSIG4KICBJTlRFR0VSIG0KICBET1VCTEUgUFJFQ0lTSU9OKG4pIHUxCiAgSU5URUdFUiBpCiAgRE9VQkxFIFBSRUNJU0lPTihtKSB1MgogICRcbGRvdHMkCkVORA==">⬇</a></div>
<div id="lstnumberx3213" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">SUBROUTINE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">myfoo</span>(<span class="ltx_text ltx_lst_identifier">x</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">n</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">m</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u2</span>)
</div>
<div id="lstnumberx3214" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">DOUBLE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">PRECISION</span>(<span class="ltx_text ltx_lst_identifier">n</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>
</div>
<div id="lstnumberx3215" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">DOUBLE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">PRECISION</span>(<span class="ltx_text ltx_lst_identifier">n</span>,<span class="ltx_text ltx_lst_identifier">m</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>
</div>
<div id="lstnumberx3216" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">n</span>
</div>
<div id="lstnumberx3217" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">m</span>
</div>
<div id="lstnumberx3218" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">DOUBLE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">PRECISION</span>(<span class="ltx_text ltx_lst_identifier">n</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u1</span>
</div>
<div id="lstnumberx3219" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">INTEGER</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">i</span>
</div>
<div id="lstnumberx3220" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">DOUBLE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">PRECISION</span>(<span class="ltx_text ltx_lst_identifier">m</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u2</span>
</div>
<div id="lstnumberx3221" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><math id="lstnumberx3221.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>
</div>
<div id="lstnumberx3222" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">END</span>
</div>
</div>
</div>
<div id="S9.SS1.SSS2.p14" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This example shows how to pass an array in column major order to a C function.</span></p>
</div>
<div id="S9.SS1.SSS2.p15" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZmllCiAgaW5wdXQgUmVhbFs6LDpdIGE7CiAgb3V0cHV0IFJlYWwgYjsKICBleHRlcm5hbDsKICBhbm5vdGF0aW9uKGFycmF5TGF5b3V0ID0gImNvbHVtbk1ham9yIik7CmVuZCBmaWU7">⬇</a></div>
<div id="lstnumberx3223" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fie</span>
</div>
<div id="lstnumberx3224" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span>[:,:]<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a</span>;
</div>
<div id="lstnumberx3225" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span>;
</div>
<div id="lstnumberx3226" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span>;
</div>
<div id="lstnumberx3227" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">arrayLayout</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"columnMajor"</span>);
</div>
<div id="lstnumberx3228" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fie</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This corresponds to the following C prototype:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZG91YmxlIGZpZShjb25zdCBkb3VibGUgKiwgc2l6ZV90LCBzaXplX3QpOw==">⬇</a></div>
<div id="lstnumberx3229" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fie</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span>*,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span>);
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="records" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">12.9.1.3 </span>Records</h4>

<div id="S9.SS1.SSS3.p1" class="ltx_para">
<p class="ltx_p">Mapping of record types is only supported for C. A Modelica record class
that contains simple types, other record elements, is mapped as follows:
</p>
<ul id="S9.I3" class="ltx_itemize">
<li id="S9.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I3.i1.p1" class="ltx_para">
<p class="ltx_p">The record class is represented by a struct in C.</p>
</div>
</li>
<li id="S9.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I3.i2.p1" class="ltx_para">
<p class="ltx_p">Each element of the Modelica record is mapped to its corresponding C
representation.</p>
</div>
</li>
<li id="S9.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I3.i3.p1" class="ltx_para">
<p class="ltx_p">The elements of the Modelica record class are declared in the same
order in the C struct.</p>
</div>
</li>
<li id="S9.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I3.i4.p1" class="ltx_para">
<p class="ltx_p">Arrays cannot be mapped.</p>
</div>
</li>
</ul>
</div>
<div id="S9.SS1.SSS3.p2" class="ltx_para">
<p class="ltx_p">Records are passed by reference (i.e. a pointer to the record is being
passed).</p>
</div>
<div id="S9.SS1.SSS3.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cmVjb3JkIFIKICBSZWFsIHg7CiAgUmVhbCB6OwplbmQgUjs=">⬇</a></div>
<div id="lstnumberx3230" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">R</span>
</div>
<div id="lstnumberx3231" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3232" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>;
</div>
<div id="lstnumberx3233" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">R</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">is mapped to:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,c3RydWN0IFIgewogIGRvdWJsZSB4OwogIGRvdWJsZSB6Owp9Ow==">⬇</a></div>
<div id="lstnumberx3234" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">struct</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">R</span><span class="ltx_text ltx_lst_space"> </span>{
</div>
<div id="lstnumberx3235" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3236" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>;
</div>
<div id="lstnumberx3237" class="ltx_listingline">};
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="return-type-mapping" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.9.2 </span>Return Type Mapping</h3>

<div id="S9.SS2.p1" class="ltx_para">
<p class="ltx_p">If there is a single output parameter and no explicit call of the external function, or if there is an explicit external call in the form of an equation, in which case the LHS must be one of the output parameters, the external routine is assumed to be a value-returning function.
Otherwise the external function is assumed not to return anything; i.e., it is really a procedure or, in C, a void-function.</p>
</div>
<div id="S9.SS2.p2" class="ltx_para">
<p class="ltx_p">Mapping of the return type of functions is performed as indicated in the table below.
Storage for arrays as return values is allocated by the calling routine, so the dimensions of the returned array are fixed at call time.
See <a href="#simple-types" title="12.9.1.1 Simple Types ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.1.1</span></a> regarding returning of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">String</span> values.</p>
</div>
<div id="S9.SS2.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">In the case of an external function not returning anything, argument type mapping according to <a href="#simple-types" title="12.9.1.1 Simple Types ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.1.1</span></a> is performed in the absence
of any explicit external function call.</span>]</p>
</div>
<div id="S9.SS2.p4" class="ltx_para">
<p class="ltx_p">Return types are by default mapped as follows for C and FORTRAN 77:</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Modelica</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">C</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">FORTRAN 77</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Real</span></td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_keyword ltx_lst_language_C ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">double</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt"><span class="ltx_text ltx_lst_language_FORTRAN77 ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">DOUBLE</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">PRECISION</span></span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Integer</span></td>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keyword ltx_lst_language_C ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">int</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_keyword ltx_lst_language_FORTRAN77 ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">INTEGER</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">Boolean</span></td>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keyword ltx_lst_language_C ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">int</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_keyword ltx_lst_language_FORTRAN77 ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">LOGICAL</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" style="color:#543D08;background-color:#FFFFFF;">String</span></td>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*</span></td>
<td class="ltx_td ltx_align_left"><em class="ltx_emph ltx_font_italic">Not allowed</em></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">T</span>[<math id="S9.SS2.p4.m1" class="ltx_Math" alttext="\mathit{dim}_{1}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mn mathbackground="#FFFFFF">1</mn></msub></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS2.p4.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS2.p4.m3" class="ltx_Math" alttext="\mathit{dim}_{n}" display="inline"><msub><mi mathbackground="#FFFFFF">𝑑𝑖𝑚</mi><mi mathbackground="#FFFFFF">n</mi></msub></math>]</span></td>
<td class="ltx_td ltx_align_left ltx_border_r"><em class="ltx_emph ltx_font_italic">Not allowed</em></td>
<td class="ltx_td ltx_align_left"><em class="ltx_emph ltx_font_italic">Not allowed</em></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r">Enumeration type</td>
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_keyword ltx_lst_language_C ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">int</span></td>
<td class="ltx_td ltx_align_left"><span class="ltx_text ltx_lst_keyword ltx_lst_language_FORTRAN77 ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">INTEGER</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r">Record</td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r">See <a href="#records" title="12.9.1.3 Records ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.1.3</span></a>
</td>
<td class="ltx_td ltx_align_left ltx_border_b"><em class="ltx_emph ltx_font_italic">Not allowed</em></td>
</tr>
</tbody>
</table>
</div>
<div id="S9.SS2.p5" class="ltx_para">
<p class="ltx_p">The element type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">T</span> of an array can be any simple type as defined in <a href="#simple-types" title="12.9.1.1 Simple Types ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.1.1</span></a> or, for C, a record type is returned as a value of the record type defined in <a href="#records" title="12.9.1.3 Records ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.1.3</span></a>.</p>
</div>
</section>
<section id="aliasing" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.9.3 </span>Aliasing</h3>

<div id="S9.SS3.p1" class="ltx_para">
<p class="ltx_p">Any potential aliasing in the external function is the responsibility of
the tool and not the user. An external function is not allowed to
internally change the inputs (even if they are restored before the end
of the function).</p>
</div>
<div id="S9.SS3.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IFJlYWwgeTsKICBvdXRwdXQgUmVhbCB6ID0geDsKZXh0ZXJuYWwgIkZPUlRSQU4gNzciCiAgbXlmb28oeCwgeSwgeik7CmVuZCBmb287">⬇</a></div>
<div id="lstnumberx3238" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>
</div>
<div id="lstnumberx3239" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3240" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3241" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3242" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"FORTRAN<span class="ltx_text ltx_lst_space"> </span>77"</span>
</div>
<div id="lstnumberx3243" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">myfoo</span>(<span class="ltx_text ltx_lst_identifier">x</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>);
</div>
<div id="lstnumberx3244" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The following Modelica function:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZgogIGlucHV0IFJlYWwgYTsKICBvdXRwdXQgUmVhbCBiOwphbGdvcml0aG0KICBiIDo9IGZvbyhhLCBhKTsKICBiIDo9IGZvbyhiLCAyICogYik7CmVuZCBmOw==">⬇</a></div>
<div id="lstnumberx3245" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>
</div>
<div id="lstnumberx3246" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a</span>;
</div>
<div id="lstnumberx3247" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span>;
</div>
<div id="lstnumberx3248" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">algorithm</span>
</div>
<div id="lstnumberx3249" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">b</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>(<span class="ltx_text ltx_lst_identifier">a</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a</span>);
</div>
<div id="lstnumberx3250" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">b</span><span class="ltx_text ltx_lst_space"> </span>:=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>(<span class="ltx_text ltx_lst_identifier">b</span>,<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span>);
</div>
<div id="lstnumberx3251" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">can on most systems be transformed into the following C function:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZG91YmxlIGYoZG91YmxlIGEpIHsKICBleHRlcm4gdm9pZCBteWZvb18oZG91YmxlKiwgZG91YmxlKiwgZG91YmxlKik7CiAgZG91YmxlIGIsIHRlbXAxLCB0ZW1wMjsKCiAgbXlmb29fKCZhLCAmYSwgJmIpOwogIHRlbXAxID0gMiAqIGI7CiAgdGVtcDIgPSBiOwogIG15Zm9vXygmYiwgJnRlbXAxLCAmdGVtcDIpOwoKICByZXR1cm4gdGVtcDI7Cn0=">⬇</a></div>
<div id="lstnumberx3252" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a</span>)<span class="ltx_text ltx_lst_space"> </span>{
</div>
<div id="lstnumberx3253" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">extern</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">myfoo_</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span>*,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span>*,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span>*);
</div>
<div id="lstnumberx3254" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">temp1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">temp2</span>;
</div>
<div id="lstnumberx3255" class="ltx_listingline">
</div>
<div id="lstnumberx3256" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">myfoo_</span>(&amp;<span class="ltx_text ltx_lst_identifier">a</span>,<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_identifier">a</span>,<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_identifier">b</span>);
</div>
<div id="lstnumberx3257" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">temp1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span>;
</div>
<div id="lstnumberx3258" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">temp2</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span>;
</div>
<div id="lstnumberx3259" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">myfoo_</span>(&amp;<span class="ltx_text ltx_lst_identifier">b</span>,<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_identifier">temp1</span>,<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_identifier">temp2</span>);
</div>
<div id="lstnumberx3260" class="ltx_listingline">
</div>
<div id="lstnumberx3261" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">return</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">temp2</span>;
</div>
<div id="lstnumberx3262" class="ltx_listingline">}
</div>
</div>
</div>
<div id="S9.SS3.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The reason for not allowing the external function to change the
inputs is to ensure that inputs can be stored in static memory and to
avoid superfluous copying (especially of matrices). If the routine does
not satisfy the requirements the interface must copy the input argument
to a temporary. This is rare but occurs e.g. in <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">dormlq</span> in some
Lapack implementations. In those special cases the writer of the
external interface have to copy the input to a temporary. If the first
input was changed internally in myfoo the designer of the interface
would have to change the interface function <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">foo</span> to:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vCiAgaW5wdXQgUmVhbCB4OwogIHByb3RlY3RlZCBSZWFsIHh0ZW1wID0geDsgLy8gVGVtcG9yYXJ5IHVzZWQgYmVjYXVzZSBteWZvbyBjaGFuZ2VzIGl0cyBpbnB1dAogIHB1YmxpYyBpbnB1dCBSZWFsIHk7CiAgb3V0cHV0IFJlYWwgejsKZXh0ZXJuYWwgIkZPUlRSQU4gNzciCiAgbXlmb28oeHRlbXAsIHksIHopOwplbmQgZm9vOw==">⬇</a></div>
<div id="lstnumberx3263" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>
</div>
<div id="lstnumberx3264" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3265" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">protected</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">xtemp</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Temporary<span class="ltx_text ltx_lst_space"> </span>used<span class="ltx_text ltx_lst_space"> </span>because<span class="ltx_text ltx_lst_space"> </span>myfoo<span class="ltx_text ltx_lst_space"> </span>changes<span class="ltx_text ltx_lst_space"> </span>its<span class="ltx_text ltx_lst_space"> </span>input</span>
</div>
<div id="lstnumberx3266" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">public</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3267" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>;
</div>
<div id="lstnumberx3268" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"FORTRAN<span class="ltx_text ltx_lst_space"> </span>77"</span>
</div>
<div id="lstnumberx3269" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">myfoo</span>(<span class="ltx_text ltx_lst_identifier">xtemp</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">z</span>);
</div>
<div id="lstnumberx3270" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>;
</div>
</div>
</div>
<div id="S9.SS3.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Note that we discuss input arguments for Fortran-routines even
though FORTRAN 77 does not formally have input arguments and forbid
aliasing between any pair of arguments to a function (Section 15.9.3.6
of X3J3/90.4). For the few (if any) FORTRAN 77 compilers that strictly
follow the standard and are unable to handle aliasing between input
variables the tool must transform the first call of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">foo</span> into:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dGVtcDEgPSBhOyAvKiBUZW1wb3JhcnkgdG8gYXZvaWQgYWxpYXNpbmcgKi8KbXlmb29fKCZhLCAmdGVtcDEsICZiKTs=">⬇</a></div>
<div id="lstnumberx3271" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">temp1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">a</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>Temporary<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>avoid<span class="ltx_text ltx_lst_space"> </span>aliasing<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3272" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">myfoo_</span>(&amp;<span class="ltx_text ltx_lst_identifier">a</span>,<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_identifier">temp1</span>,<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_identifier">b</span>);
</div>
</div>
</div>
<div id="S9.SS3.p5" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The use of the function <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">foo</span> in Modelica is uninfluenced by these considerations.</span>]</p>
</div>
</section>
<section id="annotations-for-external-libraries-and-include-files" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.9.4 </span>Annotations for External Libraries and Include Files</h3>

<div id="S9.SS4.p1" class="ltx_para">
<p class="ltx_p">The following annotations are useful in the context of calling external functions from Modelica, and they should occur on the external-clause and no other standard annotations should occur on the external-clause.
They can all specify either a scalar value or an array of values as indicated below for the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">Library</span> annotation:</p>
<ul id="S9.I4" class="ltx_itemize">
<li id="S9.I4.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I4.i1.p1" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">Library</span>=<span class="ltx_text ltx_lst_string" style="color:#000000;">"libraryName"</span>)</span>, used by the linker to include the library file where the compiled external function is available.</p>
</div>
</li>
<li id="S9.I4.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I4.i2.p1" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">Library</span>=(<span class="ltx_text ltx_lst_string" style="color:#000000;">"libraryName1"</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"libraryName2"</span>))</span>, used by the linker to include the library files where the compiled external function is available and additional libraries used to implement it.
For shared libraries it is recommended to include all non-system libraries in this list.</p>
</div>
</li>
<li id="S9.I4.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I4.i3.p1" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">Include</span>=<span class="ltx_text ltx_lst_string" style="color:#000000;">"includeDirective"</span>)</span>, used to include source files needed for calling the external function in the code generated by the Modelica compiler.
The included code should be valid C89 code.</p>
</div>
<div id="S9.I4.i3.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Examples of files that can be included are header files or source files that contain the functions referenced in the external function declaration.</span>]</p>
</div>
</li>
<li id="S9.I4.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I4.i4.p1" class="ltx_para">
<p class="ltx_p">The
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">IncludeDirectory</span>=<span class="ltx_text ltx_lst_string" style="color:#000000;">"modelica://ModelicaLibraryName/Resources/Include"</span>)</span>, used to specify a location for header files.
The preceding one is the default and need not be specified; but another location could be specified by using an URI name for the include directory, see <a href="packages.html#external-resources" title="13.5 External resources ‣ Chapter 13 Packages ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">13.5</span></a>.</p>
</div>
</li>
<li id="S9.I4.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I4.i5.p1" class="ltx_para">
<p class="ltx_p">The
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">LibraryDirectory</span>=<span class="ltx_text ltx_lst_string" style="color:#000000;">"modelica://ModelicaLibraryName/Resources/Library"</span>)</span>, used to specify a location for library files.
The preceding one is the default and need not be specified; but another location could be specified by using an URI name for the library directory, see <a href="packages.html#external-resources" title="13.5 External resources ‣ Chapter 13 Packages ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">13.5</span></a>.
Different versions of one object library can be provided (e.g. for Windows and for Linux) by providing a <em class="ltx_emph ltx_font_italic">platform</em> directory below the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">LibraryDirectory</span>.
If no platform directory is present, the object library must be present in the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">LibraryDirectory</span>.
The following <em class="ltx_emph ltx_font_italic">platform</em> names are standardized:</p>
<ul id="S9.I4.i5.I1" class="ltx_itemize">
<li id="S9.I4.i5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">–</span></span> 
<div id="S9.I4.i5.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"win32"</span> (Microsoft Windows 32 bit)</p>
</div>
</li>
<li id="S9.I4.i5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">–</span></span> 
<div id="S9.I4.i5.I1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"win64"</span> (Microsoft Windows 64 bit)</p>
</div>
</li>
<li id="S9.I4.i5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">–</span></span> 
<div id="S9.I4.i5.I1.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"linux32"</span> (Linux Intel 32 bit)</p>
</div>
</li>
<li id="S9.I4.i5.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">–</span></span> 
<div id="S9.I4.i5.I1.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting" style="color:#000000;background-color:#FFFFFF;">"linux64"</span> (Linux Intel 64 bit)</p>
</div>
</li>
</ul>
</div>
</li>
<li id="S9.I4.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I4.i6.p1" class="ltx_para">
<p class="ltx_p">The
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">SourceDirectory</span>=<span class="ltx_text ltx_lst_string" style="color:#000000;">"modelica://ModelicaLibraryName/Resources/Source"</span>)</span>, gives the location for source files.
The preceding one is the default and need not be specified; but another location could be specified by using an URI name for the source directory, see <a href="packages.html#external-resources" title="13.5 External resources ‣ Chapter 13 Packages ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">13.5</span></a>.
It is not specified how they are built.</p>
</div>
</li>
</ul>
</div>
<div id="S9.SS4.p2" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_font_sansserif">win32</span> or <span class="ltx_text ltx_font_sansserif">win64</span> directories may contain <span class="ltx_text ltx_font_sansserif">gcc47</span>, <span class="ltx_text ltx_font_sansserif">vs2010</span>, <span class="ltx_text ltx_font_sansserif">vs2012</span>
for specific versions of these compilers and these are used instead of
the general <span class="ltx_text ltx_font_sansserif">win32</span> or <span class="ltx_text ltx_font_sansserif">win64</span> directories, and similarly for other
platforms.</p>
</div>
<div id="S9.SS4.p3" class="ltx_para">
<p class="ltx_p">The library on Windows may refer to a lib-file (static library), both a lib- and dll-file (in this case the lib-file is an import-library),
or just a dll-file. It shall not refer to an obj-file.</p>
</div>
<div id="S9.SS4.p4" class="ltx_para">
<p class="ltx_p">If the directory for the specific compiler version is missing the
platform specific directory is used.</p>
</div>
<div id="S9.SS4.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">A tool may give diagnostics if the directory corresponding to the selected compiler version is missing. The directories may use symbolic links or use
a text-file as described below: e.g. a text-file <span class="ltx_text ltx_font_sansserif">vs2008</span> containing the text <em class="ltx_emph ltx_font_upright">../win32/vs2005</em> (or <em class="ltx_emph ltx_font_upright">vs2005</em>) suggesting that it is
compatible with vs2005.</span>]</p>
</div>
<div id="S9.SS4.p6" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaLibraryName</span> used for <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">IncludeDirectory</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">LibraryDirectory</span>, and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">SourceDirectory</span> indicates the top-level class where the annotation is found in the Modelica source code.</p>
</div>
<div id="S9.SS4.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Use of external functions and of object libraries:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cGFja2FnZSBFeHRlcm5hbEZ1bmN0aW9ucwogIG1vZGVsIEV4YW1wbGUKICAgIFJlYWwgeChzdGFydCA9IDEuMCksIHkoc3RhcnQgPSAyLjApOwogIGVxdWF0aW9uCiAgICBkZXIoeCkgPSAtRXh0ZXJuYWxGdW5jMSh4KTsKICAgIGRlcih5KSA9IC1FeHRlcm5hbEZ1bmMyKHkpOwogIGVuZCBFeGFtcGxlOwoKICBtb2RlbCBPdGhlckV4YW1wbGUKICAgIFJlYWwgeChzdGFydCA9IDEuMCk7CiAgZXF1YXRpb24KICAgIGRlcih4KSA9IC1FeHRlcm5hbEZ1bmMzKHgpOwogIGVuZCBPdGhlckV4YW1wbGU7CgogIGZ1bmN0aW9uIEV4dGVybmFsRnVuYzEKICAgIGlucHV0IFJlYWwgeDsKICAgIG91dHB1dCBSZWFsIHk7CiAgZXh0ZXJuYWwgIkMiCiAgICB5ID0gRXh0ZXJuYWxGdW5jMV9leHQoeCkKICAgICAgYW5ub3RhdGlvbihMaWJyYXJ5ID0gIkV4dGVybmFsTGliMSIsCiAgICAgICAgICAgICAgICAgSW5jbHVkZSA9ICIjaW5jbHVkZSBcIkV4dGVybmFsRnVuYzEuaFwiIiwKICAgICAgICAgICAgICAgICBTb3VyY2VEaXJlY3RvcnkgPQogICAgICAgICAgICAgICAgICAibW9kZWxpY2E6Ly9FeHRlcm5hbEZ1bmN0aW9ucy9SZXNvdXJjZXMvU291cmNlIik7CiAgICAgIC8vIFRoZSBTb3VyY2VEaXJlY3RvcnkgaXMgdGhlIGRlZmF1bHQgYW5kIHRodXMgcmVkdW5kYW50LgogIGVuZCBFeHRlcm5hbEZ1bmMxOwoKICBmdW5jdGlvbiBFeHRlcm5hbEZ1bmMyCiAgICBpbnB1dCBSZWFsIHg7CiAgICBvdXRwdXQgUmVhbCB5OwogIGV4dGVybmFsICJDIgogICAgICBhbm5vdGF0aW9uKExpYnJhcnkgPSAiRXh0ZXJuYWxMaWIyIiwKICAgICAgICAgICAgICAgICBJbmNsdWRlID0gIiNpbmNsdWRlIFwiRXh0ZXJuYWxGdW5jMi5oXCIiKTsKICBlbmQgRXh0ZXJuYWxGdW5jMjsKCiAgZnVuY3Rpb24gRXh0ZXJuYWxGdW5jMwogICAgaW5wdXQgUmVhbCB4OwogICAgb3V0cHV0IFJlYWwgeTsKICBleHRlcm5hbCAiQyIKICAgICAgYW5ub3RhdGlvbihJbmNsdWRlID0gIiNpbmNsdWRlIFwiRXh0ZXJuYWxGdW5jMy5jXCIiKTsKICBlbmQgRXh0ZXJuYWxGdW5jMzsKZW5kIEV4dGVybmFsRnVuY3Rpb25zOwoKcGFja2FnZSBNeUV4dGVybmFsRnVuY3Rpb25zCiAgZXh0ZW5kcyBFeHRlcm5hbEZ1bmN0aW9uczsKZW5kIE15RXh0ZXJuYWxGdW5jdGlvbnM7">⬇</a></div>
<div id="lstnumberx3273" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">package</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunctions</span>
</div>
<div id="lstnumberx3274" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Example</span>
</div>
<div id="lstnumberx3275" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>(<span class="ltx_text ltx_lst_identifier">start</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>1.0),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>(<span class="ltx_text ltx_lst_identifier">start</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>2.0);
</div>
<div id="lstnumberx3276" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx3277" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">der</span>(<span class="ltx_text ltx_lst_identifier">x</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>-<span class="ltx_text ltx_lst_identifier">ExternalFunc1</span>(<span class="ltx_text ltx_lst_identifier">x</span>);
</div>
<div id="lstnumberx3278" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">der</span>(<span class="ltx_text ltx_lst_identifier">y</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>-<span class="ltx_text ltx_lst_identifier">ExternalFunc2</span>(<span class="ltx_text ltx_lst_identifier">y</span>);
</div>
<div id="lstnumberx3279" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Example</span>;
</div>
<div id="lstnumberx3280" class="ltx_listingline">
</div>
<div id="lstnumberx3281" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">OtherExample</span>
</div>
<div id="lstnumberx3282" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>(<span class="ltx_text ltx_lst_identifier">start</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>1.0);
</div>
<div id="lstnumberx3283" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx3284" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">der</span>(<span class="ltx_text ltx_lst_identifier">x</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>-<span class="ltx_text ltx_lst_identifier">ExternalFunc3</span>(<span class="ltx_text ltx_lst_identifier">x</span>);
</div>
<div id="lstnumberx3285" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">OtherExample</span>;
</div>
<div id="lstnumberx3286" class="ltx_listingline">
</div>
<div id="lstnumberx3287" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunc1</span>
</div>
<div id="lstnumberx3288" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3289" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3290" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>
</div>
<div id="lstnumberx3291" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunc1_ext</span>(<span class="ltx_text ltx_lst_identifier">x</span>)
</div>
<div id="lstnumberx3292" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">Library</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"ExternalLib1"</span>,
</div>
<div id="lstnumberx3293" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">                 </span><span class="ltx_text ltx_lst_identifier">Include</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"#include<span class="ltx_text ltx_lst_space"> </span>\"ExternalFunc1.h\""</span>,
</div>
<div id="lstnumberx3294" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">                 </span><span class="ltx_text ltx_lst_identifier">SourceDirectory</span><span class="ltx_text ltx_lst_space"> </span>=
</div>
<div id="lstnumberx3295" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">                  </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"modelica://ExternalFunctions/Resources/Source"</span>);
</div>
<div id="lstnumberx3296" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>The<span class="ltx_text ltx_lst_space"> </span>SourceDirectory<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>default<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>thus<span class="ltx_text ltx_lst_space"> </span>redundant.</span>
</div>
<div id="lstnumberx3297" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunc1</span>;
</div>
<div id="lstnumberx3298" class="ltx_listingline">
</div>
<div id="lstnumberx3299" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunc2</span>
</div>
<div id="lstnumberx3300" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3301" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3302" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>
</div>
<div id="lstnumberx3303" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">Library</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"ExternalLib2"</span>,
</div>
<div id="lstnumberx3304" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">                 </span><span class="ltx_text ltx_lst_identifier">Include</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"#include<span class="ltx_text ltx_lst_space"> </span>\"ExternalFunc2.h\""</span>);
</div>
<div id="lstnumberx3305" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunc2</span>;
</div>
<div id="lstnumberx3306" class="ltx_listingline">
</div>
<div id="lstnumberx3307" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunc3</span>
</div>
<div id="lstnumberx3308" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3309" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3310" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>
</div>
<div id="lstnumberx3311" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">annotation</span>(<span class="ltx_text ltx_lst_identifier">Include</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"#include<span class="ltx_text ltx_lst_space"> </span>\"ExternalFunc3.c\""</span>);
</div>
<div id="lstnumberx3312" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunc3</span>;
</div>
<div id="lstnumberx3313" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunctions</span>;
</div>
<div id="lstnumberx3314" class="ltx_listingline">
</div>
<div id="lstnumberx3315" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">package</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyExternalFunctions</span>
</div>
<div id="lstnumberx3316" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">extends</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunctions</span>;
</div>
<div id="lstnumberx3317" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyExternalFunctions</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Directory structure:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,RXh0ZXJuYWxGdW5jdGlvbnMKICBwYWNrYWdlLm1vICAvLyBjb250YWlucyB0aGUgTW9kZWxpY2EgY29kZSBmcm9tIGFib3ZlCiAgUmVzb3VyY2VzCiAgICBJbmNsdWRlICAgICAgICAvLyBjb250YWlucyB0aGUgaW5jbHVkZSBmaWxlcwogICAgICBFeHRlcm5hbEZ1bmMxLmggLy8gQyBoZWFkZXIgZmlsZQogICAgICBFeHRlcm5hbEZ1bmMyLmggLy8gQyBoZWFkZXIgZmlsZQogICAgICBFeHRlcm5hbEZ1bmMzLmMgLy8gQyBzb3VyY2UgZmlsZSAobm90IGlkZWFsKQogICAgTGlicmFyeSAgICAvLyBjb250YWlucyB0aGUgb2JqZWN0IGxpYnJhcmllcyBmb3IgZGlmZmVyZW50IHBsYXRmb3JtcwogICAgICAgd2luMzIKICAgICAgICAgRXh0ZXJuYWxMaWIxLmxpYiAvLyBzdGF0aWMgbGluayBsaWJyYXJ5IGZvciBWaXN1YWxTdHVkaW8KICAgICAgICAgRXh0ZXJuYWxMaWIyLmxpYiAvLyBzdGF0aWNhbGx5IGxpbmtpbmcgdGhlIGR5bmFtaWMgbGluayBsaWJyYXJ5CiAgICAgICAgIEV4dGVybmFsTGliMi5kbGwgLy8gZHluYW1pYyBsaW5rIGxpYnJhcnkgKHdpdGggbWFuaWZlc3QpCiAgICAgICBsaW51eDMyCiAgICAgICAgIGxpYkV4dGVybmFsTGliMS5hICAvLyBzdGF0aWMgbGluayBsaWJyYXJ5CiAgICAgICAgIGxpYkV4dGVybmFsTGliMi5zbyAvLyBzaGFyZWQgbGlicmFyeQogICAgU291cmNlIC8vIFNvdXJjZXMgZm9yIGxpYnJhcnkKICAgICAgRnVuYzEuYyAgICAgICAgIC8vIEMgc291cmNlIGZvciBFeHRlcm5hbExpYjEubGliCiAgICAgIEZ1bmMyLmMgICAgICAgICAvLyBDIHNvdXJjZSBmb3IgRXh0ZXJuYWxMaWIyLmxpYgogICAgICBIZWxwZXJGdW5jLmMgICAgLy8gQyBzb3VyY2UgYWxzbyBpbmNsdWRlZCBpbiBFeHRlcm5hbExpYjIubGliCk15RXh0ZXJuYWxGdW5jdGlvbnMKICAgcGFja2FnZS5tbw==">⬇</a></div>
<div id="lstnumberx3318" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">ExternalFunctions</span>
</div>
<div id="lstnumberx3319" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">package</span>.<span class="ltx_text ltx_lst_identifier">mo</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>contains<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>Modelica<span class="ltx_text ltx_lst_space"> </span>code<span class="ltx_text ltx_lst_space"> </span>from<span class="ltx_text ltx_lst_space"> </span>above</span>
</div>
<div id="lstnumberx3320" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">Resources</span>
</div>
<div id="lstnumberx3321" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">Include</span><span class="ltx_text ltx_lst_space">        </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>contains<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>include<span class="ltx_text ltx_lst_space"> </span>files</span>
</div>
<div id="lstnumberx3322" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">ExternalFunc1</span>.<span class="ltx_text ltx_lst_identifier">h</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>C<span class="ltx_text ltx_lst_space"> </span>header<span class="ltx_text ltx_lst_space"> </span>file</span>
</div>
<div id="lstnumberx3323" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">ExternalFunc2</span>.<span class="ltx_text ltx_lst_identifier">h</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>C<span class="ltx_text ltx_lst_space"> </span>header<span class="ltx_text ltx_lst_space"> </span>file</span>
</div>
<div id="lstnumberx3324" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">ExternalFunc3</span>.<span class="ltx_text ltx_lst_identifier">c</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>C<span class="ltx_text ltx_lst_space"> </span>source<span class="ltx_text ltx_lst_space"> </span>file<span class="ltx_text ltx_lst_space"> </span>(not<span class="ltx_text ltx_lst_space"> </span>ideal)</span>
</div>
<div id="lstnumberx3325" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">Library</span><span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>contains<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>object<span class="ltx_text ltx_lst_space"> </span>libraries<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>different<span class="ltx_text ltx_lst_space"> </span>platforms</span>
</div>
<div id="lstnumberx3326" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">       </span><span class="ltx_text ltx_lst_identifier">win32</span>
</div>
<div id="lstnumberx3327" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">         </span><span class="ltx_text ltx_lst_identifier">ExternalLib1</span>.<span class="ltx_text ltx_lst_identifier">lib</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>static<span class="ltx_text ltx_lst_space"> </span>link<span class="ltx_text ltx_lst_space"> </span>library<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>VisualStudio</span>
</div>
<div id="lstnumberx3328" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">         </span><span class="ltx_text ltx_lst_identifier">ExternalLib2</span>.<span class="ltx_text ltx_lst_identifier">lib</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>statically<span class="ltx_text ltx_lst_space"> </span>linking<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>dynamic<span class="ltx_text ltx_lst_space"> </span>link<span class="ltx_text ltx_lst_space"> </span>library</span>
</div>
<div id="lstnumberx3329" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">         </span><span class="ltx_text ltx_lst_identifier">ExternalLib2</span>.<span class="ltx_text ltx_lst_identifier">dll</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>dynamic<span class="ltx_text ltx_lst_space"> </span>link<span class="ltx_text ltx_lst_space"> </span>library<span class="ltx_text ltx_lst_space"> </span>(with<span class="ltx_text ltx_lst_space"> </span>manifest)</span>
</div>
<div id="lstnumberx3330" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">       </span><span class="ltx_text ltx_lst_identifier">linux32</span>
</div>
<div id="lstnumberx3331" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">         </span><span class="ltx_text ltx_lst_identifier">libExternalLib1</span>.<span class="ltx_text ltx_lst_identifier">a</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>static<span class="ltx_text ltx_lst_space"> </span>link<span class="ltx_text ltx_lst_space"> </span>library</span>
</div>
<div id="lstnumberx3332" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">         </span><span class="ltx_text ltx_lst_identifier">libExternalLib2</span>.<span class="ltx_text ltx_lst_identifier">so</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>shared<span class="ltx_text ltx_lst_space"> </span>library</span>
</div>
<div id="lstnumberx3333" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">Source</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Sources<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>library</span>
</div>
<div id="lstnumberx3334" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">Func1</span>.<span class="ltx_text ltx_lst_identifier">c</span><span class="ltx_text ltx_lst_space">         </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>C<span class="ltx_text ltx_lst_space"> </span>source<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>ExternalLib1.lib</span>
</div>
<div id="lstnumberx3335" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">Func2</span>.<span class="ltx_text ltx_lst_identifier">c</span><span class="ltx_text ltx_lst_space">         </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>C<span class="ltx_text ltx_lst_space"> </span>source<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>ExternalLib2.lib</span>
</div>
<div id="lstnumberx3336" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">      </span><span class="ltx_text ltx_lst_identifier">HelperFunc</span>.<span class="ltx_text ltx_lst_identifier">c</span><span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>C<span class="ltx_text ltx_lst_space"> </span>source<span class="ltx_text ltx_lst_space"> </span>also<span class="ltx_text ltx_lst_space"> </span>included<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>ExternalLib2.lib</span>
</div>
<div id="lstnumberx3337" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">MyExternalFunctions</span>
</div>
<div id="lstnumberx3338" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">   </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">package</span>.<span class="ltx_text ltx_lst_identifier">mo</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Note that calling the function <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_upright">MyExternalFunctions</span><span class="ltx_text ltx_font_upright">.<span class="ltx_text ltx_lst_identifier">ExternalFunc1</span></span></span> will use
the header and library files from <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">ExternalFunction</span>, the <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_upright">ExternalFunctions</span><span class="ltx_text ltx_font_upright">.<span class="ltx_text ltx_lst_identifier">Example</span></span></span> will not use <span class="ltx_text ltx_font_sansserif">ExternalFunc3.c</span>,
and one library file may contain multiple functions.</span></p>
</div>
<div id="S9.SS4.p8" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The C-source <span class="ltx_text ltx_font_sansserif">ExternalFunc3.c</span> will be included fully, and is not part of any library.
That is not ideal for C-code, but it works for small functions.</span></p>
</div>
<div id="S9.SS4.p9" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">It is not specified how the C-sources in <span class="ltx_text ltx_font_sansserif">Source</span> will be used to build the libraries.</span></p>
</div>
<div id="S9.SS4.p10" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Header file for the function in the dynamic link / shared library
<span class="ltx_text ltx_font_sansserif">ExternalLib2</span> so that the desired functions are defined to be exported
for Microsoft VisualStudio and for GNU C compiler (note, for Linux it is
recommended to use the compiler option <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">-<span class="ltx_text ltx_lst_identifier">fPIC</span></span> to build shared
libraries or object libraries that are later transformed to a shared
library):</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gRmlsZSBFeHRlcm5hbEZ1bmMyLmgKI2lmZGVmIF9fY3BsdXNwbHVzCmV4dGVybiAiQyIgewojZW5kaWYKI2lmZGVmIF9NU0NfVkVSCiNpZmRlZiBFWFRFUk5BTF9GVU5DVElPTl9FWFBPUlQKIyAgZGVmaW5lIEVYVExJQjJfRVhQT1JUIF9fZGVjbHNwZWMoIGRsbGV4cG9ydCApCiNlbHNlCiMgIGRlZmluZSBFWFRMSUIyX0VYUE9SVCBfX2RlY2xzcGVjKCBkbGxpbXBvcnQgKQojZW5kaWYKI2VsaWYgIF9fR05VQ19fID49IDQKICAvKiBJbiBnbnVjLCBhbGwgc3ltYm9scyBhcmUgYnkgZGVmYXVsdCBleHBvcnRlZC4gSXQgaXMgc3RpbGwgb2Z0ZW4gdXNlZnVsLAogIHRvIG5vdCBleHBvcnQgYWxsIHN5bWJvbHMgYnV0IG9ubHkgdGhlIG5lZWRlZCBvbmVzICovCiMgIGRlZmluZSBFWFRMSUIyX0VYUE9SVCBfX2F0dHJpYnV0ZV9fICgodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2Vsc2UKIyAgZGVmaW5lIEVYVExJQjJfRVhQT1JUCiNlbmRpZgoKRVhUTElCMl9FWFBPUlQgdm9pZCBFeHRlcm5hbEZ1bmMyKDxmdW5jdGlvbiBhcmd1bWVudHM+KTsKCiNpZmRlZiBfX2NwbHVzcGx1cwp9CiNlbmRpZg==">⬇</a></div>
<div id="lstnumberx3339" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>File<span class="ltx_text ltx_lst_space"> </span>ExternalFunc2.h</span>
</div>
<div id="lstnumberx3340" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#ifdef</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">__cplusplus</span>
</div>
<div id="lstnumberx3341" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">extern</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span><span class="ltx_text ltx_lst_space"> </span>{
</div>
<div id="lstnumberx3342" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#endif</span>
</div>
<div id="lstnumberx3343" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#ifdef</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">_MSC_VER</span>
</div>
<div id="lstnumberx3344" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#ifdef</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">EXTERNAL_FUNCTION_EXPORT</span>
</div>
<div id="lstnumberx3345" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">define</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">EXTLIB2_EXPORT</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">__declspec</span>(<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">dllexport</span><span class="ltx_text ltx_lst_space"> </span>)
</div>
<div id="lstnumberx3346" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#else</span>
</div>
<div id="lstnumberx3347" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">define</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">EXTLIB2_EXPORT</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">__declspec</span>(<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">dllimport</span><span class="ltx_text ltx_lst_space"> </span>)
</div>
<div id="lstnumberx3348" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#endif</span>
</div>
<div id="lstnumberx3349" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#elif</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">__GNUC__</span><span class="ltx_text ltx_lst_space"> </span>&gt;=<span class="ltx_text ltx_lst_space"> </span>4
</div>
<div id="lstnumberx3350" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>In<span class="ltx_text ltx_lst_space"> </span>gnuc,<span class="ltx_text ltx_lst_space"> </span>all<span class="ltx_text ltx_lst_space"> </span>symbols<span class="ltx_text ltx_lst_space"> </span>are<span class="ltx_text ltx_lst_space"> </span>by<span class="ltx_text ltx_lst_space"> </span>default<span class="ltx_text ltx_lst_space"> </span>exported.<span class="ltx_text ltx_lst_space"> </span>It<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>still<span class="ltx_text ltx_lst_space"> </span>often<span class="ltx_text ltx_lst_space"> </span>useful,</span>
</div>
<div id="lstnumberx3351" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;">  </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">to</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">not</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">export</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">all</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">symbols</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">but</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">only</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">the</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">needed</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">ones</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">*/</span>
</div>
<div id="lstnumberx3352" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">define</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">EXTLIB2_EXPORT</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">__attribute__</span><span class="ltx_text ltx_lst_space"> </span>((<span class="ltx_text ltx_lst_identifier">visibility</span>(<span class="ltx_text ltx_lst_string" style="color:#000000;">"default"</span>)))
</div>
<div id="lstnumberx3353" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#else</span>
</div>
<div id="lstnumberx3354" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#</span><span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">define</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">EXTLIB2_EXPORT</span>
</div>
<div id="lstnumberx3355" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#endif</span>
</div>
<div id="lstnumberx3356" class="ltx_listingline">
</div>
<div id="lstnumberx3357" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">EXTLIB2_EXPORT</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalFunc2</span>(&lt;<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">arguments</span>&gt;);
</div>
<div id="lstnumberx3358" class="ltx_listingline">
</div>
<div id="lstnumberx3359" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#ifdef</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">__cplusplus</span>
</div>
<div id="lstnumberx3360" class="ltx_listingline">}
</div>
<div id="lstnumberx3361" class="ltx_listingline">
<span class="ltx_text ltx_lst_directive ltx_lst_keyword" style="color:#003378;">#endif</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S9.SS4.p11" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">Library</span> name and the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">LibraryDirectory</span> name in the function annotation are mapped to a linkage directive in a compiler-dependent way thereby selecting the object library suited for the respective computer platform.</p>
</div>
</section>
<section id="examples1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.9.5 </span>Examples</h3>

<section id="input-parameters-function-value" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">12.9.5.1 </span>Input Parameters, Function Value</h4>

<div id="S9.SS5.SSS1.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Here all parameters to the external function are input
parameters. One function value is returned. If the external language is
not specified, the default is <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_upright" style="color:#000000;background-color:#FFFFFF;">"C"</span>, as below.</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IEludGVnZXIgeTsKICBvdXRwdXQgUmVhbCB3OwogIGV4dGVybmFsOwplbmQgZm9vOw==">⬇</a></div>
<div id="lstnumberx3362" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>
</div>
<div id="lstnumberx3363" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3364" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3365" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">w</span>;
</div>
<div id="lstnumberx3366" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span>;
</div>
<div id="lstnumberx3367" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This corresponds to the following C prototype:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZG91YmxlIGZvbyhkb3VibGUsIGludCk7">⬇</a></div>
<div id="lstnumberx3368" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span>);
</div>
</div>
</div>
<div id="S9.SS5.SSS1.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Example call in Modelica:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,eiA9IGZvbygyLjQsIDMpOw==">⬇</a></div>
<div id="lstnumberx3369" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">z</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>(2.4,<span class="ltx_text ltx_lst_space"> </span>3);
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Translated call in C:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,eiA9IGZvbygyLjQsIDMpOw==">⬇</a></div>
<div id="lstnumberx3370" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">z</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>(2.4,<span class="ltx_text ltx_lst_space"> </span>3);
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="arbitrary-placement-of-output-parameters-no-external-function-value" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">12.9.5.2 </span>Arbitrary Placement of Output Parameters, No External Function Value</h4>

<div id="S9.SS5.SSS2.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
In the following example, the external function call is given
explicitly which allows passing the arguments in a different order than
in the Modelica version.</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IEludGVnZXIgeTsKICBvdXRwdXQgUmVhbCB1MTsKICBvdXRwdXQgSW50ZWdlciB1MjsKZXh0ZXJuYWwgIkMiCiAgbXlmb28oeCwgdTEsIHksIHUyKTsKZW5kIGZvbzs=">⬇</a></div>
<div id="lstnumberx3371" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>
</div>
<div id="lstnumberx3372" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3373" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3374" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u1</span>;
</div>
<div id="lstnumberx3375" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u2</span>;
</div>
<div id="lstnumberx3376" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>
</div>
<div id="lstnumberx3377" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">myfoo</span>(<span class="ltx_text ltx_lst_identifier">x</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u2</span>);
</div>
<div id="lstnumberx3378" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This corresponds to the following C prototype:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dm9pZCBteWZvbyhkb3VibGUsIGRvdWJsZSAqLCBpbnQsIGludCAqKTs=">⬇</a></div>
<div id="lstnumberx3379" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">myfoo</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span>*,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span><span class="ltx_text ltx_lst_space"> </span>*);
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Example call in Modelica:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,KHoxLGkyKSA9IGZvbygyLjQsIDMpOw==">⬇</a></div>
<div id="lstnumberx3380" class="ltx_listingline">(<span class="ltx_text ltx_lst_identifier">z1</span>,<span class="ltx_text ltx_lst_identifier">i2</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>(2.4,<span class="ltx_text ltx_lst_space"> </span>3);
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Translated call in C:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bXlmb28oMi40LCAmejEsIDMsICZpMik7">⬇</a></div>
<div id="lstnumberx3381" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">myfoo</span>(2.4,<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_identifier">z1</span>,<span class="ltx_text ltx_lst_space"> </span>3,<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_identifier">i2</span>);
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="external-function-with-both-function-value-and-output-variable" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">12.9.5.3 </span>External Function with Both Function Value and Output Variable</h4>

<div id="S9.SS5.SSS3.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
The following external function returns two results: one
function value and one output parameter value. Both are mapped to
Modelica output parameters.</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gZm9vCiAgaW5wdXQgUmVhbCB4OwogIGlucHV0IEludGVnZXIgeTsKICBvdXRwdXQgUmVhbCBmdW5jdmFsdWU7CiAgb3V0cHV0IEludGVnZXIgb3V0MTsKZXh0ZXJuYWwgIkMiCiAgZnVuY3ZhbHVlID0gbXlmb28oeCwgeSwgb3V0MSk7CmVuZCBmb287">⬇</a></div>
<div id="lstnumberx3382" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>
</div>
<div id="lstnumberx3383" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">x</span>;
</div>
<div id="lstnumberx3384" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3385" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">funcvalue</span>;
</div>
<div id="lstnumberx3386" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">out1</span>;
</div>
<div id="lstnumberx3387" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>
</div>
<div id="lstnumberx3388" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">funcvalue</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">myfoo</span>(<span class="ltx_text ltx_lst_identifier">x</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">out1</span>);
</div>
<div id="lstnumberx3389" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This corresponds to the following C prototype:
</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZG91YmxlIG15Zm9vKGRvdWJsZSwgaW50LCBpbnQgKik7">⬇</a></div>
<div id="lstnumberx3390" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">myfoo</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span><span class="ltx_text ltx_lst_space"> </span>*);
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Example call in Modelica:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,KHoxLGkyKSA9IGZvbygyLjQsIDMpOw==">⬇</a></div>
<div id="lstnumberx3391" class="ltx_listingline">(<span class="ltx_text ltx_lst_identifier">z1</span>,<span class="ltx_text ltx_lst_identifier">i2</span>)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">foo</span>(2.4,<span class="ltx_text ltx_lst_space"> </span>3);
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Translated call in C:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ejEgPSBteWZvbygyLjQsIDMsICZpMik7">⬇</a></div>
<div id="lstnumberx3392" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier">z1</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">myfoo</span>(2.4,<span class="ltx_text ltx_lst_space"> </span>3,<span class="ltx_text ltx_lst_space"> </span>&amp;<span class="ltx_text ltx_lst_identifier">i2</span>);
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="utility-functions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.9.6 </span>Utility Functions</h3>

<div id="S9.SS6.p1" class="ltx_para">
<p class="ltx_p">This section describes the utility functions declared in <span class="ltx_text ltx_font_sansserif">ModelicaUtilities.h</span>, which can be called in external Modelica functions written in C.</p>
</div>
<section id="utility-functions-for-reporting-errors" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">12.9.6.1 </span>Utility Functions for Reporting Errors</h4>

<div id="S9.SS6.SSS1.p1" class="ltx_para">
<p class="ltx_p">The functions listed below produce a message in different ways.</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Expression</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Description</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaMessage</span>(<math id="S9.SS6.SSS1.p1.m1" class="ltx_Math" alttext="\mathit{string}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟𝑖𝑛𝑔</mi></math>)</span></th>
<td class="ltx_td ltx_align_left ltx_border_tt">Message with fixed string</td>
<td class="ltx_td ltx_align_left ltx_border_tt" rowspan="3"><a href="#modelica:ModelicaMessage-et-al" title="Function 12.1 ModelicaMessage, ModelicaWarning, ModelicaError ‣ 12.9.6.1 Utility Functions for Reporting Errors ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Function</span> <span class="ltx_text ltx_ref_tag">12.1</span></a></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaWarning</span>(<math id="S9.SS6.SSS1.p1.m2" class="ltx_Math" alttext="\mathit{string}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟𝑖𝑛𝑔</mi></math>)</span></th>
<td class="ltx_td ltx_align_left">Warning with fixed string</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaError</span>(<math id="S9.SS6.SSS1.p1.m3" class="ltx_Math" alttext="\mathit{string}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟𝑖𝑛𝑔</mi></math>)</span></th>
<td class="ltx_td ltx_align_left">Error with fixed string</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaFormatMessage</span>(<math id="S9.SS6.SSS1.p1.m4" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS6.SSS1.p1.m5" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span></th>
<td class="ltx_td ltx_align_left ltx_border_t">Message with <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">printf</span> style formatting</td>
<td class="ltx_td ltx_align_left ltx_border_t" rowspan="3"><a href="#modelica:ModelicaFormatMessage-et-al" title="Function 12.2 ModelicaFormatMessage, ModelicaFormatWarning, ModelicaFormatError ‣ 12.9.6.1 Utility Functions for Reporting Errors ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Function</span> <span class="ltx_text ltx_ref_tag">12.2</span></a></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaFormatWarning</span>(<math id="S9.SS6.SSS1.p1.m6" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS6.SSS1.p1.m7" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span></th>
<td class="ltx_td ltx_align_left">Warning with <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">printf</span> style formatting</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaFormatError</span>(<math id="S9.SS6.SSS1.p1.m8" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS6.SSS1.p1.m9" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span></th>
<td class="ltx_td ltx_align_left">Error with <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">printf</span> style formatting</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaVFormatMessage</span>(<math id="S9.SS6.SSS1.p1.m10" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS6.SSS1.p1.m11" class="ltx_Math" alttext="\mathit{ap}" display="inline"><mi mathbackground="#FFFFFF">𝑎𝑝</mi></math>)</span></th>
<td class="ltx_td ltx_align_left ltx_border_t">Message with <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">vprintf</span> style formatting</td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_t" rowspan="3"><a href="#modelica:ModelicaVFormatMessage-et-al" title="Function 12.3 ModelicaVFormatMessage, ModelicaVFormatWarning, ModelicaVFormatError ‣ 12.9.6.1 Utility Functions for Reporting Errors ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Function</span> <span class="ltx_text ltx_ref_tag">12.3</span></a></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaVFormatWarning</span>(<math id="S9.SS6.SSS1.p1.m12" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS6.SSS1.p1.m13" class="ltx_Math" alttext="\mathit{ap}" display="inline"><mi mathbackground="#FFFFFF">𝑎𝑝</mi></math>)</span></th>
<td class="ltx_td ltx_align_left">Warning with <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">vprintf</span> style formatting</td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaVFormatError</span>(<math id="S9.SS6.SSS1.p1.m14" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S9.SS6.SSS1.p1.m15" class="ltx_Math" alttext="\mathit{ap}" display="inline"><mi mathbackground="#FFFFFF">𝑎𝑝</mi></math>)</span></th>
<td class="ltx_td ltx_align_left ltx_border_b">Error with <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">vprintf</span> style formatting</td>
</tr>
</tbody>
</table>
</div>
<div id="S9.SS6.SSS1.p2" class="ltx_para">
<p class="ltx_p">The <em class="ltx_emph ltx_font_italic">Message</em>-functions only produce the message, but the <em class="ltx_emph ltx_font_italic">Warning</em>- and <em class="ltx_emph ltx_font_italic">Error</em>-functions combine this with error handling as follows.</p>
</div>
<div id="S9.SS6.SSS1.p3" class="ltx_para">
<p class="ltx_p">The <em class="ltx_emph ltx_font_italic">Warning</em>-functions view the message as a warning and can skip
duplicated messages similarly as an <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">assert</span> with
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">level</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">AssertionLevel</span>.<span class="ltx_text ltx_lst_identifier">Warning</span></span> in the Modelica code.</p>
</div>
<div id="S9.SS6.SSS1.p4" class="ltx_para">
<p class="ltx_p">The <em class="ltx_emph ltx_font_italic">Error</em>-functions never return to the calling function, but handle the
error similarly to an <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" style="color:#003378;background-color:#FFFFFF;">assert</span> with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">level</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">AssertionLevel</span>.<span class="ltx_text ltx_lst_identifier">Error</span></span> in the
Modelica code.
</p>
</div>
<div id="modelica:ModelicaMessage-et-al" class="ltx_theorem ltx_theorem_functiondefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Function 12.1 ModelicaMessage, ModelicaWarning, ModelicaError
<br class="ltx_break">
</h6>
<div id="Thmfunctiondefinition1.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_C_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dm9pZCBNb2RlbGljYU1lc3NhZ2UoY29uc3QgY2hhciogJFxtYXRoaXR7c3RyaW5nfSQpCnZvaWQgTW9kZWxpY2FXYXJuaW5nKGNvbnN0IGNoYXIqICRcbWF0aGl0e3N0cmluZ30kKQp2b2lkIE1vZGVsaWNhRXJyb3IoY29uc3QgY2hhciogJFxtYXRoaXR7c3RyaW5nfSQp">⬇</a></div>
<div id="lstnumberx3393" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaMessage</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3393.m1" class="ltx_Math" alttext="\mathit{string}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟𝑖𝑛𝑔</mi></math>)
</div>
<div id="lstnumberx3394" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaWarning</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3394.m1" class="ltx_Math" alttext="\mathit{string}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟𝑖𝑛𝑔</mi></math>)
</div>
<div id="lstnumberx3395" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaError</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3395.m1" class="ltx_Math" alttext="\mathit{string}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟𝑖𝑛𝑔</mi></math>)
</div>
</div>
<ul class="ltx_itemize">
<li id="S9.I5.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S9.I5.ix1.p1" class="ltx_para">
<p class="ltx_p">Output the fixed message string (no format control).</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:ModelicaFormatMessage-et-al" class="ltx_theorem ltx_theorem_functiondefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Function 12.2 ModelicaFormatMessage, ModelicaFormatWarning, ModelicaFormatError
<br class="ltx_break">
</h6>
<div id="Thmfunctiondefinition2.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_C_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dm9pZCBNb2RlbGljYUZvcm1hdE1lc3NhZ2UoY29uc3QgY2hhciogJFxtYXRoaXR7Zm9ybWF0fSQsIC4uLikKdm9pZCBNb2RlbGljYUZvcm1hdFdhcm5pbmcoY29uc3QgY2hhciogJFxtYXRoaXR7Zm9ybWF0fSQsIC4uLikKdm9pZCBNb2RlbGljYUZvcm1hdEVycm9yKGNvbnN0IGNoYXIqICRcbWF0aGl0e2Zvcm1hdH0kLCAuLi4p">⬇</a></div>
<div id="lstnumberx3396" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaFormatMessage</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3396.m1" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span>…)
</div>
<div id="lstnumberx3397" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaFormatWarning</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3397.m1" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span>…)
</div>
<div id="lstnumberx3398" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaFormatError</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3398.m1" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span>…)
</div>
</div>
<ul class="ltx_itemize">
<li id="S9.I6.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S9.I6.ix1.p1" class="ltx_para">
<p class="ltx_p">Output the message under the same format control as the C function <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">printf</span>.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:ModelicaVFormatMessage-et-al" class="ltx_theorem ltx_theorem_functiondefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Function 12.3 ModelicaVFormatMessage, ModelicaVFormatWarning, ModelicaVFormatError
<br class="ltx_break">
</h6>
<div id="Thmfunctiondefinition3.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_C_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dm9pZCBNb2RlbGljYVZGb3JtYXRNZXNzYWdlKGNvbnN0IGNoYXIqICRcbWF0aGl0e2Zvcm1hdH0kLCB2YV9saXN0ICRcbWF0aGl0e2FwfSQpCnZvaWQgTW9kZWxpY2FWRm9ybWF0V2FybmluZyhjb25zdCBjaGFyKiAkXG1hdGhpdHtmb3JtYXR9JCwgdmFfbGlzdCAkXG1hdGhpdHthcH0kKQp2b2lkIE1vZGVsaWNhVkZvcm1hdEVycm9yKGNvbnN0IGNoYXIqICRcbWF0aGl0e2Zvcm1hdH0kLCB2YV9saXN0ICRcbWF0aGl0e2FwfSQp">⬇</a></div>
<div id="lstnumberx3399" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaVFormatMessage</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3399.m1" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">va_list</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3399.m2" class="ltx_Math" alttext="\mathit{ap}" display="inline"><mi mathbackground="#FFFFFF">𝑎𝑝</mi></math>)
</div>
<div id="lstnumberx3400" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaVFormatWarning</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3400.m1" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">va_list</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3400.m2" class="ltx_Math" alttext="\mathit{ap}" display="inline"><mi mathbackground="#FFFFFF">𝑎𝑝</mi></math>)
</div>
<div id="lstnumberx3401" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaVFormatError</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3401.m1" class="ltx_Math" alttext="\mathit{format}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑜𝑟𝑚𝑎𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">va_list</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3401.m2" class="ltx_Math" alttext="\mathit{ap}" display="inline"><mi mathbackground="#FFFFFF">𝑎𝑝</mi></math>)
</div>
</div>
<ul class="ltx_itemize">
<li id="S9.I7.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S9.I7.ix1.p1" class="ltx_para">
<p class="ltx_p">Output the message under the same format control as the C function <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">vprintf</span>.</p>
</div>
</li>
</ul>
</div>
</div>
</section>
<section id="utility-functions-for-allocating-strings" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">12.9.6.2 </span>Utility Functions for Allocating Strings</h4>

<div id="S9.SS6.SSS2.p1" class="ltx_para">
<p class="ltx_p">The functions listed below are related to string allocation.</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Expression</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Description</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaAllocateString</span>(<math id="S9.SS6.SSS2.p1.m1" class="ltx_Math" alttext="\mathit{len}" display="inline"><mi mathbackground="#FFFFFF">𝑙𝑒𝑛</mi></math>)</span></td>
<td class="ltx_td ltx_align_left ltx_border_tt">Allocate or error</td>
<td class="ltx_td ltx_align_left ltx_border_tt"><a href="#modelica:ModelicaAllocateString" title="Function 12.4 ModelicaAllocateString ‣ 12.9.6.2 Utility Functions for Allocating Strings ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Function</span> <span class="ltx_text ltx_ref_tag">12.4</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaAllocateStringWithErrorReturn</span>(<math id="S9.SS6.SSS2.p1.m2" class="ltx_Math" alttext="\mathit{len}" display="inline"><mi mathbackground="#FFFFFF">𝑙𝑒𝑛</mi></math>)</span></td>
<td class="ltx_td ltx_align_left">Allocate or null</td>
<td class="ltx_td ltx_align_left"><a href="#modelica:ModelicaAllocateStringWithErrorReturn" title="Function 12.5 ModelicaAllocateStringWithErrorReturn ‣ 12.9.6.2 Utility Functions for Allocating Strings ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Function</span> <span class="ltx_text ltx_ref_tag">12.5</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaDuplicateString</span>(<math id="S9.SS6.SSS2.p1.m3" class="ltx_Math" alttext="\mathit{str}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟</mi></math>)</span></td>
<td class="ltx_td ltx_align_left">Duplicate or error</td>
<td class="ltx_td ltx_align_left"><a href="#modelica:ModelicaDuplicateString" title="Function 12.6 ModelicaDuplicateString ‣ 12.9.6.2 Utility Functions for Allocating Strings ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Function</span> <span class="ltx_text ltx_ref_tag">12.6</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">ModelicaDuplicateStringWithErrorReturn</span>(<math id="S9.SS6.SSS2.p1.m4" class="ltx_Math" alttext="\mathit{str}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟</mi></math>)</span></td>
<td class="ltx_td ltx_align_left ltx_border_b">Duplicate or null</td>
<td class="ltx_td ltx_align_left ltx_border_b"><a href="#modelica:ModelicaDuplicateStringWithErrorReturn" title="Function 12.7 ModelicaDuplicateStringWithErrorReturn ‣ 12.9.6.2 Utility Functions for Allocating Strings ‣ 12.9.6 Utility Functions ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Function</span> <span class="ltx_text ltx_ref_tag">12.7</span></a></td>
</tr>
</tbody>
</table>
</div>
<div id="S9.SS6.SSS2.p2" class="ltx_para">
<p class="ltx_p">As described in <a href="#simple-types" title="12.9.1.1 Simple Types ‣ 12.9.1 Argument type Mapping ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.1.1</span></a>, an external function wanting to return a newly constructed string must allocate this string with one of the string allocation functions in this section.
The allocated memory is owned by the Modelica simulation environment, and may only be accessed by the external function during the currently executing external function call.
The string allocation functions can also be used to allocate temporary strings that are not returned from the external function, with the convenience of the Modelica simulation environment being responsible for deallocation after the return of the external function.
(This is particularly convenient for avoiding memory leaks in the event of abnormal termination of the external function, for example, via <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaError</span>).</p>
</div>
<div id="S9.SS6.SSS2.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Memory that is not passed to the Modelica simulation environment, such as memory that is freed before leaving the function, or in an <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">ExternalObject</span>, see <a href="#external-objects" title="12.9.7 External Objects ‣ 12.9 External Function Interface ‣ Chapter 12 Functions ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">12.9.7</span></a>, may be allocated with the standard C mechanisms, like <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">malloc</span>.</span>]</p>
</div>
<div id="modelica:ModelicaAllocateString" class="ltx_theorem ltx_theorem_functiondefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Function 12.4 ModelicaAllocateString
<br class="ltx_break">
</h6>
<div id="Thmfunctiondefinition4.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_C_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Y2hhciogTW9kZWxpY2FBbGxvY2F0ZVN0cmluZyhzaXplX3QgJFxtYXRoaXR7bGVufSQp">⬇</a></div>
<div id="lstnumberx3402" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaAllocateString</span>(<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3402.m1" class="ltx_Math" alttext="\mathit{len}" display="inline"><mi mathbackground="#FFFFFF">𝑙𝑒𝑛</mi></math>)
</div>
</div>
<ul class="ltx_itemize">
<li id="S9.I8.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S9.I8.ix1.p1" class="ltx_para">
<p class="ltx_p">Allocates <math id="S9.I8.ix1.p1.m1" class="ltx_Math" alttext="\mathit{len}+1" display="inline"><mrow><mi>𝑙𝑒𝑛</mi><mo>+</mo><mn>1</mn></mrow></math> characters, and sets the last one to <span class="ltx_text ltx_font_smallcaps">nul</span>.
If an error occurs, this function does not return, but calls <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaError</span>.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:ModelicaAllocateStringWithErrorReturn" class="ltx_theorem ltx_theorem_functiondefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Function 12.5 ModelicaAllocateStringWithErrorReturn
<br class="ltx_break">
</h6>
<div id="Thmfunctiondefinition5.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_C_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Y2hhciogTW9kZWxpY2FBbGxvY2F0ZVN0cmluZ1dpdGhFcnJvclJldHVybihzaXplX3QgJFxtYXRoaXR7bGVufSQp">⬇</a></div>
<div id="lstnumberx3403" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaAllocateStringWithErrorReturn</span>(<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">size_t</span><span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3403.m1" class="ltx_Math" alttext="\mathit{len}" display="inline"><mi mathbackground="#FFFFFF">𝑙𝑒𝑛</mi></math>)
</div>
</div>
<ul class="ltx_itemize">
<li id="S9.I9.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S9.I9.ix1.p1" class="ltx_para">
<p class="ltx_p">Same as <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaAllocateString</span>, except that in case of error, the function returns 0.
This allows the external function to close files and free other open resources in case of error.
After cleaning up resources, use <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaError</span> or <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaFormatError</span> to signal the error.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:ModelicaDuplicateString" class="ltx_theorem ltx_theorem_functiondefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Function 12.6 ModelicaDuplicateString
<br class="ltx_break">
</h6>
<div id="Thmfunctiondefinition6.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_C_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Y2hhciogTW9kZWxpY2FEdXBsaWNhdGVTdHJpbmcoY29uc3QgY2hhciogJFxtYXRoaXR7c3RyfSQp">⬇</a></div>
<div id="lstnumberx3404" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaDuplicateString</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3404.m1" class="ltx_Math" alttext="\mathit{str}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟</mi></math>)
</div>
</div>
<ul class="ltx_itemize">
<li id="S9.I10.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S9.I10.ix1.p1" class="ltx_para">
<p class="ltx_p">Returns a writeable duplicate of the <span class="ltx_text ltx_font_smallcaps">nul</span>-terminated string <math id="S9.I10.ix1.p1.m1" class="ltx_Math" alttext="\mathit{str}" display="inline"><mi>𝑠𝑡𝑟</mi></math>.
If an error occurs, this function does not return, but calls <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaError</span>.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:ModelicaDuplicateStringWithErrorReturn" class="ltx_theorem ltx_theorem_functiondefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Function 12.7 ModelicaDuplicateStringWithErrorReturn
<br class="ltx_break">
</h6>
<div id="Thmfunctiondefinition7.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_C_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Y2hhciogTW9kZWxpY2FEdXBsaWNhdGVTdHJpbmdXaXRoRXJyb3JSZXR1cm4oY29uc3QgY2hhciogJFxtYXRoaXR7c3RyfSQp">⬇</a></div>
<div id="lstnumberx3405" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaDuplicateStringWithErrorReturn</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx3405.m1" class="ltx_Math" alttext="\mathit{str}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑟</mi></math>)
</div>
</div>
<ul class="ltx_itemize">
<li id="S9.I11.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S9.I11.ix1.p1" class="ltx_para">
<p class="ltx_p">Same as <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaDuplicateString</span>, except that in case of error, the function returns 0.
This allows the external function to close files and free other open resources in case of error.
After cleaning up resources, use <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaError</span> or <span class="ltx_text ltx_lst_identifier ltx_lst_language_C ltx_lstlisting" style="background-color:#FFFFFF;">ModelicaFormatError</span> to signal the error.</p>
</div>
</li>
</ul>
</div>
</div>
</section>
</section>
<section id="external-objects" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">12.9.7 </span>External Objects</h3>

<div id="S9.SS7.p1" class="ltx_para">
<p class="ltx_p">External functions may need to store their internal memory between function calls.
Within Modelica this memory is defined as instance of the predefined class <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">ExternalObject</span> according to the following rules:</p>
<ul id="S9.I12" class="ltx_itemize">
<li id="S9.I12.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I12.i1.p1" class="ltx_para">
<p class="ltx_p">There is a predefined partial class <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">ExternalObject</span>.</p>
</div>
<div id="S9.I12.i1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Since the class is partial, it is not possible to define an instance of this class.</span>]</p>
</div>
</li>
<li id="S9.I12.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I12.i2.p1" class="ltx_para">
<p class="ltx_p">An external object class shall be directly extended from <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">ExternalObject</span>, shall have exactly two function definitions, called <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">constructor</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">destructor</span>, and shall not contain other elements.
The functions <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">constructor</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">destructor</span> shall not be replaceable.
It is not legal to call the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">constructor</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">destructor</span> functions explicitly.</p>
</div>
</li>
<li id="S9.I12.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I12.i3.p1" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">constructor</span> function is called exactly once before the first use of the object.
The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">constructor</span> shall have exactly one output argument in which the constructed instance derived from <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">ExternalObject</span> is returned.
The arguments to the constructor must not – directly nor indirectly – depend on the external object being constructed.
The constructor shall initialize the object, and must not require any other calls to be made for the initialization to be complete (e.g., from an initial algorithm or initial equation).</p>
</div>
<div id="S9.I12.i3.p2" class="ltx_para">
<p class="ltx_p">The constructor shall not assume that pointers sent to the external object will remain valid for the life-time of the external object.
An exception is that if the pointer to another external object is given as argument to the constructor, that pointer will remain valid as long as the other external object lives.</p>
</div>
</li>
<li id="S9.I12.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I12.i4.p1" class="ltx_para">
<p class="ltx_p">For each completely constructed object, the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">destructor</span> is called exactly once, after the last use of the object, even if an error occurs.
The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">destructor</span> shall have no output arguments and the only input argument of the destructor shall be of the type derived from <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">ExternalObject</span>.
The destructor shall delete the object, and must not require any other calls to be made for the deletion to be complete (e.g., from a <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">terminal</span>()</span> clause).</p>
</div>
<div id="S9.I12.i4.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">External objects may be a protected component (or part of one) in a function.
The constructor is in that case called at the start of the function call, and the destructor when the function returns, or when recovering from errors in the function.</span>]</p>
</div>
<div id="S9.I12.i4.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">External objects may be an input (or part of an input) to a function, in that case the destructor is not called (since the external object is active before and after the function call).
Normally this is an external function, but it could be a non-external function as well (e.g. calling external functions one or more times).
The function input shall not have a default value using the constructor.</span>]</p>
</div>
</li>
<li id="S9.I12.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I12.i5.p1" class="ltx_para">
<p class="ltx_p">An external object class shall be of the specialized class <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">class</span>.</p>
</div>
<div id="S9.I12.i5.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">This is the only use of <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">class</span>.</span>]</p>
</div>
</li>
<li id="S9.I12.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I12.i6.p1" class="ltx_para">
<p class="ltx_p">Classes derived from <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">ExternalObject</span> can neither be used in an
extends-clause nor in a short class definition.
</p>
</div>
</li>
<li id="S9.I12.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I12.i7.p1" class="ltx_para">
<p class="ltx_p">Only the constructor may return external objects and an external object
can only be bound in component declarations and neither modified later
nor assigned to.</p>
</div>
<div id="S9.I12.i7.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">It follows that a function cannot return a component containing an external object, since only the constructor may return an external object and the constructor exactly returns the external object.</span>]</p>
</div>
</li>
<li id="S9.I12.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I12.i8.p1" class="ltx_para">
<p class="ltx_p">External functions may be defined which operate on the internal memory
of an <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">ExternalObject</span>. An <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;">ExternalObject</span> used as input argument or
return value of an external C function is mapped to the C type
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier">void</span>*</span>.</p>
</div>
</li>
</ul>
</div>
<div id="S9.SS7.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
A user-defined table may be defined in the following way as an <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;">ExternalObject</span>
(the table is read in a user-defined format from file and has memory for the last used table interval):</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Y2xhc3MgTXlUYWJsZQogIGV4dGVuZHMgRXh0ZXJuYWxPYmplY3Q7CiAgZnVuY3Rpb24gY29uc3RydWN0b3IKICAgIGlucHV0IFN0cmluZyBmaWxlTmFtZSA9ICIiOwogICAgaW5wdXQgU3RyaW5nIHRhYmxlTmFtZSA9ICIiOwogICAgb3V0cHV0IE15VGFibGUgdGFibGU7CiAgZXh0ZXJuYWwgIkMiCiAgICB0YWJsZSA9IGluaXRNeVRhYmxlKGZpbGVOYW1lLCB0YWJsZU5hbWUpOwogIGVuZCBjb25zdHJ1Y3RvcjsKCiAgZnVuY3Rpb24gZGVzdHJ1Y3RvciAiUmVsZWFzZSBzdG9yYWdlIG9mIHRhYmxlIgogICAgaW5wdXQgTXlUYWJsZSB0YWJsZTsKICBleHRlcm5hbCAiQyIKICAgIGNsb3NlTXlUYWJsZSh0YWJsZSk7CiAgZW5kIGRlc3RydWN0b3I7CmVuZCBNeVRhYmxlOw==">⬇</a></div>
<div id="lstnumberx3406" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">class</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyTable</span>
</div>
<div id="lstnumberx3407" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">extends</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ExternalObject</span>;
</div>
<div id="lstnumberx3408" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">constructor</span>
</div>
<div id="lstnumberx3409" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">String</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fileName</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">""</span>;
</div>
<div id="lstnumberx3410" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">String</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">tableName</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">""</span>;
</div>
<div id="lstnumberx3411" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyTable</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">table</span>;
</div>
<div id="lstnumberx3412" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>
</div>
<div id="lstnumberx3413" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">table</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">initMyTable</span>(<span class="ltx_text ltx_lst_identifier">fileName</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">tableName</span>);
</div>
<div id="lstnumberx3414" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">constructor</span>;
</div>
<div id="lstnumberx3415" class="ltx_listingline">
</div>
<div id="lstnumberx3416" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">destructor</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Release<span class="ltx_text ltx_lst_space"> </span>storage<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>table"</span>
</div>
<div id="lstnumberx3417" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyTable</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">table</span>;
</div>
<div id="lstnumberx3418" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>
</div>
<div id="lstnumberx3419" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">closeMyTable</span>(<span class="ltx_text ltx_lst_identifier">table</span>);
</div>
<div id="lstnumberx3420" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">destructor</span>;
</div>
<div id="lstnumberx3421" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyTable</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">and used in the following way:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgdGVzdCAiRGVmaW5lIGEgbmV3IHRhYmxlIGFuZCBpbnRlcnBvbGF0ZSBpbiBpdCIKICBNeVRhYmxlIHRhYmxlPU15VGFibGUoZmlsZU5hbWUgPSJ0ZXN0VGFibGVzLnR4dCIsCiAgICB0YWJsZU5hbWU9InRhYmxlMSIpOyAvLyBjYWxsIGluaXRNeVRhYmxlCiAgUmVhbCB5OwplcXVhdGlvbgogIHkgPSBpbnRlcnBvbGF0ZU15VGFibGUodGFibGUsIHRpbWUpOwplbmQgdGVzdDs=">⬇</a></div>
<div id="lstnumberx3422" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">test</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Define<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>new<span class="ltx_text ltx_lst_space"> </span>table<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>interpolate<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>it"</span>
</div>
<div id="lstnumberx3423" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyTable</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">table</span>=<span class="ltx_text ltx_lst_identifier">MyTable</span>(<span class="ltx_text ltx_lst_identifier">fileName</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_string" style="color:#000000;">"testTables.txt"</span>,
</div>
<div id="lstnumberx3424" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">    </span><span class="ltx_text ltx_lst_identifier">tableName</span>=<span class="ltx_text ltx_lst_string" style="color:#000000;">"table1"</span>);<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>call<span class="ltx_text ltx_lst_space"> </span>initMyTable</span>
</div>
<div id="lstnumberx3425" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3426" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx3427" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">interpolateMyTable</span>(<span class="ltx_text ltx_lst_identifier">table</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">time</span>);
</div>
<div id="lstnumberx3428" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">test</span>;
</div>
</div>
</div>
<div id="S9.SS7.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This requires to provide the following Modelica function:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnVuY3Rpb24gaW50ZXJwb2xhdGVNeVRhYmxlICJJbnRlcnBvbGF0ZSBpbiB0YWJsZSIKICBpbnB1dCBNeVRhYmxlIHRhYmxlOwogIGlucHV0IFJlYWwgdTsKICBvdXRwdXQgUmVhbCB5OwpleHRlcm5hbCAiQyIKICB5ID0gaW50ZXJwb2xhdGVNeVRhYmxlKHRhYmxlLCB1KTsKZW5kIGludGVycG9sYXRlVGFibGU7">⬇</a></div>
<div id="lstnumberx3429" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">function</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">interpolateMyTable</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Interpolate<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>table"</span>
</div>
<div id="lstnumberx3430" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyTable</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">table</span>;
</div>
<div id="lstnumberx3431" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u</span>;
</div>
<div id="lstnumberx3432" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3433" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">external</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"C"</span>
</div>
<div id="lstnumberx3434" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">interpolateMyTable</span>(<span class="ltx_text ltx_lst_identifier">table</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u</span>);
</div>
<div id="lstnumberx3435" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">interpolateTable</span>;
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The external C functions may be defined in the following way:</span></p>
<div class="ltx_listing ltx_lst_language_C ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dHlwZWRlZiBzdHJ1Y3QgeyAvKiBVc2VyLWRlZmluZWQgZGF0YXN0cnVjdHVyZSBvZiB0aGUgdGFibGUgKi8KICBkb3VibGUqIGFycmF5OyAvKiBucm93Km5jb2x1bW4gdmVjdG9yICovCiAgaW50IG5yb3c7IC8qIG51bWJlciBvZiByb3dzICovCiAgaW50IG5jb2w7IC8qIG51bWJlciBvZiBjb2x1bW5zICovCiAgaW50IHR5cGU7IC8qIGludGVycG9sYXRpb24gdHlwZSAqLwogIGludCBsYXN0SW5kZXg7IC8qIGxhc3Qgcm93IGluZGV4IGZvciBzZWFyY2ggKi8KfSBNeVRhYmxlOwoKdm9pZCogaW5pdE15VGFibGUoY29uc3QgY2hhciogZmlsZU5hbWUsIGNvbnN0IGNoYXIqIHRhYmxlTmFtZSkgewogIE15VGFibGUqIHRhYmxlID0gbWFsbG9jKHNpemVvZihNeVRhYmxlKSk7CiAgaWYgKCB0YWJsZSA9PSBOVUxMICkgTW9kZWxpY2FFcnJvcigiTm90IGVub3VnaCBtZW1vcnkiKTsKICAvLyByZWFkIHRhYmxlIGZyb20gZmlsZSBhbmQgc3RvcmUgYWxsIGRhdGEgaW4gKnRhYmxlCiAgcmV0dXJuICh2b2lkKikgdGFibGU7Cn07Cgp2b2lkIGNsb3NlTXlUYWJsZSh2b2lkKiBvYmplY3QpIHsgLyogUmVsZWFzZSB0YWJsZSBzdG9yYWdlICovCiAgTXlUYWJsZSogdGFibGUgPSAoTXlUYWJsZSopIG9iamVjdDsKICBpZiAoIG9iamVjdCA9PSBOVUxMICkgcmV0dXJuOwogIGZyZWUodGFibGUtPmFycmF5KTsKICBmcmVlKHRhYmxlKTsKfQoKZG91YmxlIGludGVycG9sYXRlTXlUYWJsZSh2b2lkKiBvYmplY3QsIGRvdWJsZSB1KSB7CiAgTXlUYWJsZSogdGFibGUgPSAoTXlUYWJsZSopIG9iamVjdDsKICBkb3VibGUgeTsKICAvLyBJbnRlcnBvbGF0ZSB1c2luZyAidGFibGUiIGRhdGEgKGNvbXB1dGUgeSkKICByZXR1cm4geTsKfTs=">⬇</a></div>
<div id="lstnumberx3436" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">typedef</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">struct</span><span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>User-defined<span class="ltx_text ltx_lst_space"> </span>datastructure<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>table<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3437" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">array</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>nrow*ncolumn<span class="ltx_text ltx_lst_space"> </span>vector<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3438" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">nrow</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>number<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>rows<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3439" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ncol</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>number<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>columns<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3440" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">type</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>interpolation<span class="ltx_text ltx_lst_space"> </span>type<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3441" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">int</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">lastIndex</span>;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>last<span class="ltx_text ltx_lst_space"> </span>row<span class="ltx_text ltx_lst_space"> </span>index<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>search<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3442" class="ltx_listingline">}<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">MyTable</span>;
</div>
<div id="lstnumberx3443" class="ltx_listingline">
</div>
<div id="lstnumberx3444" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">initMyTable</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">fileName</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">const</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">char</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">tableName</span>)<span class="ltx_text ltx_lst_space"> </span>{
</div>
<div id="lstnumberx3445" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyTable</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">table</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">malloc</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">sizeof</span>(<span class="ltx_text ltx_lst_identifier">MyTable</span>));
</div>
<div id="lstnumberx3446" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space"> </span>(<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">table</span><span class="ltx_text ltx_lst_space"> </span>==<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">NULL</span><span class="ltx_text ltx_lst_space"> </span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">ModelicaError</span>(<span class="ltx_text ltx_lst_string" style="color:#000000;">"Not<span class="ltx_text ltx_lst_space"> </span>enough<span class="ltx_text ltx_lst_space"> </span>memory"</span>);
</div>
<div id="lstnumberx3447" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>read<span class="ltx_text ltx_lst_space"> </span>table<span class="ltx_text ltx_lst_space"> </span>from<span class="ltx_text ltx_lst_space"> </span>file<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>store<span class="ltx_text ltx_lst_space"> </span>all<span class="ltx_text ltx_lst_space"> </span>data<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>*table</span>
</div>
<div id="lstnumberx3448" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">return</span><span class="ltx_text ltx_lst_space"> </span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span>*)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">table</span>;
</div>
<div id="lstnumberx3449" class="ltx_listingline">};
</div>
<div id="lstnumberx3450" class="ltx_listingline">
</div>
<div id="lstnumberx3451" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">closeMyTable</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">object</span>)<span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>Release<span class="ltx_text ltx_lst_space"> </span>table<span class="ltx_text ltx_lst_space"> </span>storage<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3452" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyTable</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">table</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>(<span class="ltx_text ltx_lst_identifier">MyTable</span>*)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">object</span>;
</div>
<div id="lstnumberx3453" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space"> </span>(<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">object</span><span class="ltx_text ltx_lst_space"> </span>==<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">NULL</span><span class="ltx_text ltx_lst_space"> </span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">return</span>;
</div>
<div id="lstnumberx3454" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">free</span>(<span class="ltx_text ltx_lst_identifier">table</span>-&gt;<span class="ltx_text ltx_lst_identifier">array</span>);
</div>
<div id="lstnumberx3455" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">free</span>(<span class="ltx_text ltx_lst_identifier">table</span>);
</div>
<div id="lstnumberx3456" class="ltx_listingline">}
</div>
<div id="lstnumberx3457" class="ltx_listingline">
</div>
<div id="lstnumberx3458" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">interpolateMyTable</span>(<span class="ltx_text ltx_lst_keyword" style="color:#003378;">void</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">object</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u</span>)<span class="ltx_text ltx_lst_space"> </span>{
</div>
<div id="lstnumberx3459" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_identifier">MyTable</span>*<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">table</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>(<span class="ltx_text ltx_lst_identifier">MyTable</span>*)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">object</span>;
</div>
<div id="lstnumberx3460" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">double</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3461" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Interpolate<span class="ltx_text ltx_lst_space"> </span>using<span class="ltx_text ltx_lst_space"> </span>"table"<span class="ltx_text ltx_lst_space"> </span>data<span class="ltx_text ltx_lst_space"> </span>(compute<span class="ltx_text ltx_lst_space"> </span>y)</span>
</div>
<div id="lstnumberx3462" class="ltx_listingline">
<span class="ltx_text ltx_lst_space">  </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">return</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span>;
</div>
<div id="lstnumberx3463" class="ltx_listingline">};
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="statements-and-algorithm-sections.html" title="Chapter 11 Statements and Algorithm Sections ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Statements and Algorithm Sections</span></a><a href="bib.html" title="References ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref" rel="bibliography"><span class="ltx_text ltx_ref_title">References</span></a><a href="idx.html" title="Index ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref" rel="index"><span class="ltx_text ltx_ref_title">Index</span></a><a href="packages.html" title="Chapter 13 Packages ‣ Modelica® Language Specification version 3.6-dev" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Packages</span></a>
</div>
<div class="ltx_page_logo">Generated  on Sat May  1 12:45:50 2021 by <a href="http://dlmf.nist.gov/LaTeXML/">LaTeXML <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"></a>
</div></footer>
</div>
</body>
</html>
