<!DOCTYPE html><html>
<head>
<title>16 Synchronous Language Elements‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4</title>
<!--Generated on Sat May  1 09:01:01 2021 by LaTeXML (version 0.8.3) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on April 10, 2017.-->

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="LaTeXML.css" type="text/css">
<link rel="stylesheet" href="ltx-report.css" type="text/css">
<link rel="stylesheet" href="ltx-listings.css" type="text/css">
<link rel="stylesheet" href="css/LaTeXML-navbar-left.css" type="text/css">
<script src="css/LatexML-maybeMathJax.js" type="text/javascript"></script>
<link rel="up" href="MLS.html" title="Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="start" href="MLS.html" title="Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="prev" href="Ch15.html" title="Chapter 15 Stream Connectors ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="next" href="Ch17.html" title="Chapter 17 State Machines ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Chx1.html" title="Preface ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch1.html" title="Chapter 1 Introduction ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch2.html" title="Chapter 2 Lexical Structure ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch3.html" title="Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch4.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch5.html" title="Chapter 5 Scoping, Name Lookup, and Flattening ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch6.html" title="Chapter 6 Interface or Type Relationships ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch7.html" title="Chapter 7 Inheritance, Modification, and Redeclaration ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch8.html" title="Chapter 8 Equations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch9.html" title="Chapter 9 Connectors and Connections ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch10.html" title="Chapter 10 Arrays ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch11.html" title="Chapter 11 Statements and Algorithm Sections ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch12.html" title="Chapter 12 Functions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch13.html" title="Chapter 13 Packages ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch14.html" title="Chapter 14 Overloaded Operators ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch15.html" title="Chapter 15 Stream Connectors ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch17.html" title="Chapter 17 State Machines ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch18.html" title="Chapter 18 Annotations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch19.html" title="Chapter 19 Unit Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="chapter" href="Ch20.html" title="Chapter 20 The Modelica Standard Library ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="appendix" href="A1.html" title="Appendix A Glossary ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="appendix" href="A2.html" title="Appendix B Modelica Concrete Syntax ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="appendix" href="A3.html" title="Appendix C Modelica DAE Representation ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="appendix" href="A4.html" title="Appendix D Derivation of Stream Equations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="appendix" href="A5.html" title="Appendix E Modelica Revision History ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
<link rel="appendix" href="A6.html" title="Appendix F Literature ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4">
</head>
<body>
<nav class="ltx_page_navbar"><a href="MLS.html" title="Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">Modelica® - A Unified Object-Oriented Language for Systems
Modeling<span class="ltx_text"> </span>Language
Specification<span class="ltx_text"> </span>Version 3.4</span></a>
<div class="ltx_TOC">
<ul class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Chx1.html" title="Preface ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title">Preface</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch1.html" title="Chapter 1 Introduction ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch2.html" title="Chapter 2 Lexical Structure ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Lexical Structure</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch3.html" title="Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Operators and Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch4.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Classes, Predefined Types, and Declarations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch5.html" title="Chapter 5 Scoping, Name Lookup, and Flattening ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Scoping, Name Lookup, and Flattening</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch6.html" title="Chapter 6 Interface or Type Relationships ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Interface or Type Relationships</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch7.html" title="Chapter 7 Inheritance, Modification, and Redeclaration ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Inheritance, Modification, and Redeclaration</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch8.html" title="Chapter 8 Equations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch9.html" title="Chapter 9 Connectors and Connections ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Connectors and Connections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch10.html" title="Chapter 10 Arrays ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>Arrays</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch11.html" title="Chapter 11 Statements and Algorithm Sections ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Statements and Algorithm Sections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch12.html" title="Chapter 12 Functions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch13.html" title="Chapter 13 Packages ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Packages</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch14.html" title="Chapter 14 Overloaded Operators ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Overloaded Operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch15.html" title="Chapter 15 Stream Connectors ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Stream Connectors</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter ltx_ref_self">
<span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Synchronous Language Elements</span></span>
<ul class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#introduction2" title="16.1 Introduction ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.1 </span>Introduction</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#overview" title="16.1.1 Overview ‣ 16.1 Introduction ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.1.1 </span>Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#rationale-for-clocked-semantics" title="16.1.2 Rationale for Clocked Semantics ‣ 16.1 Introduction ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.1.2 </span>Rationale for Clocked Semantics</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#definitions" title="16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.2 </span>Definitions</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#clocks-and-clocked-variables" title="16.2.1 Clocks and Clocked Variables ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.2.1 </span>Clocks and Clocked Variables</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#base-clock-and-sub-clock-partitions" title="16.2.2 Base-Clock and Sub-Clock Partitions ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.2.2 </span>Base-Clock and Sub-Clock Partitions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#argument-restrictions-component-expression" title="16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.2.3 </span>Argument Restrictions (Component Expression)</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#clock-constructors" title="16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.3 </span>Clock Constructors</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#discrete-states" title="16.4 Discrete States ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.4 </span>Discrete States</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#partitioning-operators" title="16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.5 </span>Partitioning Operators</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#base-clock-conversion-operators" title="16.5.1 Base-clock conversion operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.5.1 </span>Base-clock conversion operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#sub-clock-conversion-operators" title="16.5.2 Sub-clock conversion operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.5.2 </span>Sub-clock conversion operators</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#clocked-when-clause" title="16.6 Clocked When Clause ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.6 </span>Clocked When Clause</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#clock-partitioning" title="16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7 </span>Clock Partitioning</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#flattening-of-model" title="16.7.1 Flattening of Model ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.1 </span>Flattening of Model</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#connected-components-of-the-equations-and-variables-graph" title="16.7.2 Connected Components of the Equations and Variables Graph ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.2 </span>Connected Components of the Equations and Variables Graph</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#base-clock-partitioning" title="16.7.3 Base-clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.3 </span>Base-clock Partitioning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#sub-clock-partitioning" title="16.7.4 Sub-clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.4 </span>Sub-clock Partitioning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#sub-clock-inferencing" title="16.7.5 Sub-clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.5 </span>Sub-clock Inferencing</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#continuous-time-equations-in-clocked-partitions" title="16.8 Continuous-Time Equations in Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8 </span>Continuous-Time Equations in Clocked Partitions</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#clocked-discrete-time-and-clocked-discretized-continuous-time-partition" title="16.8.1 Clocked Discrete-Time and Clocked Discretized Continuous-Time Partition ‣ 16.8 Continuous-Time Equations in Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8.1 </span>Clocked Discrete-Time and Clocked Discretized Continuous-Time Partition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#solver-methods" title="16.8.2 Solver Methods ‣ 16.8 Continuous-Time Equations in Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8.2 </span>Solver Methods</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#associating-a-solver-to-a-partition" title="16.8.3 Associating a Solver to a Partition ‣ 16.8 Continuous-Time Equations in Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8.3 </span>Associating a Solver to a Partition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#inferencing-of-solvermethod" title="16.8.4 Inferencing of solverMethod ‣ 16.8 Continuous-Time Equations in Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8.4 </span>Inferencing of solverMethod</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.9 </span>Initialization of Clocked Partitions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#other-operators" title="16.10 Other Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.10 </span>Other Operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#semantics" title="16.11 Semantics ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.11 </span>Semantics</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch17.html" title="Chapter 17 State Machines ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>State Machines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch18.html" title="Chapter 18 Annotations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Annotations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch19.html" title="Chapter 19 Unit Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Unit Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="Ch20.html" title="Chapter 20 The Modelica Standard Library ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>The Modelica Standard Library</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="A1.html" title="Appendix A Glossary ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Glossary</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="A2.html" title="Appendix B Modelica Concrete Syntax ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Modelica Concrete Syntax</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="A3.html" title="Appendix C Modelica DAE Representation ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Modelica DAE Representation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="A4.html" title="Appendix D Derivation of Stream Equations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Derivation of Stream Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="A5.html" title="Appendix E Modelica Revision History ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">E </span>Modelica Revision History</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="A6.html" title="Appendix F Literature ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">F </span>Literature</span></a></li>
</ul>
</div>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div>
<a href="MLS.html" title="Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title">Modelica® - A Unified Object-Oriented Language for Systems
Modeling<span class="ltx_text"> </span>Language
Specification<span class="ltx_text"> </span>Version 3.4</span></a><a href="Ch15.html" title="Chapter 15 Stream Connectors ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Stream Connectors</span></a><a href="Ch17.html" title="Chapter 17 State Machines ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>State Machines</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_chapter ltx_authors_1line">
<h1 class="ltx_title ltx_title_chapter">
<span class="ltx_tag ltx_tag_chapter">Chapter 16 </span>Synchronous Language Elements</h1>
<div class="ltx_date ltx_role_creation"></div>

<div id="Ch16.p1" class="ltx_para">
<p class="ltx_p">This section presents language elements for describing synchronous
behavior suited for implementation of control systems.</p>
</div>
<section id="introduction2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.1 </span>Introduction</h2>

<section id="overview" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.1.1 </span>Overview</h3>

<div id="Ch16.S1.SS1.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">This chapter defines additional kinds of discrete-time
variables and equations, as well as an additional kind of when-clause,
in order to define sampled data systems in a safe way, so that the
translator can provide good diagnostics in case of a modeling error. </span></p>
</div>
<div id="Ch16.S1.SS1.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">The following small example shows the most important elements</span></p>
</div>
<figure id="Ch16.F1" class="ltx_figure">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 16.1: </span>A continuous plant and a sampled data controller connected
together with sample and (zero-order) hold elements</figcaption><img src="media/plantmodel.png" id="Ch16.F1.g1" class="ltx_graphics ltx_centering" width="631" height="360" alt="">
</figure>
<div id="Ch16.S1.SS1.p3" class="ltx_para">
<ul id="Ch16.S1.I1" class="ltx_itemize">
<li id="Ch16.S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">A periodic clock is defined with <span class="ltx_text ltx_font_bold">Clock</span>(3). The argument
of <span class="ltx_text ltx_font_bold">Clock</span>(..) defines the sampling interval (for details see <a href="#clock-constructors" title="16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.3</span></a>).</span></p>
</div>
</li>
<li id="Ch16.S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Clocked variables (such as yd, xd, ud) are associated uniquely
with a clock and can only be directly accessed when the associated
clock is active. Since all variables in a clocked equation must belong
to the same clock, clocking errors can be detected at compile time. If
variables from different clocks shall be used in an equation, explicit
cast operators must be used, such as <span class="ltx_text ltx_font_bold">sample</span>(..) to convert
from continuous-time to clocked discrete-time or <span class="ltx_text ltx_font_bold">hold</span>(..) to
convert from clocked discrete-time to continuous-time.</span></p>
</div>
</li>
<li id="Ch16.S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">A continuous-time variable is sampled at a clock tick with the
<span class="ltx_text ltx_font_bold">sample</span>(..) operator. The operator returns the value of the
continuous-time variable when the clock is active.</span></p>
</div>
</li>
<li id="Ch16.S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">When no argument is defined for <span class="ltx_text ltx_font_bold">Clock</span>(), the clock is
deduced by clock inference.</span></p>
</div>
</li>
<li id="Ch16.S1.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">For a <span class="ltx_text ltx_font_bold">when</span>-clause with an associated clock, all
equations inside the <span class="ltx_text ltx_font_bold">when</span>-clause are clocked with the given
clock. All equations on an associated clock are treated together and
in the same way regardless of whether they are inside a
<span class="ltx_text ltx_font_bold">when</span>-clause or not. This means that automatic sampling and
hold of variables inside the <span class="ltx_text ltx_font_bold">when</span>-clause does not apply
(explicit sampling and hold is required) and that general equations
can be used in such when-clauses (this is not allowed for
<span class="ltx_text ltx_font_bold">when</span>-clauses with Boolean conditions, that require a variable
reference on the left-hand side of an equation).</span></p>
</div>
</li>
<li id="Ch16.S1.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i6.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">The <span class="ltx_text ltx_font_bold">when</span>-clause in the controller could also be removed
and the controller could just be defined by the equations:</span></p>
</div>
<div id="Ch16.S1.I1.i6.p2" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICAvLyBkaXNjcmV0ZSBjb250cm9sbGVyCiAgRSp4ZCA9IEEqcHJldmlvdXMoeGQpICsgQip5ZDsKICB1ZCA9IEMqcHJldmlvdXMoeGQpICsgRCp5ZDs=">⬇</a></div>
<div id="lstnumberx3437" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>discrete<span class="ltx_text ltx_lst_space"> </span>controller</span>
</div>
<div id="lstnumberx3438" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">E</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xd</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">A</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xd</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">B</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3439" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">C</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xd</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">D</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
</div>
</li>
<li id="Ch16.S1.I1.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i7.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">The operator <span class="ltx_text ltx_font_bold">previous</span>(xd) returns the value of xd at
the previous clock tick. At the first sample instant, the start value
of xd is returned.</span></p>
</div>
</li>
<li id="Ch16.S1.I1.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i8.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">A discrete-time signal (such as ud) is converted to a
continuous-time signal with the <span class="ltx_text ltx_font_bold">hold</span>(..) operator.</span></p>
</div>
</li>
<li id="Ch16.S1.I1.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i9.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">If a variable belongs to a particular clock, then all other
equations where this variable is used, with the exception of as
argument to certain special operators, belong also to this clock, as
well as all variables that are used in these equations. This property
is used for “clock inference” and allows to define an associated
clock only at a few places (above only in the sampler, whereas in the
discrete controller and the hold the sampling period is inferred)</span></p>
</div>
</li>
<li id="Ch16.S1.I1.i10" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S1.I1.i10.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">The approach in this chapter is based on the clock calculus and
inference system proposed by (Colaco and Pouzet 2003) and implemented
in Lucid Synchrone version 2 and 3 (Pouzet 2006). However, the
Modelica approach also uses multi-rate periodic clocks based on
rational arithmetic introduced by (Forget et. al. 2008), as an
extension of the Lucid Synchrone semantics. These approaches belong to
the class of synchronous languages (Benveniste et. al. 2002). </span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="rationale-for-clocked-semantics" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.1.2 </span>Rationale for Clocked Semantics</h3>

<div id="Ch16.S1.SS2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Periodically sampled control systems could also be defined with
standard when-clauses, see <a href="Ch8.html#when-equations" title="8.3.5 When-Equations ‣ 8.3 Equations in Equation Sections ‣ Chapter 8 Equations ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 8.3.5</span></a>, and the sample operator, see
<a href="Ch3.html#event-related-operators-with-function-syntax" title="3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.7.3</span></a>. For example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,d2hlbiBzYW1wbGUoMCwzKSB0aGVuCiAgeGQgPSBBKnByZSh4ZCkgKyBCKnk7CiAgdSA9IEMqcHJlKHhkKSArIEQqeTsKZW5kIHdoZW47">⬇</a></div>
<div id="lstnumberx3440" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(0,3)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3441" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xd</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">A</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xd</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">B</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3442" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">C</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xd</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">D</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3443" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
</div>
<div id="Ch16.S1.SS2.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Equations in a when-clause with a Boolean condition have the
property that (a) variables on the left hand side of the equal sign are
assigned a value when the when-condition becomes true and otherwise hold
their value, (b) variables not assigned in the when-clause are directly
accessed (= automatic “sample” semantics), and (c) the variables
assigned in the when-clause can be directly accessed outside of the
when-clause (= automatic “hold” semantics). This approach to define
periodically sample data systems has the following drawbacks that are
not present with the solution in this chapter using clocks and clocked
equations:</span></p>
</div>
<div id="Ch16.S1.SS2.p3" class="ltx_para">
<ol id="Ch16.S1.I2" class="ltx_enumerate">
<li id="Ch16.S1.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="Ch16.S1.I2.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">It is not possible to detect sampling errors due to the
automatic sample and hold semantics. Examples: </span></p>
</div>
<div id="Ch16.S1.I2.i1.p2" class="ltx_para">
<ol id="Ch16.S1.I2.I1" class="ltx_enumerate">
<li id="Ch16.S1.I2.i1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">a.</span> 
<div id="Ch16.S1.I2.i1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">If when-clauses in different blocks should belong to the same
controller part, but by accident different when-conditions are
given, then this is accepted (no error is detected)..</span></p>
</div>
</li>
<li id="Ch16.S1.I2.i1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">b.</span> 
<div id="Ch16.S1.I2.i1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">If a sampled data library such as the
Modelica_LinearSystems2.Contoller library is used, at every block
the sampling of the block has to be defined as integer multiple of a
base sampling rate. If several blocks should belong to the same
controller part, and different integer multiples are given, then the
translator has to accept this (no error is detected).</span></p>
</div>
</li>
</ol>
</div>
</li>
<li id="Ch16.S1.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="Ch16.S1.I2.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Due to the automatic sample and hold semantics, all variables
assigned in a when-clause of the above kind must have an initial value
because they might be used, before they are assigned a value the first
time. As a result, all these variables are “discrete-time states”
although in reality only a small subset of them need an initial
value.</span></p>
</div>
</li>
<li id="Ch16.S1.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="Ch16.S1.I2.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Only a restricted form of equations can be used in a standard
when-clause, since the left hand side has to be a variable, in order
to identify the variables that are assigned in the when-clause. This
is a severe restriction, especially if nonlinear control algorithms
shall be defined. This restriction is not present for clocked
equations.</span></p>
</div>
</li>
<li id="Ch16.S1.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="Ch16.S1.I2.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">All equations belonging to a discrete controller must be in a
when clause. If the controller is built-up with several building
blocks, then the clock condition (sampling) must be explicitly
propagated to all blocks. This is tedious and error prone. With
clocked equations, the clock condition need to be defined only at one
place, and otherwise is automatically propagated by clock inference.</span></p>
</div>
</li>
<li id="Ch16.S1.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span> 
<div id="Ch16.S1.I2.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">It is not possible to use a continuous-time model in when
clauses (e.g. some advanced controllers use an inverse model of a
plant in the feedforward path of the controller, see (Thümmel et. al.
2005)). This powerful feature of Modelica to use a nonlinear plant
model in a controller would require to export the continuous-time
model with an embedded integration method and then import it in an
environment where the rest of the controller is defined. With clocked
equations, clocked controllers with continuous-time models can be
directly defined in Modelica.</span></p>
</div>
</li>
<li id="Ch16.S1.I2.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">6.</span> 
<div id="Ch16.S1.I2.i6.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">At a sample instant, an event iteration occurs (as for any other
event). A clocked partition, as well as a when-clause with a
sample(..) is evaluated exactly once at such an event instant.
However, the continuous-time model to which the sampled data
controller is connected, will be evaluated several times when the
overall system is simulated. With when-clauses, the continuous-time
part is typically evaluated three times at a sample instant (once,
when the sample instant is reached, once to evaluate the continuous
equations at the sample instant, and once when an event iteration
occurs since a discrete variable v is changed and <span class="ltx_text ltx_font_bold">pre</span>(v)
appears in the equations). With clocked equations, no event iteration
is triggered if a clocked variable v is changed and
<span class="ltx_text ltx_font_bold">previous</span>(v) appears in the equations, because the event
iteration cannot change the value of v. As a result, typically the
simulation model is evaluated twice at a sample instant and therefore
the simulation is more efficient with clocked equations.</span></p>
</div>
</li>
</ol>
</div>
<div id="Ch16.S1.SS2.p4" class="ltx_para">
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="definitions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.2 </span>Definitions</h2>

<div id="Ch16.S2.p1" class="ltx_para">
<p class="ltx_p">In this section various terms are defined.</p>
</div>
<section id="clocks-and-clocked-variables" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.2.1 </span>Clocks and Clocked Variables</h3>

<div id="Ch16.S2.SS1.p1" class="ltx_para">
<p class="ltx_p">In <a href="Ch3.html#discrete-time-expressions" title="3.8.3 Discrete-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.8.3</span></a> the term “discrete-time” Modelica expression and in
<a href="Ch3.html#continuous-time-expressions" title="3.8.4 Continuous-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.8.4</span></a> the term “continuous-time” Modelica expression is
defined. In this chapter, two additional kinds of discrete-time
expressions/variables are defined that are associated to clocks and are
therefore called “clocked discrete-time” expressions:</p>
</div>
<figure id="Ch16.T1" class="ltx_table">
<table class="ltx_tabular">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_justify ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" style="width:207.7pt;" colspan="2"><span class="ltx_text ltx_wrap ltx_font_bold">The different kinds of discrete-time variables in Modelica</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:207.7pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:199.2pt;"><img src="media/piecewise.png" id="Ch16.T1.g1" class="ltx_graphics" width="271" height="169" alt=""></td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:207.7pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:199.2pt;">
<span class="ltx_text ltx_font_bold">Piecewise-constant variables (see <a href="Ch3.html#discrete-time-expressions" title="3.8.3 Discrete-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.8.3</span></a>)</span>
Variables <span class="ltx_text ltx_font_bold">m</span>(t) of base type Real, Integer, Boolean,
enumeration, and String that are <span class="ltx_text ltx_framed_underline">constant</span> inside each interval
t<sub class="ltx_sub">i</sub> <math id="Ch16.T1.m1" class="ltx_Math" alttext="\leq" display="inline"><mo>≤</mo></math> t &lt; t<sub class="ltx_sub">i+1</sub> (= piecewise
constant continuous-time variables). In other words, <span class="ltx_text ltx_font_bold">m</span>(t)
<span class="ltx_text ltx_framed_underline">changes</span> value <span class="ltx_text ltx_framed_underline">only at events</span>. This means, <span class="ltx_text ltx_font_bold">m</span>(t) =
<span class="ltx_text ltx_font_bold">m</span>(t<sub class="ltx_sub">i</sub>), for t<sub class="ltx_sub">i</sub> <math id="Ch16.T1.m2" class="ltx_Math" alttext="\leq" display="inline"><mo>≤</mo></math> t &lt;
t<sub class="ltx_sub">i+1</sub>. Such variables depend continuously on time and
they are discrete-time variables.</td>
</tr>
</table>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:207.7pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:199.2pt;"><img src="media/clock.png" id="Ch16.T1.g2" class="ltx_graphics" width="271" height="169" alt=""></td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:207.7pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:199.2pt;">
<span class="ltx_text ltx_font_bold">Clock variables</span>
Clock variables <span class="ltx_text ltx_font_bold">c</span>(t<sub class="ltx_sub">i</sub>) are of base type Clock. A
clock is either defined by a constructor [<span class="ltx_text ltx_emph ltx_font_italic">such as Clock(3)</span>]
that defines when the clock ticks (is active) at a particular time
instant, or it is defined with clock operators relatively to other
clocks, see <a href="#base-clock-conversion-operators" title="16.5.1 Base-clock conversion operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.5.1</span></a>.
[<span class="ltx_text ltx_emph ltx_font_italic">Examples:</span>

<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBDbG9jayBjMSA9IENsb2NrKC4uLik7CiAgQ2xvY2sgYzIgPSBjMTsKICBDbG9jayBjMyA9IHN1YlNhbXBsZShjMiw0KTs=">⬇</a></div>
<div id="lstnumberx3444" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">...</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3445" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3446" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,4);</span>
</div>
</div>
]</td>
</tr>
</table>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_l ltx_border_r ltx_border_t" style="width:207.7pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:199.2pt;"><img src="media/clocked.png" id="Ch16.T1.g3" class="ltx_graphics" width="271" height="169" alt=""></td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:207.7pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:199.2pt;">
<span class="ltx_text ltx_font_bold">Clocked variables</span>
The elements of clocked variables <span class="ltx_text ltx_font_bold">r</span>(t<sub class="ltx_sub">i</sub>) are of
base type Real, Integer, Boolean, enumeration, String that are
associated uniquely with a clock <span class="ltx_text ltx_font_bold">c</span>(t<sub class="ltx_sub">i</sub>). A
clocked variable can only be directly accessed at the event instant
where the associated clock is <span class="ltx_text ltx_font_bold">active</span>. A constant and a
parameter can always be used at a place where a clocked variable is
required.
At time instants where the associated clock is not active, the value of
a clocked variable can be inquired by using an explicit cast operator,
see below. In such a case a “hold” semantics is used, in other words
the value of the clocked variable from the last event instant is used.
[<span class="ltx_text ltx_emph ltx_font_italic">This is visualized in the left figure with the dashed green
lines.</span>]</td>
</tr>
</table>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="Ch16.S2.SS1.p2" class="ltx_para">
<p class="ltx_p">]</p>
</div>
</section>
<section id="base-clock-and-sub-clock-partitions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.2.2 </span>Base-Clock and Sub-Clock Partitions</h3>

<div id="Ch16.S2.SS2.p1" class="ltx_para">
<p class="ltx_p">The following concepts are used:</p>
</div>
<div id="Ch16.S2.SS2.p2" class="ltx_para">
<ul id="Ch16.S2.I1" class="ltx_itemize">
<li id="Ch16.S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S2.I1.i1.p1" class="ltx_para">
<p class="ltx_p">A “<span class="ltx_text ltx_font_bold">base-clock partition</span>” identifies a set of equations and
a set of variables which must be executed together in one task.
Different base-clock partitions can be associated to separate tasks
for asynchronous execution.</p>
</div>
</li>
<li id="Ch16.S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S2.I1.i2.p1" class="ltx_para">
<p class="ltx_p">A “<span class="ltx_text ltx_font_bold">sub-clock partition</span>” identifies a subset of equations
and a subset of variables of a base-clock partition which are
partially synchronized with other sub-clock partitions of the same
base-clock partition, i.e., synchronized when the ticks of the
respective clocks are simultaneous.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="argument-restrictions-component-expression" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.2.3 </span>Argument Restrictions (Component Expression)</h3>

<div id="Ch16.S2.SS3.p1" class="ltx_para">
<p class="ltx_p">The built-in operators (with function syntax) defined in the following
sections have partially restrictions on their input arguments that are
not present for Modelica functions. To define the restrictions, the
following term is defined:</p>
</div>
<div id="Ch16.S2.SS3.p2" class="ltx_para">
<dl id="Ch16.S2.I2" class="ltx_description">
<dt id="Ch16.S2.I2.i1" class="ltx_item"></dt>
<dd class="ltx_item">
<div id="Ch16.S2.I2.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">Component Expression</span>:</p>
</div>
<div id="Ch16.S2.I2.i1.p2" class="ltx_para">
<p class="ltx_p">A Component Reference which is an Expression, i.e. does not refer to
models or blocks with equations. It is an instance of a (a) base type,
(b) derived type, (c) record, (d) an array of such an instance (a-c),
(e) one or more elements of such an array (d) defined by index
expressions which are parameter expressions (see below), or (f) an
element of records. [<span class="ltx_text ltx_emph ltx_font_italic">The essential features are that one or
several values are associated with the instance, that start values can
be defined on these values, and that no equations are associated with
the instance. A Component Expression can be constant or can vary with
time.</span>]</p>
</div>
</dd>
</dl>
</div>
<div id="Ch16.S2.SS3.p3" class="ltx_para">
<p class="ltx_p">In the following sections the following notation is partially used when
defining the operators:</p>
</div>
<div id="Ch16.S2.SS3.p4" class="ltx_para">
<ul id="Ch16.S2.I3" class="ltx_itemize">
<li id="Ch16.S2.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S2.I3.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">The input argument is a Component Expression</span>:</p>
</div>
<div id="Ch16.S2.I3.i1.p2" class="ltx_para">
<p class="ltx_p">The meaning is that the input argument when calling the operator must
be a Component Expression.</p>
</div>
<div id="Ch16.S2.I3.i1.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">The reason for this restriction is that the start value of
the input argument is returned before the first tick of the clock of
the input argument and this is not possible for a general
expression.</span></p>
</div>
<div id="Ch16.S2.I3.i1.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Examples:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBSZWFsIHUxOwogIFJlYWwgdTJbNF07CiAgQ29tcGxleCBjOwogIFJlc2lzdG9yIFI7CiAgLi4uCiAgeTEgPSBwcmV2aW91cyh1MSk7ICAgIC8vIGZpbmUKICB5MiA9IHByZXZpb3VzKHUyKTsgICAgLy8gZmluZQogIHkzID0gcHJldmlvdXModTJbMl0pOyAvLyBmaW5lCiAgeTQgPSBwcmV2aW91cyhjLmltKTsgIC8vIGZpbmUKICB5NSA9IHByZXZpb3VzKDIqdSk7ICAgLy8gZXJyb3IgKGdlbmVyYWwgZXhwcmVzc2lvbiwgbm8gQ29tcG9uZW50IEV4cHJlc3Npb24pCiAgeTYgPSBwcmV2aW91cyhSKTsgICAgIC8vIGVycm9yIChjb21wb25lbnQsIG5vIENvbXBvbmVudCBFeHByZXNzaW9uKQ==">⬇</a></div>
<div id="lstnumberx3447" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3448" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">[4];</span>
</div>
<div id="lstnumberx3449" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Complex</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3450" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Resistor</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">R</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3451" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">...</span>
</div>
<div id="lstnumberx3452" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div id="lstnumberx3453" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div id="lstnumberx3454" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">[2]);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div id="lstnumberx3455" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c.im</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div id="lstnumberx3456" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(2*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(general<span class="ltx_text ltx_lst_space"> </span>expression,<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>Component<span class="ltx_text ltx_lst_space"> </span>Expression)</span>
</div>
<div id="lstnumberx3457" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">R</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">     </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(component,<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>Component<span class="ltx_text ltx_lst_space"> </span>Expression)</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</li>
<li id="Ch16.S2.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S2.I3.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">The input argument is a parameter expression</span>:</p>
</div>
<div id="Ch16.S2.I3.i2.p2" class="ltx_para">
<p class="ltx_p">The meaning is that the input argument when calling the operator must
have parameter variability, that is the argument must depend directly
or indirectly only on parameters, constants or literals, see
<a href="Ch3.html#variability-of-expressions" title="3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.8</span></a>.</p>
</div>
<div id="Ch16.S2.I3.i2.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">The reason for this restriction is that the value of the
input argument needs to be evaluated during translation, in order that
clock analysis can be performed during translation.</span></p>
</div>
<div id="Ch16.S2.I3.i2.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Examples:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBSZWFsIHU7CiAgcGFyYW1ldGVyIFJlYWwgcD0zOwogIC4uLgogIHkxID0gc3ViU2FtcGxlKHUsIGZhY3Rvcj0zKTsgICAgICAgLy8gZmluZSAobGl0ZXJhbCkKICB5MiA9IHN1YlNhbXBsZSh1LCBmYWN0b3I9MipwIC0gMyk7IC8vIGZpbmUgKHBhcmFtZXRlciBleHByZXNzaW9uKQogIHkzID0gc3ViU2FtcGxlKHUsIGZhY3Rvcj0zKnUpOyAgICAgLy8gZXJyb3IgKGdlbmVyYWwgZXhwcmVzc2lvbik=">⬇</a></div>
<div id="lstnumberx3458" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3459" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">p</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=3;</span>
</div>
<div id="lstnumberx3460" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">...</span>
</div>
<div id="lstnumberx3461" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">factor</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">       </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine<span class="ltx_text ltx_lst_space"> </span>(literal)</span>
</div>
<div id="lstnumberx3462" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">factor</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=2*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">p</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine<span class="ltx_text ltx_lst_space"> </span>(parameter<span class="ltx_text ltx_lst_space"> </span>expression)</span>
</div>
<div id="lstnumberx3463" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">factor</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=3*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">     </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(general<span class="ltx_text ltx_lst_space"> </span>expression)</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</li>
<li id="Ch16.S2.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S2.I3.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_bold">The input argument is an expression:</span>
</p>
</div>
<div id="Ch16.S2.I3.i3.p2" class="ltx_para">
<p class="ltx_p">There is no restriction on the input argument when calling the
operator. This notation is used to emphasis when a standard function
call is used (“is an expression”), instead of restricting the input
(“is a Component Expression”).</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="clock-constructors" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.3 </span>Clock Constructors</h2>

<div id="Ch16.S3.p1" class="ltx_para">
<p class="ltx_p">The following overloaded constructors are available to generate clocks:</p>
</div>
<figure id="Ch16.T2" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">
<span class="ltx_text ltx_font_bold">Clock</span>()</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:341.4pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;"><span class="ltx_text ltx_wrap ltx_font_bold">Inferred Clock</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;">The operator returns a clock that is inferred.
[<span class="ltx_text ltx_emph ltx_font_italic">Example</span>:

<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,d2hlbiBDbG9jaygpIHRoZW4gIC8vIGVxdWF0aW9ucyBhcmUgb24gdGhlIHNhbWUgY2xvY2sKICB4ID0gQSpwcmV2aW91cyh4KSArIEIqdTsKICBNb2RlbGljYS5VdGlsaXRpZXMuU3RyZWFtcy5wcmludAogICAgKCJjbG9jayB0aWNrcyBhdCA9ICIgKyBTdHJpbmcoc2FtcGxlKHRpbWUpKSk7CmVuZCB3aGVuOw==">⬇</a></div>
<div id="lstnumberx3464" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>are<span class="ltx_text ltx_lst_space"> </span>on<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>same<span class="ltx_text ltx_lst_space"> </span>clock</span>
</div>
<div id="lstnumberx3465" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">A</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">B</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3466" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Modelica.Utilities.Streams.print</span>
</div>
<div id="lstnumberx3467" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"clock<span class="ltx_text ltx_lst_space"> </span>ticks<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">String</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">time</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)));</span>
</div>
<div id="lstnumberx3468" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
<span class="ltx_text ltx_emph ltx_font_italic">Note, in most cases, the operator is not needed and equations
could be written without a when-clause (but not in the example above,
since the “print” statement is otherwise not associated to a clock).
This style is useful if a modeler would clearly like to mark the
equations that must belong to one clock (although a tool could figure
this out as well, if the when-clause is not present).</span>]</td>
</tr>
</table>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:82.5pt;">
<span class="ltx_text ltx_align_left ltx_font_bold">Clock</span>(intervalCounter,resolution)</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:341.4pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;"><span class="ltx_text ltx_wrap ltx_font_bold">Clock with Rational Interval</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;">The first input argument, <span class="ltx_text ltx_align_left ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">intervalCounter</span>, is a clocked Component
Expression (see <a href="#argument-restrictions-component-expression" title="16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_align_left ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.2.3</span></a>) or a parameter expression of type
<span class="ltx_text ltx_align_left ltx_font_bold">Integer</span> with min=0. The optional second argument <span class="ltx_text ltx_align_left ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">resolution</span>
(default=1) is a parameter expression of type Integer with min=1 and
unit “Hz”. If <span class="ltx_text ltx_align_left ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">intervalCounter</span> is a parameter expression with value
zero, the period of the clock is derived by clock inference, see
<a href="#sub-clock-inferencing" title="16.7.5 Sub-clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_align_left ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.5</span></a>. The output argument is of base type Clock that ticks when time
becomes t<sub class="ltx_sub ltx_align_left">start</sub>, t<sub class="ltx_sub ltx_align_left">start</sub>+interval1,
t<sub class="ltx_sub ltx_align_left">start</sub>+interval1+interval2, … The clock starts at the
start of the simulation t<sub class="ltx_sub ltx_align_left">start</sub> or when the controller is
switched on. At the start of the simulation, previous(intervalCounter) =
intervalCounter.start and the clocks ticks the first time. At the first
clock tick intervalCounter must be computed and the second clock tick is
then triggered at interval1=intervalCounter/resolution. At the second
clock tick at time tstart+interval1, a new value for intervalCounter
must be computed and the next clock tick is scheduled at interval2 =
intervalCounter/resolution, and so on. If interval is a parameter
expression, the clock defines a periodic clock.
[<span class="ltx_text ltx_align_left ltx_emph ltx_font_italic">The given interval and time shift can be modified by using the
subSample, superSample, shiftSample and backSample operators on the
returned clock, see <a href="#sub-clock-conversion-operators" title="16.5.2 Sub-clock conversion operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.5.2</span></a>.</span>
<span class="ltx_text ltx_align_left ltx_emph ltx_font_italic">Example:</span>

<div class="ltx_listing ltx_align_left ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICAvLyBmaXJzdCBjbG9jayB0aWNrOiBwcmV2aW91cyhuZXh0SW50ZXJ2YWwpPTIKICBJbnRlZ2VyIG5leHRJbnRlcnZhbChzdGFydD0yKTsKICBSZWFsIHkxKHN0YXJ0PTApOwogIFJlYWwgeTIoc3RhcnQ9MCk7CmVxdWF0aW9uCiAgd2hlbiBDbG9jaygyLDEwMDApIHRoZW4KICAgIC8vIHBlcmlvZGljIGNsb2NrIHRoYXQgdGlja3MgYXQgMCwgMC4wMDIsIDAuMDA0LCAuLi4KICAgIHkxID0gcHJldmlvdXMoeTEpICsgMTsKICBlbmQgd2hlbjsKCiAgd2hlbiBDbG9jayhuZXh0SW50ZXJ2YWwsIDEwMDApIHRoZW4KICAgIC8vIGludGVydmFsIGNsb2NrIHRoYXQgdGlja3MgYXQgMCwgMC4wMDMsIDAuMDA3LCAwLjAxMiwgLi4uCiAgICBuZXh0SW50ZXJ2YWwgPSBwcmV2aW91cyhuZXh0SW50ZXJ2YWwpICsgMTsKICAgIHkyID0gcHJldmlvdXMoeTIpICsgMTsKICBlbmQgd2hlbjs=">⬇</a></div>
<div id="lstnumberx3469" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick:<span class="ltx_text ltx_lst_space"> </span>previous(nextInterval)=2</span>
</div>
<div id="lstnumberx3470" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">nextInterval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=2);</span>
</div>
<div id="lstnumberx3471" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0);</span>
</div>
<div id="lstnumberx3472" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0);</span>
</div>
<div id="lstnumberx3473" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3474" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(2,1000)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3475" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>periodic<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>that<span class="ltx_text ltx_lst_space"> </span>ticks<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>0.002,<span class="ltx_text ltx_lst_space"> </span>0.004,<span class="ltx_text ltx_lst_space"> </span>…</span>
</div>
<div id="lstnumberx3476" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
<div id="lstnumberx3477" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3478" class="ltx_listingline">
</div>
<div id="lstnumberx3479" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">nextInterval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1000)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3480" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>interval<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>that<span class="ltx_text ltx_lst_space"> </span>ticks<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>0.003,<span class="ltx_text ltx_lst_space"> </span>0.007,<span class="ltx_text ltx_lst_space"> </span>0.012,<span class="ltx_text ltx_lst_space"> </span>…</span>
</div>
<div id="lstnumberx3481" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">nextInterval</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">nextInterval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
<div id="lstnumberx3482" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
<div id="lstnumberx3483" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
]
Note that operator interval(c) of Clock c =
Clock(nextInterval,resolution) returns:previous(intervalCounter)/resolution; // in seconds</td>
</tr>
</table>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">
<span class="ltx_text ltx_font_bold">Clock</span>(interval)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:341.4pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;"><span class="ltx_text ltx_wrap ltx_font_bold">Clock with Real Interval</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;">The input argument, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">interval</span>, is a clocked Component Expression (see
<a href="#argument-restrictions-component-expression" title="16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.2.3</span></a>) or a parameter expression of type <span class="ltx_text ltx_font_bold">Real</span> with
min=0.0 and unit “s”. The output argument is of base type Clock that
ticks when time becomes t<sub class="ltx_sub">start</sub>,
t<sub class="ltx_sub">start</sub>+interval1,
t<sub class="ltx_sub">start</sub>+interval1+interval2, … The clock starts at the
start of the simulation t<sub class="ltx_sub">start</sub> or when the controller is
switched on. Here the next clock tick is scheduled at interval1 =
<span class="ltx_text ltx_font_bold">previous</span>(interval) = interval.start. At the second clock tick
at time t<sub class="ltx_sub">start</sub>+interval1, the next clock tick is
scheduled at interval2 = <span class="ltx_text ltx_font_bold">previous</span>(interval), and so on. If
interval is a parameter expression, the clock defines a periodic clock.
[<span class="ltx_text ltx_emph ltx_font_italic">Note, the clock is defined with <span class="ltx_text ltx_font_bold">previous</span>(interval).
Therefore, for sorting the input argument is treated as known.</span>
<span class="ltx_text ltx_emph ltx_font_italic">The given interval and time shift can be modified by using the
subSample, superSample, shiftSample and backSample operators on the
returned clock, see <a href="#sub-clock-conversion-operators" title="16.5.2 Sub-clock conversion operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.5.2</span></a>. There are restrictions where
this operator can be used, see Clock expressions below.</span>]</td>
</tr>
</table>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:82.5pt;">
<span class="ltx_text ltx_align_left ltx_font_bold">Clock</span>(condition,startInterval)</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:341.4pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;"><span class="ltx_text ltx_wrap ltx_font_bold">Clock with Boolean Condition</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;">The input argument, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">condition</span>, is a continuous-time expression of type
Boolean. The optional <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">startInterval</span> argument (default = 0.0) is the
value returned by the operator <span class="ltx_text ltx_font_bold">interval</span>() at the first tick of
the clock, see <a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.9</span></a>. The output argument is of base type Clock
that ticks when <span class="ltx_text ltx_font_bold">edge</span>(condition) becomes true.
[<span class="ltx_text ltx_emph ltx_font_italic">This clock is used to trigger a clocked partition due to a
state event, that is a zero-crossing of a Real variable, in a
continuous-time partition or due to a hardware interrupt that is modeled
as Boolean in the simulation model. Example:</span>

<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBDbG9jayBjID0gQ2xvY2soYW5nbGUgPiAwLCAwLjEpIC8vIGJlZm9yZSBmaXJzdCB0aWNrIG9mIGM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcnZhbChjKSA9IDAuMQ==">⬇</a></div>
<div id="lstnumberx3484" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">angle</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">.1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>before<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>tick<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>c:</span>
</div>
<div id="lstnumberx3485" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">                                  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>interval(c)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0.1</span>
</div>
</div>
<span class="ltx_text ltx_emph ltx_font_italic">The implicitly given interval and time shift can be modified by
using the subsample, superSample, shiftSample and backSample operators
on the returned clock, see <a href="#sub-clock-conversion-operators" title="16.5.2 Sub-clock conversion operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.5.2</span></a>, provided the base
interval is not smaller than the implicitly given interval.</span> ]</td>
</tr>
</table>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:82.5pt;">
<span class="ltx_text ltx_align_left ltx_font_bold">Clock</span>(c,solverMethod)</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:341.4pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;"><span class="ltx_text ltx_wrap ltx_font_bold">Solver Clock</span></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:338.6pt;">The first input argument “<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">c</span>” is a clock and the operator returns this
clock. The returned clock is associated with the second input argument
of type String “<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">solverMethod</span>”. The meaning of solverMethod is defined
in <a href="#solver-methods" title="16.8.2 Solver Methods ‣ 16.8 Continuous-Time Equations in Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.8.2</span></a>. If the second input argument solverMethod is an empty
String, then no integrator is associated with the returned clock.
[<span class="ltx_text ltx_emph ltx_font_italic">Examples:</span>

<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBDbG9jayBjMSA9IENsb2NrKDEsMTApIC8vIDEwMCBtcywgbm8gc29sdmVyCiAgQ2xvY2sgYzIgPSBDbG9jayhjMSwgIkltcGxpY2l0VHJhcGV6b2lkIik7CiAgICAvLyAxMDAgbXMsIEltcGxpY2l0VHJhcGV6b2lkIHNvbHZlcgogIENsb2NrIGMzID0gQ2xvY2soYzIsICIiKTsgLy8gMTAwIG1zLCBubyBzb2x2ZXI=">⬇</a></div>
<div id="lstnumberx3486" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(1,10)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>100<span class="ltx_text ltx_lst_space"> </span>ms,<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>solver</span>
</div>
<div id="lstnumberx3487" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ImplicitTrapezoid"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3488" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>100<span class="ltx_text ltx_lst_space"> </span>ms,<span class="ltx_text ltx_lst_space"> </span>ImplicitTrapezoid<span class="ltx_text ltx_lst_space"> </span>solver</span>
</div>
<div id="lstnumberx3489" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">""</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>100<span class="ltx_text ltx_lst_space"> </span>ms,<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>solver</span>
</div>
</div>
]</td>
</tr>
</table>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:85.4pt;"></td>
<td class="ltx_td ltx_align_justify ltx_border_t" style="width:341.4pt;"></td>
</tr>
</table>
</figure>
<div id="Ch16.S3.p2" class="ltx_para">
<p class="ltx_p">Besides inferred clocks and solver clocks, one of the following mutually
exclusive associations of clocks are possible in one base partition:</p>
</div>
<div id="Ch16.S3.p3" class="ltx_para">
<ol id="Ch16.S3.I1" class="ltx_enumerate">
<li id="Ch16.S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="Ch16.S3.I1.i1.p1" class="ltx_para">
<p class="ltx_p">One or more Rational interval clocks, provided they are consistent
with each other, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.5</span></a>.
<br class="ltx_break">[<span class="ltx_text ltx_emph ltx_font_italic">For example, assume “y = subSample(u)”, and Clock(1,10) is
associated to “u” and Clock(2,10) is associated with “y”, then
this is correct, but it would be an error if “y” is associated to a
Clock (1,3).</span> ]</p>
</div>
</li>
<li id="Ch16.S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="Ch16.S3.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Exactly one Real interval clock. [<span class="ltx_text ltx_emph ltx_font_italic">Assume“Clock c =
Clock(2.5)”, then variables in the same base partition can be
associated multiple times with “c” but not multiple times with
“Clock(2.5)”</span>]</p>
</div>
</li>
<li id="Ch16.S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="Ch16.S3.I1.i3.p1" class="ltx_para">
<p class="ltx_p">Exactly one Boolean clock.</p>
</div>
</li>
<li id="Ch16.S3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="Ch16.S3.I1.i4.p1" class="ltx_para">
<p class="ltx_p">A default clock, if neither a Real interval, nor a Rational interval
nor a Boolean clock is associated with a base partition. In this case
the default clock is associated with the fastest sub-clock partition.
[<span class="ltx_text ltx_emph ltx_font_italic">Typically, a tool will use Clock(1.0) as a default clock and
will raise a warning, that it selected a default clock.</span>]</p>
</div>
</li>
</ol>
</div>
<div id="Ch16.S3.p4" class="ltx_para">
<p class="ltx_p">Clock variables can be used in a restricted form of expressions.
Generally, every expression containing clock variables must have
parametric variability [<span class="ltx_text ltx_emph ltx_font_italic">in order that clock analysis can be
performed when translating a model.</span>]. Otherwise, the following
expressions are allowed:</p>
</div>
<div id="Ch16.S3.p5" class="ltx_para">
<ul id="Ch16.S3.I2" class="ltx_itemize">
<li id="Ch16.S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S3.I2.i1.p1" class="ltx_para">
<p class="ltx_p">Declaring arrays of clocks [<span class="ltx_text ltx_emph ltx_font_italic">Example:</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">[3]<span class="ltx_text ltx_lst_space"> </span>={<span class="ltx_text ltx_lst_identifier">Clock</span>(1),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Clock</span>(2),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Clock</span>(3)}</span></span> ]
</p>
</div>
</li>
<li id="Ch16.S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S3.I2.i2.p1" class="ltx_para">
<p class="ltx_p">Array constructors of clocks: <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">{},<span class="ltx_text ltx_lst_space"> </span>[],<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">cat</span>(<span class="ltx_text ltx_lst_identifier">...</span>)</span>.</p>
</div>
</li>
<li id="Ch16.S3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S3.I2.i3.p1" class="ltx_para">
<p class="ltx_p">Array access of clocks [<span class="ltx_text ltx_emph ltx_font_italic">Example: <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter ltx_font_upright" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">u</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c1</span>[2])</span></span></span>]</p>
</div>
</li>
<li id="Ch16.S3.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S3.I2.i4.p1" class="ltx_para">
<p class="ltx_p">Equality of clocks [<span class="ltx_text ltx_emph ltx_font_italic">Example: <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright" style="font-size:90%;">c1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright" style="font-size:90%;">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c2</span></span></span></span>].</p>
</div>
</li>
<li id="Ch16.S3.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S3.I2.i5.p1" class="ltx_para">
<p class="ltx_p">If-expressions of clocks in equations
<br class="ltx_break">[<span class="ltx_text ltx_emph ltx_font_italic">Example: <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright" style="font-size:90%;">c2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright" style="font-size:90%;">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#000066;">if</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>&gt;0<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#000066;">then</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">subSample</span>(<span class="ltx_text ltx_lst_identifier">c1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#000066;">elseif</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>&lt;0<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#000066;">then</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">superSample</span>(<span class="ltx_text ltx_lst_identifier">c1</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">f</span>)<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_bold" style="color:#000066;">else</span><span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c1</span></span></span></span>].</p>
</div>
</li>
<li id="Ch16.S3.I2.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S3.I2.i6.p1" class="ltx_para">
<p class="ltx_p">Clock variables can be declared in models, blocks, connectors, and
records,. A Clock variable can be declared with the prefixes
<span class="ltx_text ltx_font_bold">input</span>, <span class="ltx_text ltx_font_bold">output</span>, <span class="ltx_text ltx_font_bold">inner</span>, <span class="ltx_text ltx_font_bold">outer</span>, but
<span class="ltx_text ltx_font_bold">not</span> with the prefixes <span class="ltx_text ltx_font_bold">flow</span>, <span class="ltx_text ltx_font_bold">stream</span>,
<span class="ltx_text ltx_font_bold">discrete</span>, <span class="ltx_text ltx_font_bold">parameter</span>, or <span class="ltx_text ltx_font_bold">constant</span>
[<span class="ltx_text ltx_emph ltx_font_italic">Example: <span class="ltx_text ltx_font_bold">connector</span> ClockInput = <span class="ltx_text ltx_font_bold">input</span>
Clock;</span>]</p>
</div>
</li>
</ul>
</div>
</section>
<section id="discrete-states" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.4 </span>Discrete States</h2>

<div id="Ch16.S4.p1" class="ltx_para">
<p class="ltx_p">The previous value of a clocked variable can be accessed with the
previous operator. Such a variable is called a clocked state variable.</p>
</div>
<figure id="Ch16.T3" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t">
<span class="ltx_text ltx_font_bold">previous</span>(u)</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:341.4pt;">The input argument is a Component Expression (see
<a href="#argument-restrictions-component-expression" title="16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.2.3</span></a>) or a parameter expression. The return argument has the
same type as the input argument. Input and return arguments are on the
same clock. At the first tick of the clock of u or after a reset
transition (see <a href="Ch17.html#reset-handling" title="17.3.2 Reset Handling ‣ 17.3 State Machine Semantics ‣ Chapter 17 State Machines ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 17.3.2</span></a>), the start value of u is returned, see
<a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.9</span></a>. At subsequent activations of the clock of u, the value of
u from the previous clock activation is returned.</td>
</tr>
</table>
</figure>
</section>
<section id="partitioning-operators" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.5 </span>Partitioning Operators</h2>

<div id="Ch16.S5.p1" class="ltx_para">
<p class="ltx_p">A set of “clock conversion operators” together act as boundaries
between different clock partitions.</p>
</div>
<section id="base-clock-conversion-operators" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.5.1 </span>Base-clock conversion operators</h3>

<div id="Ch16.S5.SS1.p1" class="ltx_para">
<p class="ltx_p">The following operators convert between a continuous-time and a
clocked-time representation and vice versa:</p>
</div>
<figure id="Ch16.T4" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">
<span class="ltx_text ltx_font_bold">sample</span>(u, c)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:341.4pt;">Input argument u is a continuous-time expression according to
<a href="Ch3.html#continuous-time-expressions" title="3.8.4 Continuous-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.8.4</span></a>. The optional input argument c is of type Clock. The operator
returns a clocked variable that has c as associated clock and has the
value of the left limit of u when c is active (that is the value of u
just before the event of c is triggered). If argument c is not provided,
it is inferred, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.5</span></a>.
[<span class="ltx_text ltx_emph ltx_font_italic">Since the operator returns the left limit of u, it introduces
an infinitesimal small delay between the continuous-time and the clocked
partition. This corresponds to the reality, where a sampled data system
cannot act infinitely fast and even for a very idealized simulation, an
infinitesimal small delay is present. The consequences for the sorting
are discussed below.</span>
<span class="ltx_text ltx_emph ltx_font_italic">Input argument u can be a general expression, because the argument
is continuous-time and therefore has always a value. It can also be a
constant, a parameter or a piecewise constant expression. </span>
<span class="ltx_text ltx_emph ltx_font_italic">Note that <span class="ltx_text ltx_font_bold">sample</span>() is an overloaded function: If
<span class="ltx_text ltx_font_bold">sample</span>(..) has two input arguments and the second argument is
of type Real, it is the operator from <a href="Ch3.html#event-related-operators-with-function-syntax" title="3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.7.3</span></a>. If
<span class="ltx_text ltx_font_bold">sample</span>(..) has one input argument, or it has two input
arguments and the second argument if of type Clock, it is the base-clock
conversion operator from this section.</span>]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t">
<span class="ltx_text ltx_font_bold">hold</span>(u)</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:341.4pt;">Input argument u is a clocked Component Expression (see <a href="#argument-restrictions-component-expression" title="16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.2.3</span></a>)
or a parameter expression. The operator returns a piecewise constant
signal of the same type of u. When the clock of u ticks, the operator
returns u and otherwise returns the value of u from the last clock
activation. Before the first clock activation of u, the operator returns
the start value of u, see <a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.9</span></a>.
[<span class="ltx_text ltx_emph ltx_font_italic">Since the input argument is not defined before the first tick
of the clock of u, the restriction is present, that it must be a
Component Expression (or a parameter expression), in order that the
initial value of u can be used in such a case.</span>]</td>
</tr>
</table>
</figure>
<div id="Ch16.S5.SS1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">Example: </span></p>
</div>
<div id="Ch16.S5.SS1.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Assume there is the following model:</span></p>
</div>
<div id="Ch16.S5.SS1.p4" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBSZWFsIHkoc3RhcnQ9MSksIHljOwplcXVhdGlvbgogIGRlcih5KSArIHkgPSAyOwogIHljID0gc2FtcGxlICh5LCBDbG9jaygwLjEpKTsKaW5pdGlhbCBlcXVhdGlvbgogIGRlcih5KSA9IDA7Cg==">⬇</a></div>
<div id="lstnumberx3490" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=1),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3491" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3492" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">2;</span>
</div>
<div id="lstnumberx3493" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">.1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">));</span>
</div>
<div id="lstnumberx3494" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">initial</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3495" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">The value of</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">yc</span> <span class="ltx_text ltx_emph ltx_font_italic">at the first clock tick is</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=2</span></span> <span class="ltx_text ltx_emph ltx_font_italic">(and not</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=1</span></span> <span class="ltx_text ltx_emph ltx_font_italic">).
The reason is that the continuous-time model</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">y</span>)+<span class="ltx_text ltx_lst_identifier">y</span>=2</span></span> <span class="ltx_text ltx_emph ltx_font_italic"> is first
initialized and after initialization</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">y</span> <span class="ltx_text ltx_emph ltx_font_italic">has the value</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">2</span><span class="ltx_text ltx_emph ltx_font_italic">. At the first
clock tick at time=0, the left limit of</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">y</span> <span class="ltx_text ltx_emph ltx_font_italic">is</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">2</span> <span class="ltx_text ltx_emph ltx_font_italic">and therefore</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=<span class="ltx_text ltx_lst_space"> </span>2</span></span>.</p>
</div>
<div id="Ch16.S5.SS1.p5" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Sorting of a simulation model:
<br class="ltx_break">Since sample(u) returns the left limit of u, and the left limit of u is
a known value, all inputs to a base-clock partition are treated as known
during sorting. Since a periodic and interval clock can tick at most
once at a time instant, and since the left limit of a variable does not
change during event iteration (i.e., re-evaluating a base-clock
partition associated with a condition clock always gives the same result
because the sample(u) inputs do not change and therefore need not to be
re-evaluated) all base-clock partitions, see <a href="#base-clock-partitioning" title="16.7.3 Base-clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.3</span></a>, need
not to be sorted with respect to each other. Instead, at an event
instant, active base-clock partitions can be evaluated first (and once)
in any order. Afterwards, the continuous-time partition is evaluated.
Event iteration takes place only over the continuous-time partition. In
such a scenario, accessing the left limit of u in sample(u) just means
to pick the latest available value of u when the partition is entered,
storing it in a local variable of the partition and only using this
local copy during evaluation of the equations in this partition.</span>]</p>
</div>
</section>
<section id="sub-clock-conversion-operators" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.5.2 </span>Sub-clock conversion operators</h3>

<div id="Ch16.S5.SS2.p1" class="ltx_para">
<p class="ltx_p">The following operators convert between synchronous clocks:</p>
</div>
<figure id="Ch16.T5" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:113.8pt;" colspan="2">
The operators in this table have the following properties:
The input argument u is a clocked expression or an expression of type
Clock. [<span class="ltx_text ltx_emph ltx_font_italic">The operators can operate on all types of clocks</span>]. If
u is a clocked expression, the operator returns a clocked variable that
has the same type as the expression. If u is an expression of type
Clock, the operator returns a Clock.
The optional input arguments <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">factor</span> (default=0, min=0), and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">resolution</span>
(default=1, min=1) are parameter expressions of type Integer.
The input arguments <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">shiftCounter</span> and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">backCounter</span> are parameter
expressions of type Integer (min=0).</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:113.8pt;">
<span class="ltx_text ltx_font_bold">subSample</span>(u, factor)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:313.0pt;">The clock of y = <span class="ltx_text ltx_font_bold">subSample</span>(u,factor) is factor-times slower
than the clock of u. At every factor ticks of the clock of u, the
operator returns the value of u.. The first activation of the clock of y
coincides with the first activation of the clock of u. If argument
factor is not provided or is equal to zero, it is inferred, see
<a href="#sub-clock-inferencing" title="16.7.5 Sub-clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.5</span></a>.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:113.8pt;">
<span class="ltx_text ltx_font_bold">superSample</span>(u, factor)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:313.0pt;">The clock of y = <span class="ltx_text ltx_font_bold">superSample</span>(u,factor) is factor-times faster
than the clock of u. At every tick of the clock of y, the operator
returns the value of u from the last tick of the clock of u. The first
activation of the clock of y coincides with the first activation of the
clock of u. If argument factor is not provided or is equal to zero, it
is inferred, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.5</span></a>. If a Boolean clock is associated to a
base-clock partition, all its sub-clock partitions must have resulting
clocks that are sub-sampled with an Integer factor with respect to this
base clock.
[<span class="ltx_text ltx_emph ltx_font_italic">Example:</span>

<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBDbG9jayB1ID0gQ2xvY2soeCA+IDApOwogIENsb2NrIHkxID0gc3ViU2FtcGxlKHUsNCk7CiAgQ2xvY2sgeTIgPSBzdXBlclNhbXBsZSh5MSwyKTsgLy8gZmluZTsgeTIgPSAgc3ViU2FtcGxlKHUsMikKICBDbG9jayB5MyA9IHN1cGVyU2FtcGxlKHUgLDIpOyAvLyBlcnJvcgogIENsb2NrIHk0ID0gc3VwZXJTYW1wbGUoeTEsNSk7IC8vIGVycm9y">⬇</a></div>
<div id="lstnumberx3496" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0);</span>
</div>
<div id="lstnumberx3497" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,4);</span>
</div>
<div id="lstnumberx3498" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>fine;<span class="ltx_text ltx_lst_space"> </span>y2<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space">  </span>subSample(u,2)</span>
</div>
<div id="lstnumberx3499" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>error</span>
</div>
<div id="lstnumberx3500" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,5);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>error</span>
</div>
</div>
]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:113.8pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:113.8pt;">
<span class="ltx_text ltx_font_bold">shiftSample</span>(u,</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:113.8pt;">shiftCounter, resolution)</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:313.0pt;">[<span class="ltx_text ltx_emph ltx_font_italic">The first activation of the clock of y =
<span class="ltx_text ltx_font_bold">shiftSample</span>(..) is shifted in time
shiftCounter/resolution*interval(u) later than the first activation of
the clock of u.</span>].
Conceptually, the operator constructs a clock “cBase”

<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2sgY0Jhc2UgPSBzdWJTYW1wbGUoc3VwZXJTYW1wbGUodSxyZXNvbHV0aW9uKSwgc2hpZnRDb3VudGVyKQ==">⬇</a></div>
<div id="lstnumberx3501" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">cBase</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">resolution</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftCounter</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span>
</div>
</div>
and the clock of y = <span class="ltx_text ltx_font_bold">shiftSample</span>(..) starts at the second clock
tick of cBase. At every tick of the clock of y, the operator returns the
value of u from the last tick of the clock of u.
[<span class="ltx_text ltx_emph ltx_font_italic">Note, due to the restriction of superSample on Boolean clocks,
shiftSample can only shift the number of ticks of the Boolean clock, but
cannot introduce new ticks. Example:</span>

<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gUmF0aW9uYWwgaW50ZXJ2YWwgY2xvY2sKQ2xvY2sgdSAgPSBDbG9jaygzLCAxMCk7IC8vIHRpY2tzOiAwLCAzLzEwLCA2LzEwLCAuLgpDbG9jayB5MSA9IHNoaWZ0U2FtcGxlKHUsMSwzKTsgLy8gdGlja3M6IDEvMTAsIDQvMTAsCi4uLgovLyBCb29sZWFuIGNsb2NrCkNsb2NrIHUgPSBDbG9jayhzaW4oMipwaSp0aW1lKT4wLCBzdGFydEludGVydmFsPTAuMCkKLy8gdGlja3M6IDAuMCwgMS4wLCAyLjAsIDMuMCwgLi4uCkNsb2NrIHkxID0gc2hpZnRTYW1wbGUodSwyKTsgLy8gdGlja3M6IDIuMCwgMy4wLCAuLi4KQ2xvY2sgeTIgPSBzaGlmdFNhbXBsZSh1LDIsMyk7Ly8gZXJyb3IgKHJlc29sdXRpb24gbXVzdCBiZSAxKQ==">⬇</a></div>
<div id="lstnumberx3502" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Rational<span class="ltx_text ltx_lst_space"> </span>interval<span class="ltx_text ltx_lst_space"> </span>clock</span>
</div>
<div id="lstnumberx3503" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">10);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>3/10,<span class="ltx_text ltx_lst_space"> </span>6/10,<span class="ltx_text ltx_lst_space"> </span>..</span>
</div>
<div id="lstnumberx3504" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,1,3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>1/10,<span class="ltx_text ltx_lst_space"> </span>4/10,</span>
</div>
<div id="lstnumberx3505" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">...</span>
</div>
<div id="lstnumberx3506" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Boolean<span class="ltx_text ltx_lst_space"> </span>clock</span>
</div>
<div id="lstnumberx3507" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">sin</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(2*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">pi</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">time</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)&gt;0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">startInterval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">.0</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span>
</div>
<div id="lstnumberx3508" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>0.0,<span class="ltx_text ltx_lst_space"> </span>1.0,<span class="ltx_text ltx_lst_space"> </span>2.0,<span class="ltx_text ltx_lst_space"> </span>3.0,<span class="ltx_text ltx_lst_space"> </span>…</span>
</div>
<div id="lstnumberx3509" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>2.0,<span class="ltx_text ltx_lst_space"> </span>3.0,<span class="ltx_text ltx_lst_space"> </span>…</span>
</div>
<div id="lstnumberx3510" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2,3);</span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(resolution<span class="ltx_text ltx_lst_space"> </span>must<span class="ltx_text ltx_lst_space"> </span>be<span class="ltx_text ltx_lst_space"> </span>1)</span>
</div>
</div>
]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:113.8pt;">
<table class="ltx_tabular ltx_align_middle">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:113.8pt;">
<span class="ltx_text ltx_font_bold">backSample</span>(u,</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:113.8pt;">backCounter, resolution)</td>
</tr>
</table>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:313.0pt;">The input argument u is either a Component Expression (see
<a href="#argument-restrictions-component-expression" title="16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.2.3</span></a>) or an expression of type Clock. [<span class="ltx_text ltx_emph ltx_font_italic">The first activation of
the clock of y = <span class="ltx_text ltx_font_bold">backSample</span>(..) is shifted in time
backCounter/resolution*<span class="ltx_text ltx_font_bold">interval</span>(u) before the first activation
of the clock of u</span>]. Conceptually, the operator constructs a clock
“cBase”

<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2sgY0Jhc2UgPSBzdWJTYW1wbGUoc3VwZXJTYW1wbGUodSxyZXNvbHV0aW9uKSwgYmFja0NvdW50ZXIp">⬇</a></div>
<div id="lstnumberx3511" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">cBase</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">resolution</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">backCounter</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span>
</div>
</div>
and the clock of y = <span class="ltx_text ltx_font_bold">shiftSample</span>(..) is shifted a time duration
before the clock of u, such that this duration is identical to the
duration between the first and second clock tick of cBase. It is an
error, if the clock of y starts before the base clock of u. At every
tick of the clock of y, the operator returns the value of u from the
last tick of the clock of u. If u is a clocked Component Expression, the
operator returns the start value of u, see <a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.9</span></a>, before the
first tick of the clock of u.
<span class="ltx_text ltx_emph ltx_font_italic">[Example:</span>

<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gUmF0aW9uYWwgaW50ZXJ2YWwgY2xvY2sgMQoKQ2xvY2sgdSAgPSBDbG9jaygzLCAxMCk7IC8vIHRpY2tzOiAwLCAzLzEwLCA2LzEwLCAuLgpDbG9jayB5MSA9IHNoaWZ0U2FtcGxlKHUsMyk7IC8vIHRpY2tzOiA5LzEwLCAxMi8xMCwgLi4KQ2xvY2sgeTIgPSBiYWNrU2FtcGxlKHkxLDIpOyAvLyB0aWNrczogMy8xMCwgNi8xMCwKLi4uCkNsb2NrIHkzID0gYmFja1NhbXBsZSh5MSw0KTsgLy8gZXJyb3IgKHRpY2tzIGJlZm9yZSB1KQpDbG9jayB5NCA9IHNoaWZ0U2FtcGxlKHUsMiwzKTsgLy8gdGlja3M6IDIvMTAsIDUvMTAsCi4uLgpDbG9jayB5NSA9IGJhY2tTYW1wbGUoeTQsMSwzKTsgLy8gdGlja3M6IDEvMTAsIDQvMTAsCi4uLgovLyBCb29sZWFuIGNsb2NrCkNsb2NrIHUgPSBDbG9jayhzaW4oMipwaSp0aW1lKSA+IDAsIHN0YXJ0SW50ZXJ2YWw9eHgpCi8vIHRpY2tzOiAwLCAxLjAsIDIuMCwgMy4wLCAuLi4uCkNsb2NrIHkxID0gc2hpZnRTYW1wbGUodSwzKTsgLy8gdGlja3M6IDMuMCwgNC4wLCAuLi4KQ2xvY2sgeTIgPSBiYWNrU2FtcGxlKHkxLDIpOyAvLyB0aWNrczogMS4wLCAyLjAsIC4uLg==">⬇</a></div>
<div id="lstnumberx3512" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Rational<span class="ltx_text ltx_lst_space"> </span>interval<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>1</span>
</div>
<div id="lstnumberx3513" class="ltx_listingline">
</div>
<div id="lstnumberx3514" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">10);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>3/10,<span class="ltx_text ltx_lst_space"> </span>6/10,<span class="ltx_text ltx_lst_space"> </span>..</span>
</div>
<div id="lstnumberx3515" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>9/10,<span class="ltx_text ltx_lst_space"> </span>12/10,<span class="ltx_text ltx_lst_space"> </span>..</span>
</div>
<div id="lstnumberx3516" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">backSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>3/10,<span class="ltx_text ltx_lst_space"> </span>6/10,</span>
</div>
<div id="lstnumberx3517" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">...</span>
</div>
<div id="lstnumberx3518" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">backSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,4);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(ticks<span class="ltx_text ltx_lst_space"> </span>before<span class="ltx_text ltx_lst_space"> </span>u)</span>
</div>
<div id="lstnumberx3519" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2,3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>2/10,<span class="ltx_text ltx_lst_space"> </span>5/10,</span>
</div>
<div id="lstnumberx3520" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">...</span>
</div>
<div id="lstnumberx3521" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">backSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y4</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,1,3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>1/10,<span class="ltx_text ltx_lst_space"> </span>4/10,</span>
</div>
<div id="lstnumberx3522" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">...</span>
</div>
<div id="lstnumberx3523" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Boolean<span class="ltx_text ltx_lst_space"> </span>clock</span>
</div>
<div id="lstnumberx3524" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">sin</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(2*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">pi</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">time</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">startInterval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xx</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span>
</div>
<div id="lstnumberx3525" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>1.0,<span class="ltx_text ltx_lst_space"> </span>2.0,<span class="ltx_text ltx_lst_space"> </span>3.0,<span class="ltx_text ltx_lst_space"> </span>….</span>
</div>
<div id="lstnumberx3526" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>3.0,<span class="ltx_text ltx_lst_space"> </span>4.0,<span class="ltx_text ltx_lst_space"> </span>…</span>
</div>
<div id="lstnumberx3527" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">backSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>1.0,<span class="ltx_text ltx_lst_space"> </span>2.0,<span class="ltx_text ltx_lst_space"> </span>…</span>
</div>
</div>
]</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_l ltx_border_r ltx_border_t" style="width:113.8pt;">
<span class="ltx_text ltx_font_bold">noClock</span>(u)</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:313.0pt;">The clock of y = <span class="ltx_text ltx_font_bold">noClock</span>(u) is always inferred. At every tick
of the clock of y, the operator returns the value of u from the last
tick of the clock of u. If <span class="ltx_text ltx_font_bold">noClock</span>(u) is called before the
first tick of the clock of u, the start value of u is returned.</td>
</tr>
</table>
</figure>
<div id="Ch16.S5.SS2.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">[Clarification of backSample(..) operator:</span></p>
</div>
<div id="Ch16.S5.SS2.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Let a and b be positive integers with a &lt; b, and</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,eWIgPSBiYWNrU2FtcGxlICh1LCBhICwgYikKeXMgPSBzaGlmdFNhbXBsZSh1LCBiLWEsIGIp">⬇</a></div>
<div id="lstnumberx3528" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yb</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">backSample</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">b</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span>
</div>
<div id="lstnumberx3529" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ys</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">b</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">a</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">b</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span>
</div>
</div>
</div>
<div id="Ch16.S5.SS2.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Then when</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">ys</span> <span class="ltx_text ltx_emph ltx_font_italic">exists, also</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">yb</span> <span class="ltx_text ltx_emph ltx_font_italic">exists and</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ys</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">yb</span></span></span><span class="ltx_text ltx_emph ltx_font_italic">.
<br class="ltx_break">The variable</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">yb</span> <span class="ltx_text ltx_emph ltx_font_italic">exists for the above parameterization with</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">a</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&lt;<span class="ltx_text ltx_lst_identifier">b</span></span></span> <span class="ltx_text ltx_emph ltx_font_italic">one clock tick before</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">ys</span><span class="ltx_text ltx_emph ltx_font_italic">. Therefore, </span>
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">backSample</span> <span class="ltx_text ltx_emph ltx_font_italic">is basically
a</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">shiftSample</span> <span class="ltx_text ltx_emph ltx_font_italic">with a different parameterization and the clock
of</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">backSample.y</span> <span class="ltx_text ltx_emph ltx_font_italic">ticks before the clock of</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">u</span><span class="ltx_text ltx_emph ltx_font_italic">. Before the clock
of</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">u</span> <span class="ltx_text ltx_emph ltx_font_italic">ticks, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_upright" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yb</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u.start</span></span></span>.</span></p>
</div>
<div id="Ch16.S5.SS2.p5" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Clarification of noClock(..) operator:</span></p>
</div>
<div id="Ch16.S5.SS2.p6" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Note, that noClock(u) is not equivalent to sample(hold(u)).
Consider the following model:</span></p>
</div>
<div id="Ch16.S5.SS2.p7" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgTm9DbG9ja1ZzU2FtcGxlSG9sZAogIENsb2NrIGNsazEgPSBDbG9jaygwLjEpOwogIENsb2NrIGNsazIgPSBzdWJTYW1wbGUoY2xrMSwyKTsKICBSZWFsIHgoc3RhcnQ9MCksIHkoc3RhcnQ9MCksIHooc3RhcnQ9MCk7CmVxdWF0aW9uCiAgd2hlbiBjbGsxIHRoZW4KICAgIHggPSBwcmV2aW91cyAoeCkgKyAwLjE7CiAgZW5kIHdoZW47CiAgd2hlbiBjbGsyIHRoZW4KICAgIHkgPSBub0Nsb2NrICh4KTsgLy8gbW9zdCByZWNlbnQgdmFsdWUgb2YgeAogICAgeiA9IHNhbXBsZSAoaG9sZCh4KSk7IC8vIGxlZnQgbGltaXQgb2YgeCAoaW5maW5pdGVzaW1hbGx5IGRlbGF5ZWQpIQogIGVuZCB3aGVuOwplbmQgTm9DbG9ja1ZzU2FtcGxlSG9sZDs=">⬇</a></div>
<div id="lstnumberx3530" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">NoClockVsSampleHold</span>
</div>
<div id="lstnumberx3531" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">clk1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">.1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3532" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">clk2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">clk1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2);</span>
</div>
<div id="lstnumberx3533" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0);</span>
</div>
<div id="lstnumberx3534" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3535" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">clk1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3536" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">.1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3537" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3538" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">clk2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3539" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">noClock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>most<span class="ltx_text ltx_lst_space"> </span>recent<span class="ltx_text ltx_lst_space"> </span>value<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>x</span>
</div>
<div id="lstnumberx3540" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">hold</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">));</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>left<span class="ltx_text ltx_lst_space"> </span>limit<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>x<span class="ltx_text ltx_lst_space"> </span>(infinitesimally<span class="ltx_text ltx_lst_space"> </span>delayed)!</span>
</div>
<div id="lstnumberx3541" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3542" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">NoClockVsSampleHold</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
</div>
<div id="Ch16.S5.SS2.p8" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">Due to the infinitesimal delay of sample; z will not show the
current value of x as clk2 ticks, but will show its previous value (left
limit). However, y will show the current value, since it has no
infinitesimal delay.]</span></p>
</div>
</section>
</section>
<section id="clocked-when-clause" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.6 </span>Clocked When Clause</h2>

<div id="Ch16.S6.p1" class="ltx_para">
<p class="ltx_p">In addition to the previously discussed conditional when-clause, a
<span class="ltx_text ltx_emph ltx_font_italic">clocked</span> when-clause is introduced:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,d2hlbiAhXGVtcGh7Y2xvY2stZXhwcmVzc2lvbn0hIHRoZW4KICAhXGVtcGh7Y2xvY2tlZC1lcXVhdGlvbn0hCiAgLi4uCmVuZCB3aGVuOw==">⬇</a></div>
<div id="lstnumberx3543" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_emph ltx_font_typewriter ltx_font_italic" style="font-size:90%;">clock-expression</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3544" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_emph ltx_font_typewriter ltx_font_italic" style="font-size:90%;">clocked-equation</span>
</div>
<div id="lstnumberx3545" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">...</span>
</div>
<div id="lstnumberx3546" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
</div>
<div id="Ch16.S6.p2" class="ltx_para">
<p class="ltx_p">The clocked when-clause cannot be nested and does not have any elsewhen
part. It cannot be used inside an algorithm. General equations are
allowed in a clocked when-clause.</p>
</div>
<div id="Ch16.S6.p3" class="ltx_para">
<p class="ltx_p">For a clocked when-clause, all equations inside the when-clause are
clocked with the same clock given by the <span class="ltx_text ltx_emph ltx_font_italic">clock-expression</span>.</p>
</div>
</section>
<section id="clock-partitioning" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.7 </span>Clock Partitioning</h2>

<div id="Ch16.S7.p1" class="ltx_para">
<p class="ltx_p">This section defines how clock-partitions and clocks associated with
equations are inferred. [<span class="ltx_text ltx_emph ltx_font_italic">Typically clock partitioning is
performed before sorting the equations. The benefit is that clocking and
symbolic transformation errors are separated.</span>]</p>
</div>
<div id="Ch16.S7.p2" class="ltx_para">
<p class="ltx_p">Every clocked variable is uniquely associated with exactly one clock.</p>
</div>
<div id="Ch16.S7.p3" class="ltx_para">
<p class="ltx_p">After model flattening, every equation in an equation section, every
expression and every algorithm section is either continuous-time, or it
is uniquely associated with exactly one clock. In the latter case it is
called a clocked equation, a clocked expression or clocked algorithm
section respectively. The associated clock is either explicitly defined
by a when-clause, see <a href="#sub-clock-conversion-operators" title="16.5.2 Sub-clock conversion operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.5.2</span></a>, or it is implicitly defined by the
requirement that a clocked equation, a clocked expression and a clocked
algorithm section must have the same clock as the variables used in them
with exception of the expressions used as first arguments in the
conversion operators of <a href="#partitioning-operators" title="16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.5</span></a>. Clock inference means to infer the
clock of a variable, an equation, an expression or an algorithm section
if the clock is not explicitly defined and is deduced from the required
properties in the previous two paragraphs.</p>
</div>
<div id="Ch16.S7.p4" class="ltx_para">
<p class="ltx_p">All variables in an expression without clock conversion operators must
have the same clock to infer the clocks for each variable and
expression. The clock inference works both forward and backwards
regarding the data flow and is also being able to handle algebraic
loops. The clock inference method uses the set of variable incidences of
the equations, i.e., what variables that appear in each equation.</p>
</div>
<div id="Ch16.S7.p5" class="ltx_para">
<p class="ltx_p">Note that incidences of the first argument of clock conversion operators
of <a href="#partitioning-operators" title="16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.5</span></a> are handled specially.</p>
</div>
<section id="flattening-of-model" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.1 </span>Flattening of Model</h3>

<div id="Ch16.S7.SS1.p1" class="ltx_para">
<p class="ltx_p">The clock partitioning is conceptually performed after model flattening,
i.e., redeclarations have been elaborated, arrays of model components
expanded into scalar model components, and overloading resolved.
Furthermore, function calls to inline functions have been inlined.
[<span class="ltx_text ltx_emph ltx_font_italic">This is called “conceptually”, because a tool might do this
more efficiently in a different way, provided the result is the same as
if everything is flattened. For example, array and matrix equations and
records don’t not need to be expanded if they have the same clock.</span>]</p>
</div>
<div id="Ch16.S7.SS1.p2" class="ltx_para">
<p class="ltx_p">Furthermore, each non-trivial expression (non-literal, non-constant,
non-parameter, non-variable), expr<sub class="ltx_sub">i</sub>, appearing as first
argument of any clock conversion operator is recursively replaced by a
unique variable, v<sub class="ltx_sub">i</sub>, and the equation v<sub class="ltx_sub">i</sub>
= expr<sub class="ltx_sub">i</sub> is added to the equation set.</p>
</div>
</section>
<section id="connected-components-of-the-equations-and-variables-graph" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.2 </span>Connected Components of the Equations and Variables Graph</h3>

<div id="Ch16.S7.SS2.p1" class="ltx_para">
<p class="ltx_p">Consider the set E of equations and the set V of unknown variables (not
constants and parameters) in a flattened model, i.e. M = &lt;E,
V&gt;. The partitioning is described in terms of an undirected
graph &lt;N, F&gt; with the nodes N being the set of
equations and variables, N = E + V. The set <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">incidence</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">e</span>)</span></span> for an equation
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">e</span> in E is a subset of V, in general, the unknowns which lexically appear
in e. There is an edge in F of the graph between an equation, e, and a
variable, v, if v = incidence(e):</p>
</div>
<div id="Ch16.S7.SS2.p2" class="ltx_para">
<table id="Ch16.Ex1" class="ltx_equation ltx_eqn_table">

<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Ch16.Ex1.m1" class="ltx_Math" alttext="F=\{(e,v):e\in E,v\in\text{incidence}(e)\}" display="block"><mrow><mi>F</mi><mo>=</mo><mrow><mo stretchy="false">{</mo><mrow><mo stretchy="false">(</mo><mi>e</mi><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><mo>:</mo><mrow><mrow><mi>e</mi><mo>∈</mo><mi>E</mi></mrow><mo>,</mo><mrow><mi>v</mi><mo>∈</mo><mrow><mtext>incidence</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow><mo stretchy="false">}</mo></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</table>
</div>
<div id="Ch16.S7.SS2.p3" class="ltx_para">
<p class="ltx_p">A set of clock partitions is the “connected components” (Wikipedia,
“Connected components”) of this graph with appropriate definition of
the incidence operator.</p>
</div>
</section>
<section id="base-clock-partitioning" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.3 </span>Base-clock Partitioning</h3>

<div id="Ch16.S7.SS3.p1" class="ltx_para">
<p class="ltx_p">The goal is to identify all clocked equations and variables that should
be executed together in the same task, as well as to identify the
continuous-time partition.</p>
</div>
<div id="Ch16.S7.SS3.p2" class="ltx_para">
<p class="ltx_p">The base-clock partitioning is performed with base-clock inference which
uses the following incidence definition:
</p>
</div>
<div id="Ch16.S7.SS3.p3" class="ltx_para">
<table class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:28.5pt;" colspan="3">
<span class="ltx_text ltx_font_bold">incidence</span>(e) = the <span class="ltx_text ltx_emph ltx_font_italic">unknown</span> variables, as well as
variables x in <span class="ltx_text ltx_font_bold">der</span>(x), <span class="ltx_text ltx_font_bold">pre</span>(x), and <span class="ltx_text ltx_font_bold">previous</span>(x),</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:28.5pt;"></td>
<td class="ltx_td ltx_align_justify" style="width:28.5pt;" colspan="2">which lexically appear in e</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:28.5pt;"></td>
<td class="ltx_td ltx_align_justify" style="width:28.5pt;"></td>
<td class="ltx_td ltx_align_justify" style="width:28.5pt;">except as first argument of base-clock conversion operators: sample() and hold().</td>
</tr>
</tbody>
</table>
</div>
<div id="Ch16.S7.SS3.p4" class="ltx_para">
<p class="ltx_p">The resulting set of connected components, is the partitioning of the
equations and variables, B<sub class="ltx_sub">i</sub> =
&lt;E<sub class="ltx_sub">i</sub>, V<sub class="ltx_sub">i</sub>&gt;,
according to base-clocks and continuous-time partitions.</p>
</div>
<div id="Ch16.S7.SS3.p5" class="ltx_para">
<p class="ltx_p">The base clock partitions are identified as <span class="ltx_text ltx_font_bold">clocked</span> or as
<span class="ltx_text ltx_font_bold">continuous-time partitions</span> according to the following
properties:</p>
</div>
<div id="Ch16.S7.SS3.p6" class="ltx_para">
<p class="ltx_p">A variable u in <span class="ltx_text ltx_font_bold">sample</span>(u) and a variable y in y =
<span class="ltx_text ltx_font_bold">hold</span>(ud) is in a continuous-time partition.</p>
</div>
<div id="Ch16.S7.SS3.p7" class="ltx_para">
<p class="ltx_p">Correspondingly, variables u and y in y = <span class="ltx_text ltx_font_bold">sample</span>(uc), y =
<span class="ltx_text ltx_font_bold">subSample</span>(u), y = <span class="ltx_text ltx_font_bold">superSample</span>(u), y =
<span class="ltx_text ltx_font_bold">shiftSample</span>(u), y = <span class="ltx_text ltx_font_bold">backSample</span>(u), y =
<span class="ltx_text ltx_font_bold">previous</span>(u), are in a clocked partition. Equations in a clocked
when clause are also in a clocked partition.
Other partitions where none of the variables in the partition are
associated with any of the operators above have an unspecified partition
kind and are considered continuous-time partitions.</p>
</div>
<div id="Ch16.S7.SS3.p8" class="ltx_para">
<p class="ltx_p">All continuous-time partitions are collected together and form “the”
continuous-time partition.</p>
</div>
<div id="Ch16.S7.SS3.p9" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICAvLyBDb250cm9sbGVyIDEKICB1ZDEgPSBzYW1wbGUoeSxjMSk7CiAgMCA9IGYxKHlkMSwgdWQxLCBwcmV2aW91cyh5ZDEpKTsKCiAgLy8gQ29udHJvbGxlciAyCiAgdWQyID0gc3VwZXJTYW1wbGUoeWQxLDIpOwogIDAgPSBmMih5ZDIsIHVkMik7CgogIC8vIENvbnRpbnVvdXMtdGltZSBzeXN0ZW0KICB1ID0gaG9sZCh5ZDIpOwogIDAgPSBmMyhkZXIoeDEpLCB4MSwgdSk7CiAgMCA9IGY0KGRlcih4MiksIHgyLCB4MSk7CiAgMCA9IGY1KGRlcih4MyksIHgzKTsKICAwID0gZjYoeSwgeDEsIHUpOw==">⬇</a></div>
<div id="lstnumberx3547" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Controller<span class="ltx_text ltx_lst_space"> </span>1</span>
</div>
<div id="lstnumberx3548" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3549" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">));</span>
</div>
<div id="lstnumberx3550" class="ltx_listingline">
</div>
<div id="lstnumberx3551" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Controller<span class="ltx_text ltx_lst_space"> </span>2</span>
</div>
<div id="lstnumberx3552" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2);</span>
</div>
<div id="lstnumberx3553" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3554" class="ltx_listingline">
</div>
<div id="lstnumberx3555" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Continuous-time<span class="ltx_text ltx_lst_space"> </span>system</span>
</div>
<div id="lstnumberx3556" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">hold</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3557" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f3</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3558" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f4</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3559" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f5</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x3</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x3</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3560" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f6</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
</div>
</div>
<div id="Ch16.S7.SS3.p10" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">After base clock partitioning, the following partitions are
identified:</span></p>
</div>
<div id="Ch16.S7.SS3.p11" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICAvLyBCYXNlIHBhcnRpdGlvbiAxIC8vIGNsb2NrZWQgcGFydGl0aW9uCiAgdWQxID0gc2FtcGxlICh5LGMxKTsgLy8gaW5jaWRlbmNlKGUpID0ge3VkMX0KICAwID0gZjEoeWQxLCB1ZDEsIHByZXZpb3VzKHVkMSkpOyAvLyBpbmNpZGVuY2UoZSkgPSB7eWQxLHVkMX0KICB1ZDIgPSBzdXBlclNhbXBsZSAoeWQxLDIpOyAvLyBpbmNpZGVuY2UoZSkgPSB7dWQyLCB5ZDF9CiAgMCA9IGYyKHlkMiwgdWQyKTsgLy8gaW5jaWRlbmNlKGUpID0ge3lkMiwgdWQyfQoKICAvLyBCYXNlIHBhcnRpdGlvbiAyIC8vIGNvbnRpbnVvdXMtdGltZSBwYXJ0aXRpb24KICB1ID0gaG9sZCAoeWQyKTsgLy8gaW5jaWRlbmNlKGUpID0ge3V9CiAgMCA9IGYzKGRlcih4MSksIHgxLCB1KTsgLy8gaW5jaWRlbmNlKGUpID0ge3gxLHV9CiAgMCA9IGY0KGRlcih4MiksIHgyLCB4MSk7IC8vIGluY2lkZW5jZShlKSA9IHt4Mix4MX0KICAwID0gZjYoeSwgeDEsIHUpOyAvLyBpbmNpZGVuY2UoZSkgPSB7eSx4MSx1fQoKICAvLyBJZGVudGlmaWVkIGFzIHNlcGFyYXRlIHBhcnRpdGlvbiwgYnV0IGJlbG9uZ2luZyB0byBwYXJ0aXRpb24gMgogIDAgPSBmNShkZXIoeDMpLCB4Myk7IC8vIGluY2lkZW5jZShlKSA9IHt4M30=">⬇</a></div>
<div id="lstnumberx3561" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Base<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>1<span class="ltx_text ltx_lst_space"> </span>//<span class="ltx_text ltx_lst_space"> </span>clocked<span class="ltx_text ltx_lst_space"> </span>partition</span>
</div>
<div id="lstnumberx3562" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{ud1}</span>
</div>
<div id="lstnumberx3563" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">));</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{yd1,ud1}</span>
</div>
<div id="lstnumberx3564" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{ud2,<span class="ltx_text ltx_lst_space"> </span>yd1}</span>
</div>
<div id="lstnumberx3565" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{yd2,<span class="ltx_text ltx_lst_space"> </span>ud2}</span>
</div>
<div id="lstnumberx3566" class="ltx_listingline">
</div>
<div id="lstnumberx3567" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Base<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>//<span class="ltx_text ltx_lst_space"> </span>continuous-time<span class="ltx_text ltx_lst_space"> </span>partition</span>
</div>
<div id="lstnumberx3568" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">hold</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{u}</span>
</div>
<div id="lstnumberx3569" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f3</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{x1,u}</span>
</div>
<div id="lstnumberx3570" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f4</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{x2,x1}</span>
</div>
<div id="lstnumberx3571" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f6</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{y,x1,u}</span>
</div>
<div id="lstnumberx3572" class="ltx_listingline">
</div>
<div id="lstnumberx3573" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Identified<span class="ltx_text ltx_lst_space"> </span>as<span class="ltx_text ltx_lst_space"> </span>separate<span class="ltx_text ltx_lst_space"> </span>partition,<span class="ltx_text ltx_lst_space"> </span>but<span class="ltx_text ltx_lst_space"> </span>belonging<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>2</span>
</div>
<div id="lstnumberx3574" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f5</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x3</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x3</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{x3}</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="sub-clock-partitioning" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.4 </span>Sub-clock Partitioning</h3>

<div id="Ch16.S7.SS4.p1" class="ltx_para">
<p class="ltx_p">For each clocked partition B<sub class="ltx_sub">i</sub>, identified in
<a href="#base-clock-partitioning" title="16.7.3 Base-clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.3</span></a>, the sub-clock partitioning is performed with sub-clock inference
which uses the following incidence definition:</p>
</div>
<div id="Ch16.S7.SS4.p2" class="ltx_para">
<table class="ltx_tabular ltx_align_middle">
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:28.5pt;" colspan="4">
<span class="ltx_text ltx_font_bold">incidence</span>(e) = the <span class="ltx_text ltx_emph ltx_font_italic">unknown</span> variables, as well as
variables x in <span class="ltx_text ltx_font_bold">der</span>(x), <span class="ltx_text ltx_font_bold">pre</span>(x), and
<span class="ltx_text ltx_font_bold">previous</span>(x),</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:28.5pt;"></td>
<td class="ltx_td ltx_align_justify" style="width:28.5pt;" colspan="3">which lexically appear in e</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:28.5pt;"></td>
<td class="ltx_td ltx_align_justify" style="width:28.5pt;"></td>
<td class="ltx_td ltx_align_justify" style="width:28.5pt;" colspan="2">except as first argument of sub-clock conversion operators:</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify" style="width:28.5pt;"></td>
<td class="ltx_td ltx_align_justify" style="width:28.5pt;"></td>
<td class="ltx_td ltx_align_justify" style="width:28.5pt;"></td>
<td class="ltx_td ltx_align_justify" style="width:341.4pt;">subSample, superSample, shiftSample, backSample, and noClock.</td>
</tr>
</tbody>
</table>
<p class="ltx_p">The resulting set of connected components, is the partitioning of the
equations and variables, S<sub class="ltx_sub">ij</sub> =
&lt;E<sub class="ltx_sub">ij</sub>, V<sub class="ltx_sub">ij</sub>&gt;,
according to sub-clocks.</p>
</div>
<div id="Ch16.S7.SS4.p3" class="ltx_para">
<p class="ltx_p">It can be noted that:</p>
</div>
<div id="Ch16.S7.SS4.p4" class="ltx_para">
<p class="ltx_p"><math id="Ch16.S7.SS4.p4.m1" class="ltx_Math" alttext="E_{ij}\bigcap E_{kl}=\emptyset~{}\forall i\neq{}k,j\neq{}l" display="inline"><mrow><mrow><mrow><msub><mi>E</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub><mo>⁢</mo><mrow><mo largeop="true" mathsize="160%" stretchy="false" symmetric="true">⋂</mo><msub><mi>E</mi><mrow><mi>k</mi><mo>⁢</mo><mi>l</mi></mrow></msub></mrow></mrow><mo>=</mo><mrow><mpadded width="+3.3pt"><mi mathvariant="normal">∅</mi></mpadded><mo>⁢</mo><mrow><mo>∀</mo><mi>i</mi></mrow></mrow><mo>≠</mo><mi>k</mi></mrow><mo>,</mo><mrow><mi>j</mi><mo>≠</mo><mi>l</mi></mrow></mrow></math></p>
</div>
<div id="Ch16.S7.SS4.p5" class="ltx_para">
<p class="ltx_p"><math id="Ch16.S7.SS4.p5.m1" class="ltx_Math" alttext="V_{ij}\bigcap V_{kl}=\emptyset~{}\forall i\neq{}k,j\neq{}l" display="inline"><mrow><mrow><mrow><msub><mi>V</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub><mo>⁢</mo><mrow><mo largeop="true" mathsize="160%" stretchy="false" symmetric="true">⋂</mo><msub><mi>V</mi><mrow><mi>k</mi><mo>⁢</mo><mi>l</mi></mrow></msub></mrow></mrow><mo>=</mo><mrow><mpadded width="+3.3pt"><mi mathvariant="normal">∅</mi></mpadded><mo>⁢</mo><mrow><mo>∀</mo><mi>i</mi></mrow></mrow><mo>≠</mo><mi>k</mi></mrow><mo>,</mo><mrow><mi>j</mi><mo>≠</mo><mi>l</mi></mrow></mrow></math></p>
</div>
<div id="Ch16.S7.SS4.p6" class="ltx_para">
<p class="ltx_p"><math id="Ch16.S7.SS4.p6.m1" class="ltx_Math" alttext="V=\bigcup V_{ij}" display="inline"><mrow><mi>V</mi><mo>=</mo><mrow><mo largeop="true" mathsize="160%" stretchy="false" symmetric="true">⋃</mo><msub><mi>V</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub></mrow></mrow></math></p>
</div>
<div id="Ch16.S7.SS4.p7" class="ltx_para">
<p class="ltx_p"><math id="Ch16.S7.SS4.p7.m1" class="ltx_Math" alttext="E=\bigcup E_{ij}" display="inline"><mrow><mi>E</mi><mo>=</mo><mrow><mo largeop="true" mathsize="160%" stretchy="false" symmetric="true">⋃</mo><msub><mi>E</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub></mrow></mrow></math></p>
</div>
<div id="Ch16.S7.SS4.p8" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">Example:</span></p>
</div>
<div id="Ch16.S7.SS4.p9" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">After sub-clock partitioning of the example from <a href="#base-clock-partitioning" title="16.7.3 Base-clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.3</span></a>, the following partitions are identified:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICAvLyBCYXNlIHBhcnRpdGlvbiAxIChjbG9ja2VkIHBhcnRpdGlvbikKICAvLyBTdWItY2xvY2sgcGFydGl0aW9uIDEuMQogIHVkMSA9IHNhbXBsZSAoeSxjMSk7IC8vIGluY2lkZW5jZShlKSA9IHt1ZDF9CiAgMCA9IGYxKHlkMSx1ZDEscHJldmlvdXMoeWQxKSk7IC8vIGluY2lkZW5jZShlKSA9IHt5ZDEsdWQxfQoKICAvLyBTdWItQ2xvY2sgcGFydGl0aW9uIDEuMgogIHVkMiA9IHN1cGVyU2FtcGxlICh5ZDEsMik7IC8vIGluY2lkZW5jZShlKSA9IHt1ZDJ9CiAgMCA9IGYyKHlkMix1ZDIpOyAvLyBpbmNpZGVuY2UoZSkgPSB7eWQyLHVkMn0KCiAgLy8gQmFzZSBwYXJ0aXRpb24gMiAobm8gc3ViLWNsb2NrIHBhcnRpdGlvbmluZywgc2luY2UgY29udGludW91cy10aW1lKQogIHUgPSBob2xkICh5ZDIpOwogIDAgPSBmMyhkZXIoeDEpLCB4MSwgdSk7CiAgMCA9IGY0KGRlcih4MiksIHgyLCB4MSk7CiAgMCA9IGY1KGRlcih4MyksIHgzKTsKICAwID0gZjYoeSwgeDEsIHUpOw==">⬇</a></div>
<div id="lstnumberx3575" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Base<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>1<span class="ltx_text ltx_lst_space"> </span>(clocked<span class="ltx_text ltx_lst_space"> </span>partition)</span>
</div>
<div id="lstnumberx3576" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Sub-clock<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>1.1</span>
</div>
<div id="lstnumberx3577" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{ud1}</span>
</div>
<div id="lstnumberx3578" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">));</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{yd1,ud1}</span>
</div>
<div id="lstnumberx3579" class="ltx_listingline">
</div>
<div id="lstnumberx3580" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Sub-Clock<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>1.2</span>
</div>
<div id="lstnumberx3581" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{ud2}</span>
</div>
<div id="lstnumberx3582" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ud2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{yd2,ud2}</span>
</div>
<div id="lstnumberx3583" class="ltx_listingline">
</div>
<div id="lstnumberx3584" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Base<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>(no<span class="ltx_text ltx_lst_space"> </span>sub-clock<span class="ltx_text ltx_lst_space"> </span>partitioning,<span class="ltx_text ltx_lst_space"> </span>since<span class="ltx_text ltx_lst_space"> </span>continuous-time)</span>
</div>
<div id="lstnumberx3585" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">hold</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yd2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3586" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f3</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3587" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f4</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3588" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f5</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x3</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x3</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3589" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f6</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="sub-clock-inferencing" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.5 </span>Sub-clock Inferencing</h3>

<div id="Ch16.S7.SS5.p1" class="ltx_para">
<p class="ltx_p">For each base-clock partition, the base interval needs to be determined
and for each sub-clock partition, the sub-sampling factors and shift
need to be determined. For each sub-clock partition, the interval might
be rational or Real type and known or parametric or being unspecified.
The sub-clock partition intervals are constrained by subSample and
superSample factors which might be known (or parametric) or unspecified
and by shiftSample shiftCounter and resolution or backSample,
backCounter and resolution. This constraint set is used to solve for all
intervals and sub-sampling factors and shift of the sub-clock
partitions. The model is erroneous if no solution exist.</p>
</div>
<div id="Ch16.S7.SS5.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">It must be possible to determine that the constraint set is
valid at compile time. However, in certain cases, it could be possible
to defer providing actual numbers until run-time.</span> ]</p>
</div>
<div id="Ch16.S7.SS5.p3" class="ltx_para">
<p class="ltx_p">It is required that accumulated sub- and super sampling factors in the
range of 1 to 2<sup class="ltx_sup">63</sup> can be handled.</p>
</div>
<div id="Ch16.S7.SS5.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">64 bit internal representation of numerator and denominator
with sign can be used and gives
<br class="ltx_break">minimum resolution 1.08E-19 seconds and maximum range 9.22E+18 seconds =
2.92E+11 years.</span>]</p>
</div>
</section>
</section>
<section id="continuous-time-equations-in-clocked-partitions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.8 </span>Continuous-Time Equations in Clocked Partitions</h2>

<div id="Ch16.S8.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">The goal is that every continuous-time Modelica model can be
utilized in a sampled data control system. This is achieved by solving
the continuous-time equations with a defined integration method between
clock ticks. With this feature, it is for example possible to invert the
nonlinear dynamic model of a plant, see (Thümmel et.al. 2005), and use
it in a feedforward path of an advanced control system that is
associated with a clock.</span></p>
</div>
<div id="Ch16.S8.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">This feature also allows to define multi-rate systems: Different
parts of the continuous-time model are associated to different clocks
and are solved with different integration methods between clock ticks,
e.g., a very fast sub-system with an implicit solver with a small
step-size and a slow sub-system with an explicit solver with a large
step-size.</span>]</p>
</div>
<div id="Ch16.S8.p3" class="ltx_para">
<p class="ltx_p">With the language elements defined in this section, continuous-time
equations can be used in clocked partitions. Hereby, the continuous-time
equations are solved with the defined integration method between clock
ticks.</p>
</div>
<div id="Ch16.S8.p4" class="ltx_para">
<p class="ltx_p">From the <span class="ltx_text ltx_font_bold">view of the continuous-time partition</span>, the clock ticks
are not interpreted as events, but as step-sizes of the integrator that
the integrator must exactly hit. [<span class="ltx_text ltx_emph ltx_font_italic">This is the same assumption as
for manually discretized controllers, such as the z-transform.</span>] So no
event handling is triggered at clock ticks (provided an explicit event
is not triggered from the model at this time instant). [<span class="ltx_text ltx_emph ltx_font_italic">It is
not defined, how events are handled that appear when solving the
continuous-time partition. For example, a tool could handle events
exactly in the same way as for a usual simulation. Alternatively,
relations might be interpreted literally, so that events are no longer
triggered (in order that the time for an integration step is always the
same, as needed for hard real-time requirements).</span>]</p>
</div>
<div id="Ch16.S8.p5" class="ltx_para">
<p class="ltx_p">From the <span class="ltx_text ltx_font_bold">view of the clocked partition</span>, the continuous-time
partition is discretized and the discretized continuous-time variables
have only a value at a clock tick. Therefore, such a partition is
handled in the same way as any other clocked partition. Especially,
operators such as <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;background-color:#FFFFFF;">sample</span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">hold</span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">subSample</span> must be used to communicate
signals of the discretized continuous-time partition with other
partitions. Hereby, a discretized continuous-time partition is seen as a
clocked partition.</p>
</div>
<section id="clocked-discrete-time-and-clocked-discretized-continuous-time-partition" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.8.1 </span>Clocked Discrete-Time and Clocked Discretized Continuous-Time Partition</h3>

<div id="Ch16.S8.SS1.p1" class="ltx_para">
<p class="ltx_p">Additionally to the variability of expressions defined in <a href="Ch3.html#variability-of-expressions" title="3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.8</span></a>,
an orthogonal concept “clocked variability” is defined in this
section. If not explicitly stated otherwise, an expression with a
variability such as “continuous-time” or “discrete-time” means that
the expression is inside a partition that is not associated to a clock.
If an expression is present in a partition that is not a continuous-time
partition, it is a “<span class="ltx_text ltx_font_bold">clocked expression</span>” and has
“<span class="ltx_text ltx_font_bold">clocked variability</span>”.</p>
</div>
<div id="Ch16.S8.SS1.p2" class="ltx_para">
<p class="ltx_p">After sub-clock inferencing, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.5</span></a>, every partition that is
associated to a clock has to be categorized as “<span class="ltx_text ltx_font_bold">clocked
discrete-time</span>” or “<span class="ltx_text ltx_font_bold">clocked discretized continuous-time</span>”
partition.</p>
</div>
<div id="Ch16.S8.SS1.p3" class="ltx_para">
<p class="ltx_p">If a clocked partition contains no operator <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;background-color:#FFFFFF;">der</span>,
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;background-color:#FFFFFF;">delay</span>, <span class="ltx_text ltx_font_bold">spatialDistribution</span>, no event related operators
from <a href="Ch3.html#event-related-operators-with-function-syntax" title="3.7.3 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.7.3</span></a> (with exception of <span class="ltx_text ltx_font_bold">noEvent</span>(..)), and no
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;background-color:#FFFFFF;">when</span>-clause with a Boolean condition, it is a “<span class="ltx_text ltx_font_bold">clocked
discrete-time</span>” partition [<span class="ltx_text ltx_emph ltx_font_italic">that is, it is a standard sampled
data system that is described by difference equations.</span>]</p>
</div>
<div id="Ch16.S8.SS1.p4" class="ltx_para">
<p class="ltx_p">If a clocked partition is not a “clocked discrete-time” partition, it
is a “<span class="ltx_text ltx_font_bold">clocked discretized continuous-time</span>” partition. Such a
partition has to be solved with a “solver method” of <a href="#solver-methods" title="16.8.2 Solver Methods ‣ 16.8 Continuous-Time Equations in Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.8.2</span></a>.
When <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span> is used on a continuous-time state variable <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">x</span>, then
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span> uses the start value of <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">x</span> as value for the first clock tick.</p>
</div>
<div id="Ch16.S8.SS1.p5" class="ltx_para">
<p class="ltx_p">In a clocked discrete-time partition all event generating mechanisms do
no longer apply. Especially neither relations, nor one of the built-in
operators of <a href="Ch3.html#event-triggering-mathematical-functions" title="3.7.1.1 Event Triggering Mathematical Functions ‣ 3.7.1 Numeric Functions and Conversion Functions ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3.7.1.1</span></a> (event triggering mathematical functions)
will trigger an event.</p>
</div>
</section>
<section id="solver-methods" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.8.2 </span>Solver Methods</h3>

<div id="Ch16.S8.SS2.p1" class="ltx_para">
<p class="ltx_p">The integration method associated with a clocked discretized
continuous-time partition is defined with a string. A predefined type
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">ModelicaServices.Types.SolverMethod</span> defines the methods supported by the
respective tool by using the choices annotation. [<span class="ltx_text ltx_emph ltx_font_italic">The
ModelicaServices package contains tool specific definitions. A string is
used instead of an enumeration, since different tools might have
different values and then the integer mapping of an enumeration is
misleading since the same value might characterize different
integrators.</span>] The following names of solver methods are standardized:</p>
</div>
<div id="Ch16.S8.SS2.p2" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dHlwZSBTb2x2ZXJNZXRob2QgPSBTdHJpbmcgYW5ub3RhdGlvbihjaG9pY2VzKAogIGNob2ljZT0iRXh0ZXJuYWwiICJTb2x2ZXIgc3BlY2lmaWVkIGV4dGVybmFsbHkiLAogIGNob2ljZT0iRXhwbGljaXRFdWxlciIgIkV4cGxpY2l0IEV1bGVyIG1ldGhvZCAob3JkZXIgMSkiLAogIGNob2ljZT0iRXhwbGljaXRNaWRQb2ludDIiICJFeHBsaWNpdCBtaWQgcG9pbnQgcnVsZSAob3JkZXIgMikiLAogIGNob2ljZT0iRXhwbGljaXRSdW5nZUt1dHRhNCIgIkV4cGxpY2l0IFJ1bmdlLUt1dHRhIG1ldGhvZCAob3JkZXIgNCkiLAogIGNob2ljZT0iSW1wbGljaXRFdWxlciIgIkltcGxpY2l0IEV1bGVyIG1ldGhvZCAob3JkZXIgMSkiLAogIGNob2ljZT0iSW1wbGljaXRUcmFwZXpvaWQiICJJbXBsaWNpdCB0cmFwZXpvaWQgcnVsZSAob3JkZXIgMikiCikpICJUeXBlIG9mIGludGVncmF0aW9uIG1ldGhvZCB0byBzb2x2ZSBkaWZmZXJlbnRpYWwgZXF1YXRpb25zIGluIGEgY2xvY2tlZCBkaXNjcmV0aXplZCIKICAgKyJjb250aW51b3VzLXRpbWUgcGFydGl0aW9uLiI=">⬇</a></div>
<div id="lstnumberx3590" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">type</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">SolverMethod</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">String</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">annotation</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">choices</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span>
</div>
<div id="lstnumberx3591" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">choice</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"External"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Solver<span class="ltx_text ltx_lst_space"> </span>specified<span class="ltx_text ltx_lst_space"> </span>externally"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span>
</div>
<div id="lstnumberx3592" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">choice</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ExplicitEuler"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Explicit<span class="ltx_text ltx_lst_space"> </span>Euler<span class="ltx_text ltx_lst_space"> </span>method<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>1)"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span>
</div>
<div id="lstnumberx3593" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">choice</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ExplicitMidPoint2"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Explicit<span class="ltx_text ltx_lst_space"> </span>mid<span class="ltx_text ltx_lst_space"> </span>point<span class="ltx_text ltx_lst_space"> </span>rule<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>2)"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span>
</div>
<div id="lstnumberx3594" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">choice</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ExplicitRungeKutta4"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Explicit<span class="ltx_text ltx_lst_space"> </span>Runge-Kutta<span class="ltx_text ltx_lst_space"> </span>method<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>4)"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span>
</div>
<div id="lstnumberx3595" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">choice</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ImplicitEuler"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Implicit<span class="ltx_text ltx_lst_space"> </span>Euler<span class="ltx_text ltx_lst_space"> </span>method<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>1)"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span>
</div>
<div id="lstnumberx3596" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">choice</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ImplicitTrapezoid"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Implicit<span class="ltx_text ltx_lst_space"> </span>trapezoid<span class="ltx_text ltx_lst_space"> </span>rule<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>2)"</span>
</div>
<div id="lstnumberx3597" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter" style="font-size:90%;">))</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Type<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>integration<span class="ltx_text ltx_lst_space"> </span>method<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>solve<span class="ltx_text ltx_lst_space"> </span>differential<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>clocked<span class="ltx_text ltx_lst_space"> </span>discretized"</span>
</div>
<div id="lstnumberx3598" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"continuous-time<span class="ltx_text ltx_lst_space"> </span>partition."</span>
</div>
</div>
</div>
<div id="Ch16.S8.SS2.p3" class="ltx_para">
<p class="ltx_p">If a tool supports one of the integrators of SolverMethod, it must use
the solver method name of above. [<span class="ltx_text ltx_emph ltx_font_italic">A tool may support also other
integrators. Typically, a tool supports at least methods “External”
and “ExplicitEuler”. If a tool does not support the integration method
defined in a model, typically a warning message is printed and the
method is changed to “External”.</span>]</p>
</div>
<div id="Ch16.S8.SS2.p4" class="ltx_para">
<p class="ltx_p">If the solver method is <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;background-color:#FFFFFF;">"External"</span>, then the partition associated with
this method is integrated by the simulation environment for an interval
of length of <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">interval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">()</span></span> using a solution method defined in the
simulation environment [<span class="ltx_text ltx_emph ltx_font_italic">(for example by having a table of the
clocks that are associated with discretized continuous-time partitions
and a method selection per clock). In such a case, the solution method
might be a variable step solver with step-size control that integrates
between two clock ticks. The simulation environment might also combine
all partitions associated with method ”<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold ltx_font_upright" style="font-size:90%;color:#000066;background-color:#FFFFFF;">External</span>”, as well as all
continuous-time partitions, and integrate them together with the solver
selected by the simulation environment.</span>]</p>
</div>
<div id="Ch16.S8.SS2.p5" class="ltx_para">
<p class="ltx_p">If the solver method is <span class="ltx_text ltx_font_bold">not</span> <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;background-color:#FFFFFF;">"External"</span>, then the partition is
integrated using the given method with the step-size <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">interval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">()</span></span>.
[<span class="ltx_text ltx_emph ltx_font_italic">For a periodic clock, the integration is thus performed with
fixed step size.</span>]</p>
</div>
<div id="Ch16.S8.SS2.p6" class="ltx_para">
<p class="ltx_p">The solvers are defined with respect to the underlying ordinary
differential equation in state space form to which the continuous-time
partition can be transformed, at least conceptually (<span class="ltx_text ltx_emph ltx_font_italic">t</span> is time,
<span class="ltx_text ltx_font_bold">u<sub class="ltx_sub"><span class="ltx_text ltx_font_medium">c</span></sub></span>(<span class="ltx_text ltx_emph ltx_font_italic">t</span>) is the continuous-time Real vector
of input variables, <span class="ltx_text ltx_font_bold">u<sub class="ltx_sub"><span class="ltx_text ltx_font_medium">d</span></sub></span>(<span class="ltx_text ltx_emph ltx_font_italic">t</span>) is the
discrete-time Real/Integer/Boolean/String vector of input variables,
<span class="ltx_text ltx_font_bold">x</span>(<span class="ltx_text ltx_emph ltx_font_italic">t</span>) is the continuous-time real vector of states, and
<span class="ltx_text ltx_font_bold">y</span>(<span class="ltx_text ltx_emph ltx_font_italic">t</span>) is the continuous-time or discrete-time
Real/Integer/Boolean/String vector of algebraic and/or output
variables):</p>
<table id="A6.S0.EGx4" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tr id="Ch16.Ex2" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ch16.Ex2.m1" class="ltx_Math" alttext="\displaystyle\dot{x}" display="inline"><mover accent="true"><mi>x</mi><mo>˙</mo></mover></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="Ch16.Ex2.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><mo>=</mo></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ch16.Ex2.m3" class="ltx_Math" alttext="\displaystyle f(x,u,t)" display="inline"><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>u</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr id="Ch16.Ex3" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ch16.Ex3.m1" class="ltx_Math" alttext="\displaystyle y" display="inline"><mi>y</mi></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="Ch16.Ex3.m2" class="ltx_Math" alttext="\displaystyle=" display="inline"><mo>=</mo></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ch16.Ex3.m3" class="ltx_Math" alttext="\displaystyle g(x,u,t)" display="inline"><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>u</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</table>
<p class="ltx_p">A solver method is applied on a subclock partition. Such a partition has
explicit inputs <span class="ltx_text ltx_font_bold">u</span> marked by <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>,
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>
and/or <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">backSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>. Furthermore, the outputs <span class="ltx_text ltx_font_bold">y</span> of
such a partition are marked by <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">hold</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">y</span>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">y</span>)</span></span>,
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">y</span>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">shiftSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">y</span>)</span></span>, and/or
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">backSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">y</span>)</span></span>. The arguments of these operators are to be used
as input signals <span class="ltx_text ltx_font_bold">u</span> and output signals <span class="ltx_text ltx_font_bold">y</span> in the
conceptual ordinary differential equation above, and in the
discretization formulae below, respectively.</p>
</div>
<div id="Ch16.S8.SS2.p7" class="ltx_para">
<p class="ltx_p">The solver methods (with exception of ”<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;background-color:#FFFFFF;">External</span>”) are defined by
integrating from clock tick <span class="ltx_text ltx_emph ltx_font_italic">t<sub class="ltx_sub"><span class="ltx_text ltx_font_upright">i-1</span></sub></span> to clock tick
<span class="ltx_text ltx_emph ltx_font_italic">t<sub class="ltx_sub"><span class="ltx_text ltx_font_upright">i</span></sub></span> and computing the desired variables at
<span class="ltx_text ltx_emph ltx_font_italic">t<sub class="ltx_sub"><span class="ltx_text ltx_font_upright">i</span></sub></span>, with <span class="ltx_text ltx_emph ltx_font_italic">h</span> = <span class="ltx_text ltx_emph ltx_font_italic">t<sub class="ltx_sub"><span class="ltx_text ltx_font_upright">i</span></sub></span> –
<span class="ltx_text ltx_emph ltx_font_italic">t<sub class="ltx_sub"><span class="ltx_text ltx_font_upright">i-1</span></sub></span> = <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">interval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span> and
<span class="ltx_text ltx_emph ltx_font_bold">x<sub class="ltx_sub"><span class="ltx_text ltx_font_medium ltx_font_italic">i</span></sub></span> =
<span class="ltx_text ltx_font_bold">x</span>(<span class="ltx_text ltx_emph ltx_font_italic">t<sub class="ltx_sub">i</sub></span>):</p>
</div>
<figure id="Ch16.T6" class="ltx_table">
<table class="ltx_tabular">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_justify ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;"><span class="ltx_text ltx_emph ltx_wrap ltx_font_italic">SolverMethod</span></th>
<th class="ltx_td ltx_align_justify ltx_th ltx_th_column ltx_border_r ltx_border_t" style="width:313.0pt;">
<span class="ltx_text ltx_emph ltx_font_italic">Solution method</span>
(for all methods: <math id="Ch16.T6.m1" class="ltx_Math" alttext="y_{i}=g(x_{i},u_{c,i},u_{d,i},t_{i})" display="inline"><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></math>)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">ExplicitEuler</span></td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:313.0pt;"><math id="Ch16.T6.m2" class="ltx_Math" alttext="\begin{aligned} \displaystyle x_{i}&amp;\displaystyle:=x_{i-1}+h\cdot\dot{x}_{i-1}%
\\
\displaystyle\dot{x}_{i}&amp;\displaystyle:=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mi>h</mi><mo>⋅</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">ExplicitMidPoint2</span></td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:313.0pt;"><math id="Ch16.T6.m3" class="ltx_Math" alttext="\begin{aligned} \displaystyle x_{i}&amp;\displaystyle:=x_{i-1}+h\cdot f(x_{i-1}+%
\frac{1}{2}\cdot h\cdot\dot{x}_{i-1},\frac{u_{c,i-1}+u_{c,i}}{2},u_{d,i-1},t_{%
i-1}+\tfrac{1}{2}\cdot h)\\
\displaystyle\dot{x}_{i}&amp;\displaystyle:=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mrow><mi>h</mi><mo>⋅</mo><mi>f</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo>⋅</mo><mi>h</mi><mo>⋅</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></mrow><mo>,</mo><mstyle displaystyle="true"><mfrac><mrow><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>+</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub></mrow><mn>2</mn></mfrac></mstyle><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>,</mo><mrow><msub><mi>t</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⋅</mo><mi>h</mi></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">ExplicitRungeKutta4</span></td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:313.0pt;"><math id="Ch16.T6.m4" class="ltx_Math" alttext="\begin{aligned} \displaystyle k_{1}&amp;\displaystyle:=h\cdot\dot{x}_{i-1}\\
\displaystyle k_{2}&amp;\displaystyle:=h\cdot f(x_{i-1}+\tfrac{1}{2}k_{1},\frac{u_%
{c,i-1}+u_{c,i}}{2},u_{d,i-1},t_{i-1}+\tfrac{1}{2}\cdot h)\\
\displaystyle k_{3}&amp;\displaystyle:=h\cdot f(x_{i-1}+\tfrac{1}{2}k_{2},\frac{u_%
{c,i-1}+u_{c,i}}{2},u_{d,i-1},t_{i-1}+\tfrac{1}{2}\cdot h)\\
\displaystyle k_{4}&amp;\displaystyle:=h\cdot f(x_{i-1}+k_{3},u_{c,i},u_{d,i},t_{i%
})\\
\displaystyle x_{i}&amp;\displaystyle:=x_{i-1}+\tfrac{1}{6}\cdot(k_{1}+2\cdot k_{2%
}+2\cdot k_{3}+k_{4})\\
\displaystyle\dot{x}_{i}&amp;\displaystyle:=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>k</mi><mn>1</mn></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mi>h</mi><mo>⋅</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mi>k</mi><mn>2</mn></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mrow><mi>h</mi><mo>⋅</mo><mi>f</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⁢</mo><msub><mi>k</mi><mn>1</mn></msub></mrow></mrow><mo>,</mo><mstyle displaystyle="true"><mfrac><mrow><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>+</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub></mrow><mn>2</mn></mfrac></mstyle><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>,</mo><mrow><msub><mi>t</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⋅</mo><mi>h</mi></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mi>k</mi><mn>3</mn></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mrow><mi>h</mi><mo>⋅</mo><mi>f</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⁢</mo><msub><mi>k</mi><mn>2</mn></msub></mrow></mrow><mo>,</mo><mstyle displaystyle="true"><mfrac><mrow><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>+</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub></mrow><mn>2</mn></mfrac></mstyle><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>,</mo><mrow><msub><mi>t</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⋅</mo><mi>h</mi></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mi>k</mi><mn>4</mn></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mrow><mi>h</mi><mo>⋅</mo><mi>f</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>k</mi><mn>3</mn></msub></mrow><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>6</mn></mfrac><mo>⋅</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>k</mi><mn>1</mn></msub><mo>+</mo><mrow><mn>2</mn><mo>⋅</mo><msub><mi>k</mi><mn>2</mn></msub></mrow><mo>+</mo><mrow><mn>2</mn><mo>⋅</mo><msub><mi>k</mi><mn>3</mn></msub></mrow><mo>+</mo><msub><mi>k</mi><mn>4</mn></msub></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">ImplicitEuler</span></td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:313.0pt;"><math id="Ch16.T6.m5" class="ltx_Math" alttext="\begin{aligned} \displaystyle x_{i}&amp;\displaystyle=x_{i-1}+h\cdot\dot{x}_{i}%
\textrm{// equations system with unknowns:}x_{i},\dot{x}_{i}\\
\displaystyle\dot{x}_{i}&amp;\displaystyle=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>=</mo><mrow><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mrow><mi>h</mi><mo>⋅</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mrow><mo>⁢</mo><mtext>// equations system with unknowns:</mtext><mo>⁢</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></mrow><mo>,</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_l ltx_border_r ltx_border_t" style="width:99.6pt;"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">ImplicitTrapezoid</span></td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:313.0pt;"><math id="Ch16.T6.m6" class="ltx_Math" alttext="\begin{aligned} \displaystyle x_{i}&amp;\displaystyle=x_{i-1}+\tfrac{1}{2}h\cdot(%
\dot{x}_{i}+\dot{x}_{i-1})\textrm{// equations system with unknowns:}x_{i},%
\dot{x}_{i}\\
\displaystyle\dot{x}_{i}&amp;\displaystyle=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>=</mo><mrow><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mrow><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⁢</mo><mi>h</mi></mrow><mo>⋅</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub><mo>+</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow><mo stretchy="false">)</mo></mrow></mrow><mo>⁢</mo><mtext>// equations system with unknowns:</mtext><mo>⁢</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></mrow><mo>,</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
</tbody>
</table>
</figure>
<div id="Ch16.S8.SS2.p8" class="ltx_para">
<p class="ltx_p">The initial conditions will be used at the first tick of the clock, and
the first integration step will go from the first to the second tick of
the clock.</p>
</div>
<div id="Ch16.S8.SS2.p9" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">Example:</span>
<span class="ltx_text ltx_emph ltx_font_italic">Assume the differential equation</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBpbnB1dCBSZWFsIHU7CiAgUmVhbCB4KHN0YXJ0PTEsIGZpeGVkPXRydWUpOwplcXVhdGlvbgogIGRlcih4KSA9IC14ICsgdQ==">⬇</a></div>
<div id="lstnumberx3599" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3600" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">fixed</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">true</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3601" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3602" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">shall be transformed to a clocked discretized continuous-time
partition with the ExplicitEuler method. The following model is a manual
implementation:</span></p>
</div>
<div id="Ch16.S8.SS2.p10" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBpbnB1dCBSZWFsIHU7CiAgcGFyYW1ldGVyIFJlYWwgeF9zdGFydCA9IDE7CiAgUmVhbCB4KHN0YXJ0PXhfc3RhcnQpOyAvLyBwcmV2aW91cyh4KSA9IHhfc3RhcnQgYXQgZmlyc3QgY2xvY2sgdGljawogIFJlYWwgZGVyX3goc3RhcnQ9MCk7IC8vIHByZXZpb3VzKGRlcl94KSA9IDAgYXQgZmlyc3QgY2xvY2sgdGljawpwcm90ZWN0ZWQKICBCb29sZWFuIGZpcnN0KHN0YXJ0PXRydWUpOwplcXVhdGlvbgogIHdoZW4gQ2xvY2soKSB0aGVuCiAgICBmaXJzdCA9IGZhbHNlOwogICAgaWYgcHJldmlvdXMoZmlyc3QpIHRoZW4KICAgICAgLy8gZmlyc3QgY2xvY2sgdGljayAoaW5pdGlhbGl6ZSBzeXN0ZW0pCiAgICAgIHggPSBwcmV2aW91cyAoeCk7CiAgICBlbHNlCiAgICAgIC8vIHNlY29uZCBhbmQgZnVydGhlciBjbG9jayB0aWNrCiAgICAgIHggPSBwcmV2aW91cyAoeCkgKwogICAgICBpbnRlcnZhbCgpKnByZXZpb3VzKGRlcl94KTsKICAgIGVuZCBpZjsKICAgIGRlcl94ID0gLXggKyB1OwogIGVuZCB3aGVuOw==">⬇</a></div>
<div id="lstnumberx3603" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3604" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x_start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
<div id="lstnumberx3605" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x_start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>previous(x)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>x_start<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick</span>
</div>
<div id="lstnumberx3606" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">der_x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>previous(der_x)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick</span>
</div>
<div id="lstnumberx3607" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">protected</span>
</div>
<div id="lstnumberx3608" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">first</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">true</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3609" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3610" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3611" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">first</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">false</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3612" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">first</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3613" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">      </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick<span class="ltx_text ltx_lst_space"> </span>(initialize<span class="ltx_text ltx_lst_space"> </span>system)</span>
</div>
<div id="lstnumberx3614" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3615" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">else</span>
</div>
<div id="lstnumberx3616" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">      </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>second<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>further<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick</span>
</div>
<div id="lstnumberx3617" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span>
</div>
<div id="lstnumberx3618" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">interval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">()*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">der_x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3619" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">if</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3620" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">der_x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3621" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="Ch16.S8.SS2.p11" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">For the implicit integration methods the efficiency can be
enhanced by utilizing the discretization formula during the symbolic
transformation of the equations. For example, linear differential
equations are then mapped to linear and not non-linear algebraic
equation systems, and also the structure of the equations can be
utilized. For details see (Elmqvist et. al. 1995). It might be necessary
to associate additional data for an implicit integration method, e.g.
the relative tolerance to solve the non-linear algebraic equation
systems, or the maximum number of iterations in case of hard realtime
requirements. This data is tool specific and is typically either defined
with a vendor annotation or is given in the simulation environment.</span>]</p>
</div>
</section>
<section id="associating-a-solver-to-a-partition" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.8.3 </span>Associating a Solver to a Partition</h3>

<div id="Ch16.S8.SS3.p1" class="ltx_para">
<p class="ltx_p">A <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">solverMethod</span> can be associated to a clock with the overloaded Clock
constructor Clock(c, solverMethod), see <a href="#clock-constructors" title="16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.3</span></a>. If a clock is
associated with a clocked partition and a <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;background-color:#FFFFFF;">solverMethod</span> is associated
with this clock, then the partition is integrated with it.</p>
</div>
<div id="Ch16.S8.SS3.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICAvLyBDb250aW51b3VzIFBJIGNvbnRyb2xsZXIgaW4gYSBjbG9ja2VkIHBhcnRpdGlvbgogIHZkID0gc2FtcGxlKHgyLCBDbG9jayhDbG9jaygxLDEwKSxzb2x2ZXJNZXRob2Q9IkltcGxpY2l0RXVsZXIiKSk7CiAgZSA9IHJlZi12ZDsKICBkZXIoeGQpID0gZS9UaTsKICB1ID0gayooZSArIHhkKTsKCiAgLy8gUGh5c2ljYWwgbW9kZWwKICBmID0gaG9sZCh1KTsKICBkZXIoeDEpID0geDI7CiAgbSpkZXIoeDIpID0gZjs=">⬇</a></div>
<div id="lstnumberx3622" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>clocked<span class="ltx_text ltx_lst_space"> </span>partition</span>
</div>
<div id="lstnumberx3623" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">vd</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(1,10),</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverMethod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ImplicitEuler"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">));</span>
</div>
<div id="lstnumberx3624" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">e</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ref</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">vd</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3625" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xd</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">e</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Ti</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3626" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">k</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">e</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xd</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3627" class="ltx_listingline">
</div>
<div id="lstnumberx3628" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Physical<span class="ltx_text ltx_lst_space"> </span>model</span>
</div>
<div id="lstnumberx3629" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">hold</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3630" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3631" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">m</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">f</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="inferencing-of-solvermethod" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.8.4 </span>Inferencing of solverMethod</h3>

<div id="Ch16.S8.SS4.p1" class="ltx_para">
<p class="ltx_p">If a solverMethod is not explicitly associated with a partition, it is
inferred with a similar mechanism as for sub-clock inferencing, see
<a href="#sub-clock-inferencing" title="16.7.5 Sub-clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7.5</span></a>. The inferencing mechanism is defined using the operator
“solverExplicitlyDefined(c)” which returns <span class="ltx_text ltx_font_bold">true</span>, if a
solverMethod is explicitly associated with clock c and returns
<span class="ltx_text ltx_font_bold">false</span> otherwise.</p>
</div>
<div id="Ch16.S8.SS4.p2" class="ltx_para">
<p class="ltx_p">For every partitioning operator of <a href="#partitioning-operators" title="16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.5</span></a>, two clocks c1 and c2
are defined for the input and the output argument of the operator,
respectively. Furthermore, for every equality and assignment of clocks,
c1 = c2 or c1 := c2, two clocks are defined as well. In all these cases,
the following statements are implicitly introduced:</p>
</div>
<div id="Ch16.S8.SS4.p3" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,aWYgc29sdmVyRXhwbGljaXRseURlZmluZWQoYzEpIGFuZCBzb2x2ZXJFeHBsaWNpdGx5RGVmaW5lZChjMikgdGhlbgogIC8vIG8uay4gKG5vIGFjdGlvbikKZWxzZWlmIG5vdCBzb2x2ZXJFeHBsaWNpdGx5RGVmaW5lZChjMSkgYW5kIG5vdCBzb2x2ZXJFeHBsaWNpdGx5RGVmaW5lZChjMikgdGhlbgogIGFzc2VydChjMS5zb2x2ZXJNZXRob2QgPT0gYzIuc29sdmVyTWV0aG9kKTsKZWxzZWlmIHNvbHZlckV4cGxpY2l0bHlEZWZpbmVkKGMxKSA8PnNvbHZlckV4cGxpY2l0bHlEZWZpbmVkKGMyKSB0aGVuCiAgYzEuc29sdmVyTWV0aG9kID0gYzIuc29sdmVyTWV0aG9kCmVuZCBpZjs=">⬇</a></div>
<div id="lstnumberx3632" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverExplicitlyDefined</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverExplicitlyDefined</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3633" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>o.k.<span class="ltx_text ltx_lst_space"> </span>(no<span class="ltx_text ltx_lst_space"> </span>action)</span>
</div>
<div id="lstnumberx3634" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverExplicitlyDefined</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverExplicitlyDefined</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3635" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">assert</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1.solverMethod</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c2.solverMethod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3636" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverExplicitlyDefined</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&lt;&gt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverExplicitlyDefined</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3637" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c1.solverMethod</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c2.solverMethod</span>
</div>
<div id="lstnumberx3638" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">if</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
</div>
<div id="Ch16.S8.SS4.p4" class="ltx_para">
<p class="ltx_p">The introduced set of, potentially underdetermined or overdetermined
constraints has to be solved. If no solution exists or if a solution is
contradictory on some clocks that are associated with clocked
discrete-time partitions, then this is ignored, since no solverMethod is
needed for such partitions.</p>
</div>
<div id="Ch16.S8.SS4.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_emph ltx_font_italic">Example:</span>
</p>
</div>
<div id="Ch16.S8.SS4.p6" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgSW5mZXJlbmNlVGVzdCAiU3BlY2lmaWMgY2xvY2tzIHNldCBvbiBhbGwgcGFydGl0aW9ucy4gRGVjb3VwbGUgY29uc3RyYWludCIKICAuLi4KZXF1YXRpb24KICAvLyBQaHlzaWNhbCBtb2RlbAogIGRlcih4MSkgPSAtMTAwKngxICsgaG9sZCh6Mik7CiAgLy8gQ29udHJvbGxlciBzdWJtb2RlbHMKICBkZXIoejEpID0gLTEwMCp6MSArIHNhbXBsZSh4MiwKICBDbG9jayhDbG9jaygxLCAxMDApLCBzb2x2ZXJNZXRob2Q9IkltcGxpY2l0RXVsZXIiKSk7CiAgdyA9IDAuOSpwcmV2aW91cyAodykgKyBzdXBlclNhbXBsZSh6MSwgMyk7CiAgd2hlbiBDbG9jayhDbG9jaygxLDIwKSwKICAgIHNvbHZlck1ldGhvZD0iRXhwbGljaXRFdWxlciIpIHRoZW4KICAgIHd3ID0gc3VwZXJTYW1wbGUgKHcpOwogIGVuZCB3aGVuCiAgZGVyKHoyKSA9IC16MiArIHd3OwplbmQgSW5mZXJlbmNlVGVzdDs=">⬇</a></div>
<div id="lstnumberx3639" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">InferenceTest</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Specific<span class="ltx_text ltx_lst_space"> </span>clocks<span class="ltx_text ltx_lst_space"> </span>set<span class="ltx_text ltx_lst_space"> </span>on<span class="ltx_text ltx_lst_space"> </span>all<span class="ltx_text ltx_lst_space"> </span>partitions.<span class="ltx_text ltx_lst_space"> </span>Decouple<span class="ltx_text ltx_lst_space"> </span>constraint"</span>
</div>
<div id="lstnumberx3640" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">...</span>
</div>
<div id="lstnumberx3641" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3642" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Physical<span class="ltx_text ltx_lst_space"> </span>model</span>
</div>
<div id="lstnumberx3643" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-100*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">hold</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3644" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Controller<span class="ltx_text ltx_lst_space"> </span>submodels</span>
</div>
<div id="lstnumberx3645" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-100*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span>
</div>
<div id="lstnumberx3646" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">100),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverMethod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ImplicitEuler"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">));</span>
</div>
<div id="lstnumberx3647" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">w</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">.9</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">w</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">3);</span>
</div>
<div id="lstnumberx3648" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(1,20),</span>
</div>
<div id="lstnumberx3649" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverMethod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ExplicitEuler"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3650" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ww</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">w</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3651" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span>
</div>
<div id="lstnumberx3652" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z2</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ww</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3653" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">InferenceTest</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
<section id="initialization-of-clocked-partitions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.9 </span>Initialization of Clocked Partitions</h2>

<div id="Ch16.S9.p1" class="ltx_para">
<p class="ltx_p">The standard scheme for initialization of Modelica models does not apply
for clocked discrete-time partitions. Instead, initialization is
performed in the following way:
</p>
</div>
<div id="Ch16.S9.p2" class="ltx_para">
<ul id="Ch16.S9.I1" class="ltx_itemize">
<li id="Ch16.S9.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S9.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Clocked discrete-time variables cannot be used in initial equation or
initial algorithm sections.</p>
</div>
</li>
<li id="Ch16.S9.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="Ch16.S9.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Attribute “fixed” cannot be applied on clocked discrete-time
variables. The attribute “fixed” is true for variables to which the
<span class="ltx_text ltx_font_bold">previous</span> operator is applied, otherwise false.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="other-operators" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.10 </span>Other Operators</h2>

<div id="Ch16.S10.p1" class="ltx_para">
<p class="ltx_p">The following additional utility operators are provided:</p>
</div>
<figure id="Ch16.T7" class="ltx_table">
<table class="ltx_tabular">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">
<span class="ltx_text ltx_font_bold">firstTick</span>(u)</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" style="width:341.4pt;">This operator returns true at the first tick of the clock of the
expression, in which this operator is called. The operator returns false
at all subsequent ticks of the clock. The optional argument u is only
used for clock inference, see <a href="#clock-partitioning" title="16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7</span></a>.</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t">
<span class="ltx_text ltx_font_bold">interval</span>(u)</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" style="width:341.4pt;">This operator returns the interval between the previous and present tick
of the clock of the expression, in which this operator is called. The
optional argument u is only used for clock inference, see <a href="#clock-partitioning" title="16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 16.7</span></a>.
At the first tick of the clock the following is returned: a) if the
specified clock interval is parametric, this value is returned; b)
otherwise the start value of the variable specifying the interval is
returned; c) for an event clock the additional startInterval argument to
the event clock constructor is returned. The return value of the
interval operator is a scalar Real number.</td>
</tr>
</table>
</figure>
<div id="Ch16.S10.p2" class="ltx_para">
<p class="ltx_p">It is an error if these operators are called in the continuous-time
partition.</p>
</div>
<div id="Ch16.S10.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">[Example:</span></p>
</div>
<div id="Ch16.S10.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">A discrete PI controller is parameterized with the parameters of a
continuous PI controller, in order that the discrete block is robust
against changes in the sample period. This is achieved by discretizing a
continuous PI controller (here with an implicit Euler method):</span></p>
</div>
<div id="Ch16.S10.p5" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YmxvY2sgQ2xvY2tlZFBJCiAgcGFyYW1ldGVyIFJlYWwgVCAiVGltZSBjb25zdGFudCBvZiBjb250aW51b3VzIFBJIGNvbnRyb2xsZXIiOwogIHBhcmFtZXRlciBSZWFsIGsgIkdhaW4gb2YgY29udGludW91cyBQSSBjb250cm9sbGVyIjsKICBpbnB1dCBSZWFsIHU7CiAgb3V0cHV0IFJlYWwgeTsKICBSZWFsIHgoc3RhcnQ9MCk7CiAgcHJvdGVjdGVkCiAgUmVhbCBUcyA9IGludGVydmFsKHUpOwplcXVhdGlvbgogIC8qIENvbnRpbnVvdXMgUEkgZXF1YXRpb25zOiBkZXIoeCkgPSB1L1Q7IHkgPSBrKih4ICsgdSk7CiAgICAgRGlzY3JldGl6YXRpb24gZXF1YXRpb246IGRlcih4KSA9ICh4IC0gcHJldmlvdXMgKHgpKS9UczsKICAqLwogIHdoZW4gQ2xvY2soKSB0aGVuCiAgICB4ID0gcHJldmlvdXMgKHgpICsgVHMvVCp1OwogICAgeSA9IGsqKHggKyB1KTsKICBlbmQgd2hlbjsKZW5kIENsb2NrZWRQSTs=">⬇</a></div>
<div id="lstnumberx3654" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ClockedPI</span>
</div>
<div id="lstnumberx3655" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Time<span class="ltx_text ltx_lst_space"> </span>constant<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3656" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">k</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Gain<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3657" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3658" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3659" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0);</span>
</div>
<div id="lstnumberx3660" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">protected</span>
</div>
<div id="lstnumberx3661" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Ts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">interval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3662" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3663" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">/*<span class="ltx_text ltx_lst_space"> </span>Continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>equations:<span class="ltx_text ltx_lst_space"> </span>der(x)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>u/T;<span class="ltx_text ltx_lst_space"> </span>y<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>k*(x<span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span>u);</span>
</div>
<div id="lstnumberx3664" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_sansserif" style="font-size:90%;color:#006600;">     </span><span class="ltx_text ltx_font_sansserif" style="font-size:90%;color:#006600;">Discretization</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="font-size:90%;color:#006600;"> </span><span class="ltx_text ltx_font_sansserif" style="font-size:90%;color:#006600;">equation:</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="font-size:90%;color:#006600;"> </span><span class="ltx_text ltx_font_sansserif" style="font-size:90%;color:#006600;">der(x)</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="font-size:90%;color:#006600;"> </span><span class="ltx_text ltx_font_sansserif" style="font-size:90%;color:#006600;">=</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="font-size:90%;color:#006600;"> </span><span class="ltx_text ltx_font_sansserif" style="font-size:90%;color:#006600;">(x</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="font-size:90%;color:#006600;"> </span><span class="ltx_text ltx_font_sansserif" style="font-size:90%;color:#006600;">-</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="font-size:90%;color:#006600;"> </span><span class="ltx_text ltx_font_sansserif" style="font-size:90%;color:#006600;">previous</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="font-size:90%;color:#006600;"> </span><span class="ltx_text ltx_font_sansserif" style="font-size:90%;color:#006600;">(x))/Ts;</span>
</div>
<div id="lstnumberx3665" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_sansserif" style="font-size:90%;color:#006600;">  </span><span class="ltx_text ltx_font_sansserif" style="font-size:90%;color:#006600;">*/</span>
</div>
<div id="lstnumberx3666" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3667" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Ts</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3668" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">k</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">u</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3669" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3670" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ClockedPI</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">A continuous-time model is inverted, discretized and used as
feedforward controller for a PI controller
<br class="ltx_break">(der(..), previous, interval are used in the same partition):</span></p>
</div>
<div id="Ch16.S10.p6" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YmxvY2sgTWl4ZWRDb250cm9sbGVyCiAgcGFyYW1ldGVyIFJlYWwgVCAiVGltZSBjb25zdGFudCBvZiBjb250aW51b3VzIFBJIGNvbnRyb2xsZXIiOwogIHBhcmFtZXRlciBSZWFsIGsgIkdhaW4gb2YgY29udGludW91cyBQSSBjb250cm9sbGVyIjsKICBpbnB1dCBSZWFsIHlfcmVmLCB5X21lYXM7CiAgUmVhbCB5OwogIG91dHB1dCBSZWFsIHljOwogIFJlYWwgeihzdGFydD0wKTsKICBSZWFsIHhjKHN0YXJ0PTEsIGZpeGVkPXRydWUpOwogIENsb2NrIGMgPSBDbG9jayhDbG9jaygwLjEpLCBzb2x2ZXJNZXRob2Q9IkltcGxpY2l0RXVsZXIiKTsKcHJvdGVjdGVkCiAgUmVhbCB1YzsKICBSZWFsIFRzID0gaW50ZXJ2YWwodWMpOwplcXVhdGlvbgogIC8qIENvbnRpbnVvdXMtdGltZSwgaW52ZXJzZSBtb2RlbCAqLwogIHVjID0gc2FtcGxlKHlfcmVmLCBjKTsKICBkZXIoeGMpID0gdWM7CiAgLyogUEkgY29udHJvbGxlciAqLwogIHogPSBpZiAgZmlyc3RUaWNrKCkgdGhlbiAwIGVsc2UKICBwcmV2aW91cyh6KSArIFRzL1QqKHVjIC0geV9tZWFzKTsKICB5ID0geGMgKyBrKih4YyArIHVjKTsKICB5YyA9IGhvbGQgKHkpOwplbmQgTWl4ZWRDb250cm9sbGVyOw==">⬇</a></div>
<div id="lstnumberx3671" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">MixedController</span>
</div>
<div id="lstnumberx3672" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Time<span class="ltx_text ltx_lst_space"> </span>constant<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3673" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">k</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"Gain<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3674" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y_ref</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y_meas</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3675" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3676" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3677" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0);</span>
</div>
<div id="lstnumberx3678" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">fixed</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">true</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3679" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">.1</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">solverMethod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:90%;color:#000000;">"ImplicitEuler"</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3680" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">protected</span>
</div>
<div id="lstnumberx3681" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">uc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3682" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Ts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">interval</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">uc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3683" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3684" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">/*<span class="ltx_text ltx_lst_space"> </span>Continuous-time,<span class="ltx_text ltx_lst_space"> </span>inverse<span class="ltx_text ltx_lst_space"> </span>model<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3685" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">uc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y_ref</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">c</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3686" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">der</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">uc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3687" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">/*<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx3688" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">firstTick</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">else</span>
</div>
<div id="lstnumberx3689" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">z</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Ts</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">T</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">uc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y_meas</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3690" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">k</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">*(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">xc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">uc</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3691" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">yc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">hold</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">y</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3692" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">MixedController</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">]</span></p>
</div>
</section>
<section id="semantics" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.11 </span>Semantics</h2>

<div id="Ch16.S11.p1" class="ltx_para">
<p class="ltx_p">The execution of sub partitions requires exact time management for
proper synchronization. The implication is that testing a Real valued
time variable to determine sampling instants is not possible. One
possible method is to use counters to handle sub-sampling scheduling.
</p>
</div>
<div id="Ch16.S11.p2" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2tfaV9qX3RpY2tzID0gaWYgcHJlKENsb2NrX2lfal90aWNrcyk8c3ViU2FtcGxpbmdGYWN0b3JfaV9qIHRoZW4gMStwcmUoQ2xvY2tfaV9qX3RpY2tzKSBlbHNlIDE7">⬇</a></div>
<div id="lstnumberx3693" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_i_j_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_i_j_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)&lt;</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSamplingFactor_i_j</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1+</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_i_j_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
</div>
</div>
<div id="Ch16.S11.p3" class="ltx_para">
<p class="ltx_p">and to test the counter to determine when the sub-clock is ticking:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2tfaV9qX2FjdGl2YXRlZCA9IEJhc2VDbG9ja19pX2FjdGl2YXRlZCBhbmQgQ2xvY2tfaV9qX3RpY2tzID49IHN1YlNhbXBsaW5nRmFjdG9yX2lfajs=">⬇</a></div>
<div id="lstnumberx3694" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_i_j_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">BaseClock_i_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_i_j_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSamplingFactor_i_j</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
<p class="ltx_p">The Clock_i_j_activated flag is used as the guard for the sub
partition equations.</p>
</div>
<div id="Ch16.S11.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">[ Consider the following example:</span></p>
</div>
<div id="Ch16.S11.p5" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgQ2xvY2tUaWNrcwogIEludGVnZXIgc2Vjb25kID0gc2FtcGxlKDEsIENsb2NrKDEpKTsKICBJbnRlZ2VyIHNlY29uZHMoc3RhcnQ9LTEpID0gbW9kKHByZXZpb3VzKHNlY29uZHMpICsgc2Vjb25kLCA2MCk7CiAgSW50ZWdlciBtaWxsaVNlY29uZHMoc3RhcnQ9LTEpPQogICAgICBtb2QocHJldmlvdXMobWlsbGlTZWNvbmRzKSArIHN1cGVyU2FtcGxlKHNlY29uZCwgMTAwMCksIDEwMDApOwogIEludGVnZXIgbWludXRlcyhzdGFydD0tMSk9CiAgICAgIG1vZChwcmV2aW91cyhtaW51dGVzKSArIHN1YlNhbXBsZShzZWNvbmQsIDYwKSwgNjApOwplbmQgQ2xvY2tUaWNrczs=">⬇</a></div>
<div id="lstnumberx3695" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ClockTicks</span>
</div>
<div id="lstnumberx3696" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">second</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(1));</span>
</div>
<div id="lstnumberx3697" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">seconds</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=-1)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">mod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">seconds</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">second</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">60);</span>
</div>
<div id="lstnumberx3698" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">milliSeconds</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=-1)=</span>
</div>
<div id="lstnumberx3699" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">mod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">milliSeconds</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">superSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">second</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1000),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1000);</span>
</div>
<div id="lstnumberx3700" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">minutes</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=-1)=</span>
</div>
<div id="lstnumberx3701" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">mod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">previous</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">minutes</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">subSample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">second</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">60),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">60);</span>
</div>
<div id="lstnumberx3702" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ClockTicks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
</div>
<div id="Ch16.S11.p6" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">A possible implementation model is shown below using Modelica 3.2
semantics. The base-clock is determined to 0.001 seconds and the
sub-sampling factors to 1000 and 60000.</span></p>
</div>
<div id="Ch16.S11.p7" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgQ2xvY2tUaWNrc1dpdGhNb2RlbGljYTMyCiAgIEludGVnZXIgc2Vjb25kOwogICBJbnRlZ2VyIHNlY29uZHMoc3RhcnQgPSAtMSk7CiAgIEludGVnZXIgbWlsbGlTZWNvbmRzKHN0YXJ0ID0gLTEpOwogICBJbnRlZ2VyIG1pbnV0ZXMoc3RhcnQgPSAtMSk7CgogICBCb29sZWFuIEJhc2VDbG9ja18xX2FjdGl2YXRlZDsKICAgSW50ZWdlciBDbG9ja18xXzFfdGlja3Moc3RhcnQ9NTk5OTkpOwogICBJbnRlZ2VyIENsb2NrXzFfMl90aWNrcyhzdGFydD0wKTsKICAgSW50ZWdlciBDbG9ja18xXzNfdGlja3Moc3RhcnQ9OTk5KTsKICAgQm9vbGVhbiBDbG9ja18xXzFfYWN0aXZhdGVkOwogICBCb29sZWFuIENsb2NrXzFfMl9hY3RpdmF0ZWQ7CiAgIEJvb2xlYW4gQ2xvY2tfMV8zX2FjdGl2YXRlZDsKZXF1YXRpb24KICAvLyBQcmVwYXJlIGNsb2NrIHRpY2sKICBCYXNlQ2xvY2tfMV9hY3RpdmF0ZWQgPSAgc2FtcGxlKDAsIDAuMDAxKTsKICB3aGVuIEJhc2VDbG9ja18xX2FjdGl2YXRlZCB0aGVuCiAgICAgQ2xvY2tfMV8xX3RpY2tzID0gaWYgcHJlKENsb2NrXzFfMV90aWNrcykgPCA2MDAwMCB0aGVuIDErcHJlKENsb2NrXzFfMV90aWNrcykgZWxzZSAxOwogICAgIENsb2NrXzFfMl90aWNrcyA9IGlmIHByZShDbG9ja18xXzJfdGlja3MpIDwgMSB0aGVuIDErcHJlKENsb2NrXzFfMl90aWNrcykgZWxzZSAxOwogICAgIENsb2NrXzFfM190aWNrcyA9IGlmIHByZShDbG9ja18xXzNfdGlja3MpIDwgMTAwMCB0aGVuIDErcHJlKENsb2NrXzFfM190aWNrcykgZWxzZSAxOwogIGVuZCB3aGVuOwogIENsb2NrXzFfMV9hY3RpdmF0ZWQgPSAgQmFzZUNsb2NrXzFfYWN0aXZhdGVkIGFuZCBDbG9ja18xXzFfdGlja3MgPj0gNjAwMDA7CiAgQ2xvY2tfMV8yX2FjdGl2YXRlZCA9ICBCYXNlQ2xvY2tfMV9hY3RpdmF0ZWQgYW5kIENsb2NrXzFfMl90aWNrcyA+PSAxOwogIENsb2NrXzFfM19hY3RpdmF0ZWQgPSAgQmFzZUNsb2NrXzFfYWN0aXZhdGVkIGFuZCBDbG9ja18xXzNfdGlja3MgPj0gMTAwMDsKCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyBTdWIgcGFydGl0aW9uIGV4ZWN1dGlvbgogIHdoZW4ge0Nsb2NrXzFfM19hY3RpdmF0ZWR9IHRoZW4KICAgICBzZWNvbmQgPSAxOwogIGVuZCB3aGVuOwogIHdoZW4ge0Nsb2NrXzFfMV9hY3RpdmF0ZWR9IHRoZW4KICAgICAgbWludXRlcyA9IG1vZChwcmUobWludXRlcykrc2Vjb25kLCA2MCk7CiAgZW5kIHdoZW47CiAgd2hlbiB7Q2xvY2tfMV8yX2FjdGl2YXRlZH0gdGhlbgogICAgIG1pbGxpU2Vjb25kcyA9IG1vZChwcmUobWlsbGlTZWNvbmRzKStzZWNvbmQsIDEwMDApOwogIGVuZCB3aGVuOwogIHdoZW4ge0Nsb2NrXzFfM19hY3RpdmF0ZWR9IHRoZW4KICAgICBzZWNvbmRzID0gbW9kKHByZShzZWNvbmRzKStzZWNvbmQsIDYwKTsKICBlbmQgd2hlbjsKZW5kIENsb2NrVGlja3NXaXRoTW9kZWxpY2EzMjs=">⬇</a></div>
<div id="lstnumberx3703" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ClockTicksWithModelica32</span>
</div>
<div id="lstnumberx3704" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">second</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3705" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">seconds</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-1);</span>
</div>
<div id="lstnumberx3706" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">milliSeconds</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-1);</span>
</div>
<div id="lstnumberx3707" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">minutes</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">-1);</span>
</div>
<div id="lstnumberx3708" class="ltx_listingline">
</div>
<div id="lstnumberx3709" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">BaseClock_1_activated</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3710" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_1_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=59999);</span>
</div>
<div id="lstnumberx3711" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_2_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=0);</span>
</div>
<div id="lstnumberx3712" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_3_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">start</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=999);</span>
</div>
<div id="lstnumberx3713" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_1_activated</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3714" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_2_activated</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3715" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_3_activated</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3716" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">equation</span>
</div>
<div id="lstnumberx3717" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Prepare<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick</span>
</div>
<div id="lstnumberx3718" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">sample</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">0</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">.001</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">);</span>
</div>
<div id="lstnumberx3719" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3720" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">     </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_1_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_1_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">60000</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1+</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_1_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
<div id="lstnumberx3721" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">     </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_2_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_2_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1+</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_2_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
<div id="lstnumberx3722" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">     </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_3_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_3_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1000</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1+</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_3_ticks</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
<div id="lstnumberx3723" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3724" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_1_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">60000;</span>
</div>
<div id="lstnumberx3725" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_2_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_2_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
<div id="lstnumberx3726" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_3_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_3_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1000;</span>
</div>
<div id="lstnumberx3727" class="ltx_listingline">
</div>
<div id="lstnumberx3728" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>—————————————————————————–</span>
</div>
<div id="lstnumberx3729" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="font-size:90%;color:#006600;">//<span class="ltx_text ltx_lst_space"> </span>Sub<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>execution</span>
</div>
<div id="lstnumberx3730" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_3_activated</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3731" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">     </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">second</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1;</span>
</div>
<div id="lstnumberx3732" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3733" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_1_activated</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3734" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">minutes</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">mod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">minutes</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)+</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">second</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">60);</span>
</div>
<div id="lstnumberx3735" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3736" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_2_activated</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3737" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">     </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">milliSeconds</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">mod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">milliSeconds</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)+</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">second</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">1000);</span>
</div>
<div id="lstnumberx3738" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3739" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">Clock_1_3_activated</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">then</span>
</div>
<div id="lstnumberx3740" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">     </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">seconds</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">mod</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="font-size:90%;color:#E60000;">pre</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">seconds</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">)+</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">second</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">60);</span>
</div>
<div id="lstnumberx3741" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">when</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
<div id="lstnumberx3742" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:90%;color:#000066;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:90%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:90%;">ClockTicksWithModelica32</span><span class="ltx_text ltx_font_typewriter" style="font-size:90%;">;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_emph ltx_font_italic">]</span></p>
</div>
</section>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="Ch15.html" title="Chapter 15 Stream Connectors ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Stream Connectors</span></a><a href="Ch17.html" title="Chapter 17 State Machines ‣ Modelica® - A Unified Object-Oriented Language for Systems Modeling Language Specification Version 3.4" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>State Machines</span></a>
</div>
<div class="ltx_page_logo">Generated  on Sat May  1 09:01:01 2021 by <a href="http://dlmf.nist.gov/LaTeXML/">LaTeXML <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"></a>
</div></footer>
</div>
</body>
</html>
