<!DOCTYPE html><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>16 Synchronous Language Elements‣ Modelica® Language Specification version 3.6</title>
<!--Generated on Thu Mar  9 16:41:18 2023 by LaTeXML (version 0.8.6) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on March 9, 2023.-->

<link rel="stylesheet" href="LaTeXML.css" type="text/css">
<link rel="stylesheet" href="ltx-report.css" type="text/css">
<link rel="stylesheet" href="ltx-listings.css" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="css/MLS.css" type="text/css">
<link rel="stylesheet" href="css/MLS-navbar-left.css" type="text/css">
<script src="LaTeXML-maybeMathjax.js" type="text/javascript"></script>
<link rel="up" href="./" title="Modelica® Language Specification version 3.6">
<link rel="start" href="./" title="Modelica® Language Specification version 3.6">
<link rel="prev" href="stream-connectors.html" title="Chapter 15 Stream Connectors ‣ Modelica® Language Specification version 3.6">
<link rel="next" href="state-machines.html" title="Chapter 17 State Machines ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="preface.html" title="Preface ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="introduction1.html" title="Chapter 1 Introduction ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="lexical-structure.html" title="Chapter 2 Lexical Structure ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="operators-and-expressions.html" title="Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="class-predefined-types-and-declarations.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="scoping-name-lookup-and-flattening.html" title="Chapter 5 Scoping, Name Lookup, and Flattening ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="interface-or-type-relationships.html" title="Chapter 6 Interface or Type Relationships ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="inheritance-modification-and-redeclaration.html" title="Chapter 7 Inheritance, Modification, and Redeclaration ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="equations.html" title="Chapter 8 Equations ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="connectors-and-connections.html" title="Chapter 9 Connectors and Connections ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="arrays.html" title="Chapter 10 Arrays ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="statements-and-algorithm-sections.html" title="Chapter 11 Statements and Algorithm Sections ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="functions.html" title="Chapter 12 Functions ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="packages.html" title="Chapter 13 Packages ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="overloaded-operators.html" title="Chapter 14 Overloaded Operators ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="stream-connectors.html" title="Chapter 15 Stream Connectors ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="state-machines.html" title="Chapter 17 State Machines ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="annotations.html" title="Chapter 18 Annotations ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="unit-expressions.html" title="Chapter 19 Unit Expressions ‣ Modelica® Language Specification version 3.6">
<link rel="chapter" href="the-modelica-standard-library.html" title="Chapter 20 The Modelica Standard Library ‣ Modelica® Language Specification version 3.6">
<link rel="appendix" href="modelica-concrete-syntax.html" title="Appendix A Modelica Concrete Syntax ‣ Modelica® Language Specification version 3.6">
<link rel="appendix" href="modelica-dae-representation.html" title="Appendix B Modelica DAE Representation ‣ Modelica® Language Specification version 3.6">
<link rel="appendix" href="derivation-of-stream-equations.html" title="Appendix C Derivation of Stream Equations ‣ Modelica® Language Specification version 3.6">
<link rel="appendix" href="modelica-revision-history.html" title="Appendix D Modelica Revision History ‣ Modelica® Language Specification version 3.6">
<link rel="bibliography" href="bib.html" title="References ‣ Modelica® Language Specification version 3.6">
<link rel="index" href="idx.html" title="Index ‣ Modelica® Language Specification version 3.6">
<meta name="keywords" lang="en" content=", , , , , , , , , , -clause, algorithm, base-clock, base-clock partition, clock, clocked, clocked discrete-time, clocked discretized continuous-time, component, continuous-time, discrete-time expression, discrete-time partition, discretized continuous-time partition, equation, event, event clock, expression, expression (argument restriction), expression variability, inference, inferred, inferred clock, interval, partition, partition, , piecewise-constant variable, rational, rational interval clock, real interval clock, solver, solver clock, state variable, sub-clock, sub-clock partition, variability, variable">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body tabindex=0>
<nav class="ltx_page_navbar"><a href="./" title="Modelica® Language Specification version 3.6" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">Modelica<sup class="ltx_sup">®</sup> Language Specification version 3.6</span></a>
<div class="ltx_TOC">
<ul class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="preface.html" title="Preface ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title">Preface</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="introduction1.html" title="Chapter 1 Introduction ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="lexical-structure.html" title="Chapter 2 Lexical Structure ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Lexical Structure</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="operators-and-expressions.html" title="Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Operators and Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="class-predefined-types-and-declarations.html" title="Chapter 4 Classes, Predefined Types, and Declarations ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Classes, Predefined Types, and Declarations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="scoping-name-lookup-and-flattening.html" title="Chapter 5 Scoping, Name Lookup, and Flattening ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Scoping, Name Lookup, and Flattening</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="interface-or-type-relationships.html" title="Chapter 6 Interface or Type Relationships ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Interface or Type Relationships</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="inheritance-modification-and-redeclaration.html" title="Chapter 7 Inheritance, Modification, and Redeclaration ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Inheritance, Modification, and Redeclaration</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="equations.html" title="Chapter 8 Equations ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="connectors-and-connections.html" title="Chapter 9 Connectors and Connections ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Connectors and Connections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="arrays.html" title="Chapter 10 Arrays ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>Arrays</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="statements-and-algorithm-sections.html" title="Chapter 11 Statements and Algorithm Sections ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Statements and Algorithm Sections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="functions.html" title="Chapter 12 Functions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="packages.html" title="Chapter 13 Packages ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Packages</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="overloaded-operators.html" title="Chapter 14 Overloaded Operators ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Overloaded Operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="stream-connectors.html" title="Chapter 15 Stream Connectors ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Stream Connectors</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter ltx_ref_self">
<span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Synchronous Language Elements</span></span>
<ul class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section"><a href="#rationale-for-clocked-semantics" title="16.1 Rationale for Clocked Semantics ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.1 </span>Rationale for Clocked Semantics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#definitions" title="16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.2 </span>Definitions</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#clocks-and-clocked-variables" title="16.2.1 Clocks and Clocked Variables ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.2.1 </span>Clocks and Clocked Variables</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#base-clock-and-sub-clock-partitions" title="16.2.2 Base-Clock and Sub-Clock Partitions ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.2.2 </span>Base-Clock and Sub-Clock Partitions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#argument-restrictions-component-expression" title="16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.2.3 </span>Argument Restrictions (Component Expression)</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#clock-constructors" title="16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.3 </span>Clock Constructors</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#clocked-state-variables" title="16.4 Clocked State Variables ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.4 </span>Clocked State Variables</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#partitioning-operators" title="16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.5 </span>Partitioning Operators</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a href="#base-clock-conversion-operators" title="16.5.1 Base-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.5.1 </span>Base-Clock Conversion Operators</span></a>
<ul class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a href="#S5.SS1.SSS1" title="16.5.1.1 Sorting of a Simulation Model ‣ 16.5.1 Base-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.5.1.1 </span>Sorting of a Simulation Model</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#sub-clock-conversion-operators" title="16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.5.2 </span>Sub-Clock Conversion Operators</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#clocked-when-clause" title="16.6 Clocked When-Clause ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.6 </span>Clocked When-Clause</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#clock-partitioning" title="16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7 </span>Clock Partitioning</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#flattening-of-model" title="16.7.1 Flattening of Model ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.1 </span>Flattening of Model</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#connected-components-of-the-equations-and-variables-graph" title="16.7.2 Connected Components of the Equations and Variables Graph ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.2 </span>Connected Components of the Equations and Variables Graph</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#base-clock-partitioning" title="16.7.3 Base-Clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.3 </span>Base-Clock Partitioning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#sub-clock-partitioning" title="16.7.4 Sub-Clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.4 </span>Sub-Clock Partitioning</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#sub-clock-inferencing" title="16.7.5 Sub-Clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.7.5 </span>Sub-Clock Inferencing</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#clocked-discretized-partition" title="16.8 Clocked Discretized Partition ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8 </span>Clocked Discretized Partition</span></a>
<ul class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#clocked-discrete-time-and-clocked-discretized-continuous-time-partition" title="16.8.1 Clocked Discrete-Time and Discretized Continuous-Time ‣ 16.8 Clocked Discretized Partition ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8.1 </span>Clocked Discrete-Time and Discretized Continuous-Time</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#solver-methods" title="16.8.2 Solver Methods ‣ 16.8 Clocked Discretized Partition ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8.2 </span>Solver Methods</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#associating-a-solver-to-a-partition" title="16.8.3 Associating a Solver to a Partition ‣ 16.8 Clocked Discretized Partition ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8.3 </span>Associating a Solver to a Partition</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#inferencing-of-solvermethod" title="16.8.4 Inferencing of solverMethod ‣ 16.8 Clocked Discretized Partition ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.8.4 </span>Inferencing of solverMethod</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.9 </span>Initialization of Clocked Partitions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#other-operators" title="16.10 Other Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.10 </span>Other Operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#semantics" title="16.11 Semantics ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16.11 </span>Semantics</span></a></li>
</ul>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="state-machines.html" title="Chapter 17 State Machines ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>State Machines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="annotations.html" title="Chapter 18 Annotations ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Annotations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="unit-expressions.html" title="Chapter 19 Unit Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Unit Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="the-modelica-standard-library.html" title="Chapter 20 The Modelica Standard Library ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>The Modelica Standard Library</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-concrete-syntax.html" title="Appendix A Modelica Concrete Syntax ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Modelica Concrete Syntax</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-dae-representation.html" title="Appendix B Modelica DAE Representation ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Modelica DAE Representation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="derivation-of-stream-equations.html" title="Appendix C Derivation of Stream Equations ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Derivation of Stream Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-revision-history.html" title="Appendix D Modelica Revision History ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Modelica Revision History</span></a></li>
<li class="ltx_tocentry ltx_tocentry_bibliography"><a href="bib.html" title="References ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title">References</span></a></li>
<li class="ltx_tocentry ltx_tocentry_index"><a href="idx.html" title="Index ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_title">Index</span></a></li>
</ul>
</div>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div>
<a href="./" title="Modelica® Language Specification version 3.6" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title">Modelica<sup class="ltx_sup">®</sup> Language Specification version 3.6</span></a><a href="stream-connectors.html" title="Chapter 15 Stream Connectors ‣ Modelica® Language Specification version 3.6" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Stream Connectors</span></a><a href="state-machines.html" title="Chapter 17 State Machines ‣ Modelica® Language Specification version 3.6" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>State Machines</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_chapter">
<h1 class="ltx_title ltx_title_chapter">
<span class="ltx_tag ltx_tag_chapter">Chapter 16 </span>Synchronous Language Elements</h1>

<div id="p1" class="ltx_para">
<p class="ltx_p">This chapter defines synchronous behavior suited for implementation of control systems.
The synchronous behavior relies on an additional kind of discrete-time variables and equations, as well as an additional kind of <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause.
The benefits of synchronous behavior is that it allows a model to define large sampled data systems in a safe way, so that the translator can provide good a diagnostic in case of a modeling error.</p>
</div>
<div id="p2" class="ltx_para">
<p class="ltx_p">The following small example shows the most important elements:</p>
</div>
<figure id="F1" class="ltx_figure"><object type="image/svg+xml" data="media/plantmodel.svg" id="F1.g1" class="ltx_graphics ltx_centering" aria-label="A continuous plant and a sampled data controller connected together with sample and (zero-order) hold elements."><p>A continuous plant and a sampled data controller connected together with sample and (zero-order) hold elements.</p></object>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 16.1: </span>A continuous plant and a sampled data controller connected together with sample and (zero-order) hold elements.</figcaption>
</figure>
<div id="p3" class="ltx_para">
<ul id="S0.I1" class="ltx_itemize">
<li id="S0.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i1.p1" class="ltx_para">
<p class="ltx_p">A periodic clock is defined with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(3)</span></span>. The argument
of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span> defines the sampling interval (for details see <a href="#clock-constructors" title="16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.3</span></a>).</p>
</div>
</li>
<li id="S0.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Clocked variables (such as <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">yd</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">xd</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">ud</span>) are associated uniquely
with a clock and can only be directly accessed when the associated
clock is active. Since all variables in a clocked equation must belong
to the same clock, clocking errors can be detected at compile time. If
variables from different clocks shall be used in an equation, explicit
cast operators must be used, such as <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">sample</span> to convert
from continuous-time to clocked discrete-time or <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">hold</span> to
convert from clocked discrete-time to continuous-time.</p>
</div>
</li>
<li id="S0.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i3.p1" class="ltx_para">
<p class="ltx_p">A continuous-time variable is sampled at a clock tick with
<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">sample</span>. The operator returns the value of the
continuous-time variable when the clock is active.</p>
</div>
</li>
<li id="S0.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i4.p1" class="ltx_para">
<p class="ltx_p">When no argument is defined for <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span>, the clock is
deduced by clock inference.</p>
</div>
</li>
<li id="S0.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i5.p1" class="ltx_para">
<p class="ltx_p">For a <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause with an associated clock, all equations inside the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause are clocked with the given clock. All equations on an associated clock are treated together and in the same way regardless of whether they are inside a <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause or not. This means that automatic sampling and hold of variables inside the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause does not apply (explicit sampling and hold is required) and that general equations can be used in such <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clauses (this is not allowed for <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clauses with <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> conditions, that require a variable reference on the left-hand side of an equation).</p>
</div>
</li>
<li id="S0.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i6.p1" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause in the controller could also be removed
and the controller could just be defined by the equations:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,LyogRGlzY3JldGUgY29udHJvbGxlciAqLwpFICogeGQgPSBBICogcHJldmlvdXMoeGQpICsgQiAqIHlkOwogICAgdWQgPSBDICogcHJldmlvdXMoeGQpICsgRCAqIHlkOw==" download="">⬇</a></div>
<div id="lstnumberx4162" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>Discrete<span class="ltx_text ltx_lst_space"> </span>controller<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx4163" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">E</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xd</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xd</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">B</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4164" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">C</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xd</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">D</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
</div>
</li>
<li id="S0.I1.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i7.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">xd</span>)</span></span> returns the value of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">xd</span> at
the previous clock tick. At the first sample instant, the start value
of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">xd</span> is returned.</p>
</div>
</li>
<li id="S0.I1.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i8.p1" class="ltx_para">
<p class="ltx_p">A discrete-time signal (such as <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">ud</span>) is converted to a continuous-time signal with <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">hold</span>.</p>
</div>
</li>
<li id="S0.I1.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i9.p1" class="ltx_para">
<p class="ltx_p">If a variable belongs to a particular clock, then all other equations where this variable is used, with the exception of as argument to certain special operators, belong also to this clock, as well as all variables that are used in these equations.
This property is used for clock inference and allows defining an associated clock only at a few places (above only in the sampler, whereas in the discrete controller and the hold the sampling period is inferred).</p>
</div>
</li>
<li id="S0.I1.i10" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S0.I1.i10.p1" class="ltx_para">
<p class="ltx_p">The approach in this chapter is based on the clock calculus and inference system proposed by <cite class="ltx_cite ltx_citemacro_citet">Colaço and Pouzet (<a href="bib.html#bib3" title="Clocks as first class abstract types" class="ltx_ref">2003</a>)</cite> and implemented in Lucid Synchrone version 2 and 3 <cite class="ltx_cite ltx_citemacro_citep">(Pouzet, <a href="bib.html#bib8" title="Lucid synchrone, version 3.0, tutorial and reference manual" class="ltx_ref">2006</a>)</cite>.
However, the Modelica approach also uses multi-rate periodic clocks based on rational arithmetic introduced by <cite class="ltx_cite ltx_citemacro_citet">Forget<span class="ltx_text ltx_bib_etal"> et al.</span> (<a href="bib.html#bib5" title="A multi-periodic synchronous data-flow language" class="ltx_ref">2008</a>)</cite>, as an extension of the Lucid Synchrone semantics.
These approaches belong to the class of synchronous languages <cite class="ltx_cite ltx_citemacro_citep">(Benveniste<span class="ltx_text ltx_bib_etal"> et al.</span>, <a href="bib.html#bib2" title="The synchronous languages twelve years later" class="ltx_ref">2003</a>)</cite>.</p>
</div>
</li>
</ul>
</div>
<section id="rationale-for-clocked-semantics" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.1 </span>Rationale for Clocked Semantics</h2>

<div id="S1.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Periodically sampled control systems could also be defined with standard <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">when</span>-clauses, see <a href="equations.html#when-equations" title="8.3.5 When-Equations ‣ 8.3 Equations in Equation Sections ‣ Chapter 8 Equations ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">8.3.5</span></a>, and the <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">sample</span> operator, see <a href="operators-and-expressions.html#event-related-operators-with-function-syntax" title="3.7.5 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.7.5</span></a>. For example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,d2hlbiBzYW1wbGUoMCwgMykgdGhlbgogIHhkID0gQSAqIHByZSh4ZCkgKyBCICogeTsKICB1ICA9IEMgKiBwcmUoeGQpICsgRCAqIHk7CmVuZCB3aGVuOw==" download="">⬇</a></div>
<div id="lstnumberx4165" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4166" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xd</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xd</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">B</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4167" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">C</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xd</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">D</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4168" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
</div>
<div id="S1.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Equations in a <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">when</span>-clause with a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> condition have the
property that (a) variables on the left hand side of the equal sign are
assigned a value when the when-condition becomes true and otherwise hold
their value, (b) variables not assigned in the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">when</span>-clause are directly
accessed (= automatic <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">sample</span> semantics), and (c) the variables
assigned in the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">when</span>-clause can be directly accessed outside of the
<span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">when</span>-clause (= automatic <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">hold</span> semantics).</span></p>
</div>
<div id="S1.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Using standard <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">when</span>-clauses works well for individual simple sampled blocks, but the synchronous approach using clocks and clocked equations provide the following benefits (especially for large sampled systems):</span></p>
<ol id="S1.I1" class="ltx_enumerate">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Possibility to detect inconsistent sampling rate, since clock partitioning (see </span><a href="#clock-partitioning" title="16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref ltx_font_italic"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7</span></a><span class="ltx_text ltx_font_italic">),
replaces the automatic sample and hold semantics. Examples:</span></p>
<ol id="S1.I1.i1.I1" class="ltx_enumerate">
<li id="S1.I1.i1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">a.</span> 
<div id="S1.I1.i1.I1.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">If </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clauses in different blocks should belong to the same
controller part, but by accident different when-conditions are
given, then this is accepted (no error is detected).</span></p>
</div>
</li>
<li id="S1.I1.i1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">b.</span> 
<div id="S1.I1.i1.I1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">If a sampled data library such as the
Modelica_LinearSystems2.Contoller library is used, at every block
the sampling of the block has to be defined as integer multiple of a
base sampling rate. If several blocks should belong to the same
controller part, and different integer multiples are given, then the
translator has to accept this (no error is detected).</span></p>
</div>
</li>
</ol>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Note: Clocked systems can mix different sampling rates
in well-defined ways when needed.
</span></p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Fewer initial conditions are needed, as only a subset of clocked
variables need initial conditions – the clocked state variables (see </span><a href="#clocked-state-variables" title="16.4 Clocked State Variables ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref ltx_font_italic"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.4</span></a><span class="ltx_text ltx_font_italic">).
For a standard </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clause all variables
assigned in a </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clause must have an initial value
because they might be used, before they are assigned a value the first
time. As a result, all these variables are “discrete-time states”
although in reality only a subset of them need an initial
value.</span></p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">More general equations can be used, compared to standard </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clauses that require
a restricted form of equations where the left hand side has to be a variable, in order
to identify the variables that are assigned in the </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clause.
This restriction can be circumvented for standard </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clauses, but is
absent for clocked equations and make it more convenient to define
nonlinear control algorithms.</span></p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Clocked equations allow clock inference,
meaning that the sampling need only be given once for a sub-system.
For a standard </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clause the condition (sampling) must be explicitly
propagated to all blocks, which is tedious and error prone for large systems.</span></p>
</div>
</li>
<li id="S1.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span> 
<div id="S1.I1.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Possible to use general continuous-time models in synchronous models (e.g., some advanced controllers use an inverse model of a plant in the feedforward path of the controller, see </span><cite class="ltx_cite ltx_citemacro_citet">Thümmel<span class="ltx_text ltx_bib_etal"> et al.</span> <span class="ltx_text ltx_font_italic">(</span><a href="bib.html#bib7" title="Nonlinear inverse models for control" class="ltx_ref">2005</a><span class="ltx_text ltx_font_italic">)</span></cite><span class="ltx_text ltx_font_italic">).
This powerful feature of Modelica to use a nonlinear plant model in a controller would require to export the continuous-time model with an embedded integration method and then import it in an environment where the rest of the controller is defined.
With clocked equations, clocked controllers with continuous-time models can be directly defined in Modelica.
</span></p>
</div>
</li>
<li id="S1.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">6.</span> 
<div id="S1.I1.i6.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Clocked equations are straightforward to optimize because they are
evaluated exactly once at each an event instant.
In contrast a standard </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clause with </span><span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">sample</span><span class="ltx_text ltx_font_italic"> conceptually
requires several evaluations of the model (in some cases tools
can optimize this to avoid unneeded evaluations).
The problem for the standard </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clause is that after </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">v</span><span class="ltx_text ltx_font_italic">
is changed, </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">v</span>)</span></span><span class="ltx_text ltx_font_italic"> shall be updated and the model re-evaluated,
since the equations could depend on </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">v</span>)</span></span><span class="ltx_text ltx_font_italic">.
For clocked equations this iteration can be omitted
since </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">v</span>)</span></span><span class="ltx_text ltx_font_italic"> can only occur in the clocked equations
that are only run the first event iterations.</span></p>
</div>
</li>
<li id="S1.I1.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">7.</span> 
<div id="S1.I1.i7.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Clocked subsystems using arithmetic blocks are straightforward to optimize.
When a standard math-block (e.g., addition) is part of a clocked sub-system it is automatically
clocked and only evaluated when the clocked equations trigger.
For standard </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clauses one either needs a separate sampled math-block for each operation, or
it will conceptually be evaluated all the time.
However, tools may perform a similar optimization for standard </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span><span class="ltx_text ltx_font_italic">-clauses
and it is only relevant in large sampled systems.</span></p>
</div>
</li>
</ol>
<p class="ltx_p">]</p>
</div>
</section>
<section id="definitions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.2 </span>Definitions</h2>

<div id="S2.p1" class="ltx_para">
<p class="ltx_p">In this section various terms are defined.</p>
</div>
<section id="clocks-and-clocked-variables" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.2.1 </span>Clocks and Clocked Variables</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p class="ltx_p">In <a href="operators-and-expressions.html#discrete-time-expressions" title="3.8.4 Discrete-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.8.4</span></a> the term <em class="ltx_emph ltx_font_italic">discrete-time</em> Modelica expression and in <a href="operators-and-expressions.html#continuous-time-expressions" title="3.8.5 Continuous-Time and Non-Discrete-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.8.5</span></a> the term <em class="ltx_emph ltx_font_italic">continuous-time</em> Modelica expression is defined.
In this chapter, two additional kinds of discrete-time expressions/variables are defined that are associated to clocks and are therefore called <em class="ltx_emph ltx_font_italic">clocked discrete-time</em> expressions.
The different kinds of discrete-time variables in Modelica are defined below.</p>
</div>
<div id="Thmdefinitioninner1" class="ltx_theorem ltx_theorem_definitioninner">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Definition 16.1. <em class="ltx_emph ltx_font_italic">Piecewise-constant variable</em>.</h6>
<div id="Thmdefinitioninner1.p1" class="ltx_para">
<p class="ltx_p">(See <a href="operators-and-expressions.html#discrete-time-expressions" title="3.8.4 Discrete-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.8.4</span></a>.) Variables <math id="Thmdefinitioninner1.p1.m1" class="ltx_Math" alttext="m(t)" display="inline"><mrow><mi>m</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math> of base type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span>, enumeration, and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">String</span> that are
<em class="ltx_emph ltx_font_italic">constant</em> inside each interval <math id="Thmdefinitioninner1.p1.m2" class="ltx_Math" alttext="t_{i}\leq t&lt;t_{i+1}" display="inline"><mrow><msub><mi>t</mi><mi>i</mi></msub><mo>≤</mo><mi>t</mi><mo>&lt;</mo><msub><mi>t</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></math> (i.e., piecewise constant continuous-time variables). In other words, <math id="Thmdefinitioninner1.p1.m3" class="ltx_Math" alttext="m(t)" display="inline"><mrow><mi>m</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math> changes
value only at events: <math id="Thmdefinitioninner1.p1.m4" class="ltx_Math" alttext="m(t)=m(t_{i})" display="inline"><mrow><mrow><mi>m</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mrow><mi>m</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></math>, for <math id="Thmdefinitioninner1.p1.m5" class="ltx_Math" alttext="t_{i}\leq t&lt;t_{i+1}" display="inline"><mrow><msub><mi>t</mi><mi>i</mi></msub><mo>≤</mo><mi>t</mi><mo>&lt;</mo><msub><mi>t</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow></math>. Such variables depend continuously on time and they are discrete-time variables.
See <a href="#fig:piecewise-constant-variable" title="Figure 16.2 ‣ 16.2.1 Clocks and Clocked Variables ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">figure</span> <span class="ltx_text ltx_ref_tag">16.2</span></a>.
∎</p>
</div>
</div>
<figure id="fig:piecewise-constant-variable" class="ltx_figure"><object type="image/svg+xml" data="media/piecewise-constant.svg" id="F2.g1" class="ltx_graphics ltx_centering" aria-label="A piecewise-constant variable."><p>A piecewise-constant variable.</p></object>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 16.2: </span>A piecewise-constant variable.</figcaption>
</figure>
<div id="Thmdefinitioninner2" class="ltx_theorem ltx_theorem_definitioninner">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Definition 16.2. <em class="ltx_emph ltx_font_italic">Clock variable</em>.</h6>
<div id="Thmdefinitioninner2.p1" class="ltx_para">
<p class="ltx_p">Clock variables <math id="Thmdefinitioninner2.p1.m1" class="ltx_Math" alttext="c(t_{i})" display="inline"><mrow><mi>c</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></math> are of base type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span>.
A clock is either defined by a constructor (such as <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(3)</span></span>) that defines when the clock ticks (is active) at a particular time instant, or it is defined with clock operators relatively to other clocks, see <a href="#base-clock-conversion-operators" title="16.5.1 Base-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.5.1</span></a>.
See <a href="#fig:clock-variable" title="Figure 16.3 ‣ 16.2.1 Clocks and Clocked Variables ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">figure</span> <span class="ltx_text ltx_ref_tag">16.3</span></a>.
∎</p>
</div>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Clock variables:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2sgYzEgPSBDbG9jaygkXGxkb3RzJCk7CkNsb2NrIGMyID0gYzE7CkNsb2NrIGMzID0gc3ViU2FtcGxlKGMyLCA0KTs=" download="">⬇</a></div>
<div id="lstnumberx4169" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4169.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math></span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4170" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4171" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">4);</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<figure id="fig:clock-variable" class="ltx_figure"><object type="image/svg+xml" data="media/clock.svg" id="F3.g1" class="ltx_graphics ltx_centering" aria-label="A clock variable. The value of a clock variable is not defined – the plot marks only indicate "><p>A clock variable. The value of a clock variable is not defined – the plot marks only indicate </p></object>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 16.3: </span>A clock variable. The value of a clock variable is not defined – the plot marks only indicate <em class="ltx_emph ltx_font_italic">when</em> the clock is active.</figcaption>
</figure>
<div id="def:clocked-variable" class="ltx_theorem ltx_theorem_definitioninner">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Definition 16.3. <em class="ltx_emph ltx_font_italic">Clocked variable</em>.</h6>
<div id="Thmdefinitioninner3.p1" class="ltx_para">
<p class="ltx_p">The elements of clocked variables <math id="Thmdefinitioninner3.p1.m1" class="ltx_Math" alttext="r(t_{i})" display="inline"><mrow><mi>r</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></math> are of base type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span>, enumeration, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">String</span> that are associated uniquely with
a clock <math id="Thmdefinitioninner3.p1.m2" class="ltx_Math" alttext="c(t_{i})" display="inline"><mrow><mi>c</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></math>. A clocked variable can only be directly accessed at the event instant where the associated clock is active. A constant and a parameter can always be used at a place
where a clocked variable is required.</p>
</div>
<div id="Thmdefinitioninner3.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Note that clock variables are not included in this list.
This implies that clock variables cannot be used where clocked variables are required.</span>]</p>
</div>
<div id="Thmdefinitioninner3.p3" class="ltx_para">
<p class="ltx_p">At time instants where the associated clock is not active, the value of a clocked variable can be inquired by using an explicit cast operator, see below. In such a case <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">hold</span> semantics is
used, in other words the value of the clocked variable from the last event instant is used. See <a href="#fig:clocked-variable" title="Figure 16.4 ‣ 16.2.1 Clocks and Clocked Variables ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">figure</span> <span class="ltx_text ltx_ref_tag">16.4</span></a>.
∎</p>
</div>
</div>
<figure id="fig:clocked-variable" class="ltx_figure"><object type="image/svg+xml" data="media/clocked.svg" id="F4.g1" class="ltx_graphics ltx_centering" aria-label="A clocked variable. The "><p>A clocked variable. The </p></object>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 16.4: </span>A clocked variable. The <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">hold</span> extrapolation of the value at the last event instant is illustrated with dashed green lines.</figcaption>
</figure>
</section>
<section id="base-clock-and-sub-clock-partitions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.2.2 </span>Base-Clock and Sub-Clock Partitions</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p class="ltx_p">There are two kinds of <em class="ltx_emph ltx_font_italic">clock partitions</em>:</p>
</div>
<div id="Thmdefinitioninner4" class="ltx_theorem ltx_theorem_definitioninner">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Definition 16.4. <em class="ltx_emph ltx_font_italic">Base-clock partition</em>.</h6>
<div id="Thmdefinitioninner4.p1" class="ltx_para">
<p class="ltx_p">A base-clock partition identifies a set of equations and a set of variables which must be executed together in one task. Different base-clock partitions can be associated to separate tasks for
asynchronous execution.
∎</p>
</div>
</div>
<div id="Thmdefinitioninner5" class="ltx_theorem ltx_theorem_definitioninner">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Definition 16.5. <em class="ltx_emph ltx_font_italic">Sub-clock partition</em>.</h6>
<div id="Thmdefinitioninner5.p1" class="ltx_para">
<p class="ltx_p">A sub-clock partition identifies a subset of equations and a subset of variables of a base-clock partition which are partially synchronized with other sub-clock partitions of the same base-clock
partition, i.e., synchronized when the ticks of the respective clocks are simultaneous.
∎</p>
</div>
</div>
</section>
<section id="argument-restrictions-component-expression" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.2.3 </span>Argument Restrictions (Component Expression)</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p class="ltx_p">The built-in operators (with function syntax) defined in the following
sections have partially restrictions on their input arguments that are
not present for Modelica functions. To define the restrictions, the
following term is used.</p>
</div>
<div id="def:component-expression" class="ltx_theorem ltx_theorem_definitioninner">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Definition 16.6. <em class="ltx_emph ltx_font_italic">Component expression</em>.</h6>
<div id="Thmdefinitioninner6.p1" class="ltx_para">
<p class="ltx_p">A component expression is a <span class="ltx_text ltx_lst_identifier ltx_lst_language_grammar ltx_lstlisting ltx_font_typewriter ltx_font_italic" style="background-color:#FFFFFF;">component-reference</span> which is a valid expression, i.e., not referring to models or blocks with equations.
In detail, it is an instance of a (a) base type, (b) derived type, (c) record, (d) an array of such an instance (a-c), (e) one or more elements of such an array (d) defined by index expressions which are parameter expressions (see below), or (f) an element of records.</p>
</div>
<div id="Thmdefinitioninner6.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The essential features are that one or several values are associated with the instance, that start values can be defined on these values, and that no equations are associated with the instance.
A component expression can be constant or can vary with time.</span>]</p>
</div>
<div id="Thmdefinitioninner6.p3" class="ltx_para">
<p class="ltx_p">∎</p>
</div>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p class="ltx_p">In the following sections, when defining an operator with function calling syntax, there are some common restrictions being used for the input arguments (operands).
For example, an input argument to the operator may be required to be a component expression (<a href="#def:component-expression" title="Definition 16.6. Component expression. ‣ 16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">definition</span> <span class="ltx_text ltx_ref_tag">16.6</span></a>) or parameter expression (<a href="operators-and-expressions.html#variability-of-expressions" title="3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.8</span></a>).
To emphasize that there are no such restrictions, an input argument may be said to be just an <em class="ltx_emph ltx_font_italic">expression</em>.</p>
</div>
<div id="S2.SS3.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The reason for restricting an input argument to be a component expression is that the start value of the input argument is returned before the first tick of the clock of the input argument and this
is not possible for a general expression.</span></p>
</div>
<div id="S2.SS3.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The reason for restricting an input argument to be a parameter expression is that the value of the input argument needs to be evaluated during translation, in order that clock analysis can be performed during translation.</span>]</p>
</div>
<div id="S2.SS3.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
The input argument to <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">previous</span> is restricted to be a component expression.</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,UmVhbCB1MTsKUmVhbCB1Mls0XTsKQ29tcGxleCBjOwpSZXNpc3RvciBSOwokXGxkb3RzJAp5MSA9IHByZXZpb3VzKHUxKTsgICAgLy8gZmluZQp5MiA9IHByZXZpb3VzKHUyKTsgICAgLy8gZmluZQp5MyA9IHByZXZpb3VzKHUyWzJdKTsgLy8gZmluZQp5NCA9IHByZXZpb3VzKGMuaW0pOyAgLy8gZmluZQp5NSA9IHByZXZpb3VzKDIgKiB1KTsgLy8gZXJyb3IgKGdlbmVyYWwgZXhwcmVzc2lvbiwgbm90IGNvbXBvbmVudCBleHByZXNzaW9uKQp5NiA9IHByZXZpb3VzKFIpOyAgICAgLy8gZXJyb3IgKGNvbXBvbmVudCwgbm90IGNvbXBvbmVudCBleHByZXNzaW9uKQ==" download="">⬇</a></div>
<div id="lstnumberx4172" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u1</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4173" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u2</span><span class="ltx_text ltx_font_typewriter">[4];</span>
</div>
<div id="lstnumberx4174" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Complex</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4175" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Resistor</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">R</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4176" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4176.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4177" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u1</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div id="lstnumberx4178" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u2</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div id="lstnumberx4179" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u2</span><span class="ltx_text ltx_font_typewriter">[2]);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div id="lstnumberx4180" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">im</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>fine</span>
</div>
<div id="lstnumberx4181" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(general<span class="ltx_text ltx_lst_space"> </span>expression,<span class="ltx_text ltx_lst_space"> </span>not<span class="ltx_text ltx_lst_space"> </span>component<span class="ltx_text ltx_lst_space"> </span>expression)</span>
</div>
<div id="lstnumberx4182" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y6</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">R</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">     </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(component,<span class="ltx_text ltx_lst_space"> </span>not<span class="ltx_text ltx_lst_space"> </span>component<span class="ltx_text ltx_lst_space"> </span>expression)</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S2.SS3.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
The named argument <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">factor</span> of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">subSample</span> is restricted to be a parameter expression.</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,UmVhbCB1OwpwYXJhbWV0ZXIgUmVhbCBwPTM7CiRcbGRvdHMkCnkxID0gc3ViU2FtcGxlKHUsIGZhY3RvciA9IDMpOyAgICAgICAgIC8vIGZpbmUgKGxpdGVyYWwpCnkyID0gc3ViU2FtcGxlKHUsIGZhY3RvciA9IDIgKiBwIC0gMyk7IC8vIGZpbmUgKHBhcmFtZXRlciBleHByZXNzaW9uKQp5MyA9IHN1YlNhbXBsZSh1LCBmYWN0b3IgPSAzICogdSk7ICAgICAvLyBlcnJvciAoZ2VuZXJhbCBleHByZXNzaW9uKQ==" download="">⬇</a></div>
<div id="lstnumberx4183" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4184" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">p</span><span class="ltx_text ltx_font_typewriter">=3;</span>
</div>
<div id="lstnumberx4185" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4185.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4186" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">factor</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">         </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>fine<span class="ltx_text ltx_lst_space"> </span>(literal)</span>
</div>
<div id="lstnumberx4187" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">factor</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">p</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>fine<span class="ltx_text ltx_lst_space"> </span>(parameter<span class="ltx_text ltx_lst_space"> </span>expression)</span>
</div>
<div id="lstnumberx4188" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">factor</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">     </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(general<span class="ltx_text ltx_lst_space"> </span>expression)</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S2.SS3.p7" class="ltx_para">
<p class="ltx_p">None of the operators defined in this chapter vectorize, but some can operate directly on array variables (including clocked array variables, but not clock array variables).
They are not callable in functions.</p>
</div>
</section>
</section>
<section id="clock-constructors" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.3 </span>Clock Constructors</h2>

<div id="S3.p1" class="ltx_para">
<p class="ltx_p">The overloaded constructors listed below are available to generate clocks, and it is possible to call them with the specified named arguments, or with positional arguments (according to the order shown in the details after the table).</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Expression</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Description</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">()</span></span></td>
<td class="ltx_td ltx_align_left ltx_border_tt">Inferred clock</td>
<td class="ltx_td ltx_align_left ltx_border_tt"><a href="#modelica:clock-inferred" title="Operator 16.1 Clock ‣ 16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.1</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">intervalCounter</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">resolution</span>)</span></span></td>
<td class="ltx_td ltx_align_left">Rational interval clock</td>
<td class="ltx_td ltx_align_left"><a href="#modelica:clock-rational" title="Operator 16.2 Clock ‣ 16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.2</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">interval</span>)</span></span></td>
<td class="ltx_td ltx_align_left">Real interval clock</td>
<td class="ltx_td ltx_align_left"><a href="#modelica:clock-interval" title="Operator 16.3 Clock ‣ 16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.3</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">condition</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">startInterval</span>)</span></span></td>
<td class="ltx_td ltx_align_left">Event clock</td>
<td class="ltx_td ltx_align_left"><a href="#modelica:clock-event" title="Operator 16.4 Clock ‣ 16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.4</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">c</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">solverMethod</span>)</span></span></td>
<td class="ltx_td ltx_align_left ltx_border_b">Solver clock</td>
<td class="ltx_td ltx_align_left ltx_border_b"><a href="#modelica:clock-solver" title="Operator 16.5 Clock ‣ 16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.5</span></a></td>
</tr>
</tbody>
</table>
</div>
<div id="modelica:clock-inferred" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.1 <span class="ltx_text ltx_font_typewriter">Clock
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition1.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2soKQ==" download="">⬇</a></div>
<div id="lstnumberx4189" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">()</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S3.I1.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S3.I1.ix1.p1" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph ltx_font_italic">Inferred clock</em>.
The operator returns a clock that is inferred.</p>
</div>
<div id="S3.I1.ix1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,d2hlbiBDbG9jaygpIHRoZW4gLy8gZXF1YXRpb25zIGFyZSBvbiB0aGUgc2FtZSBjbG9jawogIHggPSBBICogcHJldmlvdXMoeCkgKyBCICogdTsKICBNb2RlbGljYS5VdGlsaXRpZXMuU3RyZWFtcy5wcmludAogICAgKCJjbG9jayB0aWNrcyBhdCA9ICIgKyBTdHJpbmcoc2FtcGxlKHRpbWUpKSk7CmVuZCB3aGVuOw==" download="">⬇</a></div>
<div id="lstnumberx4190" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>are<span class="ltx_text ltx_lst_space"> </span>on<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>same<span class="ltx_text ltx_lst_space"> </span>clock</span>
</div>
<div id="lstnumberx4191" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">B</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4192" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Modelica</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Utilities</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Streams</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">print</span>
</div>
<div id="lstnumberx4193" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"clock<span class="ltx_text ltx_lst_space"> </span>ticks<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">String</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">time</span><span class="ltx_text ltx_font_typewriter">)));</span>
</div>
<div id="lstnumberx4194" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Note, in most cases, the operator is not needed and equations could be written without a <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">when</span>-clause (but not in the example above, since the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">print</span> statement is otherwise not associated to a clock).
This style is useful if a modeler would clearly like to mark the equations that must belong to one clock (although a tool could figure this out as well, if the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">when</span>-clause is not present).</span>]</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:clock-rational" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.2 <span class="ltx_text ltx_font_typewriter">Clock
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition2.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2soaW50ZXJ2YWxDb3VudGVyPSRcbWF0aGl0e2ludGVydmFsQ291bnRlcn0kLCByZXNvbHV0aW9uPSRcbWF0aGl0e3Jlc29sdXRpb259JCk=" download="">⬇</a></div>
<div id="lstnumberx4195" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">intervalCounter</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4195.m1" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi mathbackground="#FFFFFF">𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">resolution</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4195.m2" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S3.I2.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S3.I2.ix1.p1" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph ltx_font_italic">Rational interval clock</em>.
The first input argument, <math id="S3.I2.ix1.p1.m1" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math>, is a clocked component expression (<a href="#def:component-expression" title="Definition 16.6. Component expression. ‣ 16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">definition</span> <span class="ltx_text ltx_ref_tag">16.6</span></a>) or a parameter expression of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span> with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">min</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span>0</span></span>.
The optional second argument <math id="S3.I2.ix1.p1.m2" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi>𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math> (defaults to 1) is a parameter expression of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span> with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">min</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span>1</span></span> and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">unit</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"Hz"</span></span></span>.
If <math id="S3.I2.ix1.p1.m3" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math> is a parameter expression with value zero, the period of the clock is derived by clock inference, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-Clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.5</span></a>.</p>
</div>
<div id="S3.I2.ix1.p2" class="ltx_para">
<p class="ltx_p">If <math id="S3.I2.ix1.p2.m1" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math> is a parameter expression greater than zero, the clock defines a periodic clock.
If <math id="S3.I2.ix1.p2.m2" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math> is a clocked component expression it must be greater than zero.
The result is of base type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span> that ticks when <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">time</span> becomes <math id="S3.I2.ix1.p2.m3" class="ltx_Math" alttext="t_{\mathrm{start}}" display="inline"><msub><mi>t</mi><mi>start</mi></msub></math>, <math id="S3.I2.ix1.p2.m4" class="ltx_Math" alttext="t_{\mathrm{start}}+\mathit{interval}_{1}" display="inline"><mrow><msub><mi>t</mi><mi>start</mi></msub><mo>+</mo><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>1</mn></msub></mrow></math>, <math id="S3.I2.ix1.p2.m5" class="ltx_Math" alttext="t_{\mathrm{start}}+\mathit{interval}_{1}+\mathit{interval}_{2}" display="inline"><mrow><msub><mi>t</mi><mi>start</mi></msub><mo>+</mo><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>1</mn></msub><mo>+</mo><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>2</mn></msub></mrow></math>, …
The clock starts at the start of the simulation <math id="S3.I2.ix1.p2.m6" class="ltx_Math" alttext="t_{\mathrm{start}}" display="inline"><msub><mi>t</mi><mi>start</mi></msub></math> or when the controller is switched on.
At the start of the simulation, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<math id="S3.I2.ix1.p2.m7" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi mathbackground="#FFFFFF">𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math>)</span></span> = <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_font_typewriter"><math id="S3.I2.ix1.p2.m8" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi mathbackground="#FFFFFF">𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math></span><span class="ltx_text ltx_font_typewriter">.<span class="ltx_text ltx_lst_identifier">start</span></span></span> and the clocks ticks the first time.
At the first clock tick <math id="S3.I2.ix1.p2.m9" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math> must be computed and the second clock tick is then triggered at <math id="S3.I2.ix1.p2.m10" class="ltx_Math" alttext="\mathit{interval}_{1}=\mathit{intervalCounter}/\mathit{resolution}" display="inline"><mrow><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>1</mn></msub><mo>=</mo><mrow><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi><mo>/</mo><mi>𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></mrow></mrow></math>.
At the second clock tick at time <math id="S3.I2.ix1.p2.m11" class="ltx_Math" alttext="t_{\mathrm{start}}+\mathit{interval}_{1}" display="inline"><mrow><msub><mi>t</mi><mi>start</mi></msub><mo>+</mo><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>1</mn></msub></mrow></math>, a new value for <math id="S3.I2.ix1.p2.m12" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math> must be computed and the next clock tick is scheduled at <math id="S3.I2.ix1.p2.m13" class="ltx_Math" alttext="\mathit{interval}_{2}=\mathit{intervalCounter}/\mathit{resolution}" display="inline"><mrow><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>2</mn></msub><mo>=</mo><mrow><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi><mo>/</mo><mi>𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></mrow></mrow></math>, and so on.</p>
</div>
<div id="S3.I2.ix1.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The given interval and time shift can be modified by using the <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">subSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">superSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">backSample</span> operators on the returned clock, see <a href="#sub-clock-conversion-operators" title="16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.5.2</span></a>.</span>]</p>
</div>
<div id="S3.I2.ix1.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICAvLyBmaXJzdCBjbG9jayB0aWNrOiBwcmV2aW91cyhuZXh0SW50ZXJ2YWwpID0gMgogIEludGVnZXIgbmV4dEludGVydmFsKHN0YXJ0ID0gMik7CiAgUmVhbCB5MShzdGFydCA9IDApOwogIFJlYWwgeTIoc3RhcnQgPSAwKTsKZXF1YXRpb24KICB3aGVuIENsb2NrKDIsIDEwMDApIHRoZW4KICAgIC8vIHBlcmlvZGljIGNsb2NrIHRoYXQgdGlja3MgYXQgMCwgMC4wMDIsIDAuMDA0LCAkXGxkb3RzJAogICAgeTEgPSBwcmV2aW91cyh5MSkgKyAxOwogIGVuZCB3aGVuOwoKICB3aGVuIENsb2NrKG5leHRJbnRlcnZhbCwgMTAwMCkgdGhlbgogICAgLy8gaW50ZXJ2YWwgY2xvY2sgdGhhdCB0aWNrcyBhdCAwLCAwLjAwMywgMC4wMDcsIDAuMDEyLCAkXGxkb3RzJAogICAgbmV4dEludGVydmFsID0gcHJldmlvdXMobmV4dEludGVydmFsKSArIDE7CiAgICB5MiA9IHByZXZpb3VzKHkyKSArIDE7CiAgZW5kIHdoZW47" download="">⬇</a></div>
<div id="lstnumberx4196" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick:<span class="ltx_text ltx_lst_space"> </span>previous(nextInterval)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>2</span>
</div>
<div id="lstnumberx4197" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextInterval</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span>
</div>
<div id="lstnumberx4198" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4199" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y2</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4200" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4201" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1000)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4202" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>periodic<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>that<span class="ltx_text ltx_lst_space"> </span>ticks<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>0.002,<span class="ltx_text ltx_lst_space"> </span>0.004,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4202.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4203" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4204" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4205" class="ltx_listingline">
</div>
<div id="lstnumberx4206" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextInterval</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1000)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4207" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>interval<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>that<span class="ltx_text ltx_lst_space"> </span>ticks<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>0.003,<span class="ltx_text ltx_lst_space"> </span>0.007,<span class="ltx_text ltx_lst_space"> </span>0.012,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4207.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4208" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextInterval</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextInterval</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4209" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y2</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4210" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S3.I2.ix1.p5" class="ltx_para">
<p class="ltx_p">Note that operator <span class="ltx_text ltx_align_left ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">c</span>)</span></span> of <span class="ltx_text ltx_align_left ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Clock</span>(<span class="ltx_text ltx_lst_identifier">nextInterval</span>,<span class="ltx_text ltx_lst_space"> </span><math id="S3.I2.ix1.p5.m1" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math>)</span></span> returns:<span class="ltx_text ltx_align_left ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<math id="S3.I2.ix1.p5.m2" class="ltx_Math" alttext="\mathit{intervalCounter}" display="inline"><mi mathbackground="#FFFFFF">𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙𝐶𝑜𝑢𝑛𝑡𝑒𝑟</mi></math>)<span class="ltx_text ltx_lst_space"> </span>/<span class="ltx_text ltx_lst_space"> </span><math id="S3.I2.ix1.p5.m3" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math></span></span> (in seconds)</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:clock-interval" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.3 <span class="ltx_text ltx_font_typewriter">Clock
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition3.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2soaW50ZXJ2YWw9JFxtYXRoaXR7aW50ZXJ2YWx9JCk=" download="">⬇</a></div>
<div id="lstnumberx4211" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4211.m1" class="ltx_Math" alttext="\mathit{interval}" display="inline"><mi mathbackground="#FFFFFF">𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S3.I3.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S3.I3.ix1.p1" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph ltx_font_italic">Real interval clock</em>.
The input argument, <math id="S3.I3.ix1.p1.m1" class="ltx_Math" alttext="\mathit{interval}" display="inline"><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math>, is a clocked component expression (<a href="#def:component-expression" title="Definition 16.6. Component expression. ‣ 16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">definition</span> <span class="ltx_text ltx_ref_tag">16.6</span></a>) or a parameter expression.
The <math id="S3.I3.ix1.p1.m2" class="ltx_Math" alttext="\mathit{interval}" display="inline"><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math> must be strictly positive (<math id="S3.I3.ix1.p1.m3" class="ltx_Math" alttext="\mathit{interval}&gt;0" display="inline"><mrow><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mo>&gt;</mo><mn>0</mn></mrow></math>) of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span> with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">unit</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_string" style="color:#000000;">"s"</span></span></span>.
The result is of base type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span> that ticks when <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">time</span> becomes <math id="S3.I3.ix1.p1.m4" class="ltx_Math" alttext="t_{\mathrm{start}}" display="inline"><msub><mi>t</mi><mi>start</mi></msub></math>, <math id="S3.I3.ix1.p1.m5" class="ltx_Math" alttext="t_{\mathrm{start}}+\mathit{interval}_{1}" display="inline"><mrow><msub><mi>t</mi><mi>start</mi></msub><mo>+</mo><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>1</mn></msub></mrow></math>, <math id="S3.I3.ix1.p1.m6" class="ltx_Math" alttext="t_{\mathit{start}}+\mathit{interval}_{1}+\mathit{interval}_{2}" display="inline"><mrow><msub><mi>t</mi><mi>𝑠𝑡𝑎𝑟𝑡</mi></msub><mo>+</mo><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>1</mn></msub><mo>+</mo><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>2</mn></msub></mrow></math>, …
The clock starts at the start of the simulation <math id="S3.I3.ix1.p1.m7" class="ltx_Math" alttext="t_{\mathrm{start}}" display="inline"><msub><mi>t</mi><mi>start</mi></msub></math> or when the controller is switched on.
Here the next clock tick is scheduled at <math id="S3.I3.ix1.p1.m8" class="ltx_Math" alttext="\mathit{interval}_{1}" display="inline"><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>1</mn></msub></math> = <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<math id="S3.I3.ix1.p1.m9" class="ltx_Math" alttext="\mathit{interval}" display="inline"><mi mathbackground="#FFFFFF">𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math>)</span></span> = <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_font_typewriter"><math id="S3.I3.ix1.p1.m10" class="ltx_Math" alttext="\mathit{interval}" display="inline"><mi mathbackground="#FFFFFF">𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math></span><span class="ltx_text ltx_font_typewriter">.<span class="ltx_text ltx_lst_identifier">start</span></span></span>.
At the second clock tick at time <math id="S3.I3.ix1.p1.m11" class="ltx_Math" alttext="t_{\mathrm{start}}+\mathit{interval}_{1}" display="inline"><mrow><msub><mi>t</mi><mi>start</mi></msub><mo>+</mo><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>1</mn></msub></mrow></math>, the next clock tick is scheduled at <math id="S3.I3.ix1.p1.m12" class="ltx_Math" alttext="\mathit{interval}_{2}" display="inline"><msub><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi><mn>2</mn></msub></math> = <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<math id="S3.I3.ix1.p1.m13" class="ltx_Math" alttext="\mathit{interval}" display="inline"><mi mathbackground="#FFFFFF">𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math>)</span></span>, and so on.
If <math id="S3.I3.ix1.p1.m14" class="ltx_Math" alttext="\mathit{interval}" display="inline"><mi>𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math> is a parameter expression, the clock defines a periodic clock.</p>
</div>
<div id="S3.I3.ix1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Note, the clock is defined with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<math id="S3.I3.ix1.p2.m1" class="ltx_Math" alttext="\mathit{interval}" display="inline"><mi mathbackground="#FFFFFF">𝑖𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math>)</span></span>. Therefore, for sorting the input argument is treated as known. The given interval and time shift can be modified by using the <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">subSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">superSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">backSample</span> operators on the returned clock, see <a href="#sub-clock-conversion-operators" title="16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.5.2</span></a>. There are restrictions where this operator can be used, see <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">Clock</span> expressions below.</span>]</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:clock-event" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.4 <span class="ltx_text ltx_font_typewriter">Clock
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition4.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2soY29uZGl0aW9uPSRcbWF0aGl0e2NvbmRpdGlvbn0kLCBzdGFydEludGVydmFsPSRcbWF0aGl0e3N0YXJ0SW50ZXJ2YWx9JCk=" download="">⬇</a></div>
<div id="lstnumberx4212" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">condition</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4212.m1" class="ltx_Math" alttext="\mathit{condition}" display="inline"><mi mathbackground="#FFFFFF">𝑐𝑜𝑛𝑑𝑖𝑡𝑖𝑜𝑛</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">startInterval</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4212.m2" class="ltx_Math" alttext="\mathit{startInterval}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑡𝑎𝑟𝑡𝐼𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S3.I4.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S3.I4.ix1.p1" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph ltx_font_italic">Event clock</em>.
The first input argument, <math id="S3.I4.ix1.p1.m1" class="ltx_Math" alttext="\mathit{condition}" display="inline"><mi>𝑐𝑜𝑛𝑑𝑖𝑡𝑖𝑜𝑛</mi></math>, is a continuous-time expression of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span>.
The optional <math id="S3.I4.ix1.p1.m2" class="ltx_Math" alttext="\mathit{startInterval}" display="inline"><mi>𝑠𝑡𝑎𝑟𝑡𝐼𝑛𝑡𝑒𝑟𝑣𝑎𝑙</mi></math> argument (defaults to 0) is the value returned by <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">()</span></span> at the first tick of the clock, see <a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.9</span></a>.
The result is of base type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span> that ticks when <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">edge</span><span class="ltx_text ltx_font_typewriter">(<math id="S3.I4.ix1.p1.m3" class="ltx_Math" alttext="\mathit{condition}" display="inline"><mi mathbackground="#FFFFFF">𝑐𝑜𝑛𝑑𝑖𝑡𝑖𝑜𝑛</mi></math>)</span></span> becomes <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">true</span>.</p>
</div>
<div id="S3.I4.ix1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">This clock is used to trigger a clocked partition due to a state event, that is a zero-crossing of a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span> variable, in a continuous-time partition or due to a hardware interrupt that is modeled as <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> in the simulation model.</span>]</p>
</div>
<div id="S3.I4.ix1.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2sgYyA9IENsb2NrKGFuZ2xlID4gMCwgMC4xKTsgLy8gYmVmb3JlIGZpcnN0IHRpY2sgb2YgYzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50ZXJ2YWwoYykgPSAwLjE=" download="">⬇</a></div>
<div id="lstnumberx4213" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">angle</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0.1);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>before<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>tick<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>c:</span>
</div>
<div id="lstnumberx4214" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">                                 </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>interval(c)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0.1</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S3.I4.ix1.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The implicitly given interval and time shift can be modified by using the <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">subSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">superSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">backSample</span> operators on the returned clock, see <a href="#sub-clock-conversion-operators" title="16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.5.2</span></a>, provided the base interval is not smaller than the implicitly given interval.</span>]</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:clock-solver" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.5 <span class="ltx_text ltx_font_typewriter">Clock
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition5.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2soYz0kYyQsIHNvbHZlck1ldGhvZD0kXG1hdGhpdHtzb2x2ZXJNZXRob2R9JCk=" download="">⬇</a></div>
<div id="lstnumberx4215" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4215.m1" class="ltx_Math" alttext="c" display="inline"><mi mathbackground="#FFFFFF">c</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">solverMethod</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4215.m2" class="ltx_Math" alttext="\mathit{solverMethod}" display="inline"><mi mathbackground="#FFFFFF">𝑠𝑜𝑙𝑣𝑒𝑟𝑀𝑒𝑡ℎ𝑜𝑑</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S3.I5.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S3.I5.ix1.p1" class="ltx_para">
<p class="ltx_p"><em class="ltx_emph ltx_font_italic">Solver clock</em>.
The first input argument, <math id="S3.I5.ix1.p1.m1" class="ltx_Math" alttext="c" display="inline"><mi>c</mi></math>, is a clock and the operator returns this clock.
The returned clock is associated with the second input argument <math id="S3.I5.ix1.p1.m2" class="ltx_Math" alttext="\mathit{solverMethod}" display="inline"><mi>𝑠𝑜𝑙𝑣𝑒𝑟𝑀𝑒𝑡ℎ𝑜𝑑</mi></math> of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">String</span>.
The meaning of <math id="S3.I5.ix1.p1.m3" class="ltx_Math" alttext="\mathit{solverMethod}" display="inline"><mi>𝑠𝑜𝑙𝑣𝑒𝑟𝑀𝑒𝑡ℎ𝑜𝑑</mi></math> is defined in <a href="#solver-methods" title="16.8.2 Solver Methods ‣ 16.8 Clocked Discretized Partition ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.8.2</span></a>.
If <math id="S3.I5.ix1.p1.m4" class="ltx_Math" alttext="\mathit{solverMethod}" display="inline"><mi>𝑠𝑜𝑙𝑣𝑒𝑟𝑀𝑒𝑡ℎ𝑜𝑑</mi></math> is the empty <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">String</span>, then this <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span> construct does not associate an integrator with the returned clock.</p>
</div>
<div id="S3.I5.ix1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2sgYzEgPSBDbG9jaygxLCAxMCk7ICAgICAgICAgICAgICAgICAgIC8vIDEwMCBtcywgbm8gc29sdmVyCkNsb2NrIGMyID0gQ2xvY2soYzEsICJJbXBsaWNpdFRyYXBlem9pZCIpOyAvLyAxMDAgbXMsIEltcGxpY2l0VHJhcGV6b2lkIHNvbHZlcgpDbG9jayBjMyA9IENsb2NrKGMyLCAiIik7ICAgICAgICAgICAgICAgICAgLy8gMTAwIG1zLCBubyBzb2x2ZXI=" download="">⬇</a></div>
<div id="lstnumberx4216" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">                   </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>100<span class="ltx_text ltx_lst_space"> </span>ms,<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>solver</span>
</div>
<div id="lstnumberx4217" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ImplicitTrapezoid"</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>100<span class="ltx_text ltx_lst_space"> </span>ms,<span class="ltx_text ltx_lst_space"> </span>ImplicitTrapezoid<span class="ltx_text ltx_lst_space"> </span>solver</span>
</div>
<div id="lstnumberx4218" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">""</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">                  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>100<span class="ltx_text ltx_lst_space"> </span>ms,<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>solver</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</li>
</ul>
</div>
</div>
<div id="S3.p2" class="ltx_para">
<p class="ltx_p">Besides inferred clocks and solver clocks, one of the following mutually
exclusive associations of clocks are possible in one base partition:</p>
<ol id="S3.I6" class="ltx_enumerate">
<li id="S3.I6.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S3.I6.i1.p1" class="ltx_para">
<p class="ltx_p">One or more rational interval clocks, provided they are consistent with each other, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-Clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.5</span></a>.</p>
</div>
<div id="S3.I6.i1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Assume <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">subSample</span>(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>, and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">Clock</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(1,<span class="ltx_text ltx_lst_space"> </span>10)</span></span> is associated with <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">u</span> and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">Clock</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(2,<span class="ltx_text ltx_lst_space"> </span>10)</span></span> is associated with <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">y</span>, then this is correct, but it would be an error if <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">y</span> is associated with a <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">Clock</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(1,<span class="ltx_text ltx_lst_space"> </span>3)</span></span>.</span>]</p>
</div>
</li>
<li id="S3.I6.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S3.I6.i2.p1" class="ltx_para">
<p class="ltx_p">Exactly one real interval clock.</p>
</div>
<div id="S3.I6.i2.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Assume <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Clock</span>(2.5)</span></span>, then variables in the same base partition can be associated multiple times with <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">c</span> but not multiple times with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">Clock</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(2.5)</span></span>.</span>]</p>
</div>
</li>
<li id="S3.I6.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S3.I6.i3.p1" class="ltx_para">
<p class="ltx_p">Exactly one event clock.</p>
</div>
</li>
<li id="S3.I6.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S3.I6.i4.p1" class="ltx_para">
<p class="ltx_p">A default clock, if neither a real interval, nor a rational interval nor an event clock is associated with a base partition. In this case the default clock is associated with the fastest sub-clock partition.</p>
</div>
<div id="S3.I6.i4.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Typically, a tool will use <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">Clock</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(1.0)</span></span> as a default clock and will raise a warning, that it selected a default clock.</span>]</p>
</div>
</li>
</ol>
</div>
<div id="S3.p3" class="ltx_para">
<p class="ltx_p">Clock variables can be used in a restricted form of expressions.
Generally, every expression switching between clock variables must have parameter variability (in order that clock analysis can be performed when translating a model).
Thus subscripts on clock variables and conditions of if-then-else switching between clock variables must be parameter expressions, and there are similar restrictions for sub-clock conversion operators <a href="#sub-clock-conversion-operators" title="16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.5.2</span></a>.
Otherwise, the following expressions are allowed:</p>
<ul id="S3.I7" class="ltx_itemize">
<li id="S3.I7.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I7.i1.p1" class="ltx_para">
<p class="ltx_p">Declaring arrays of clocks.</p>
</div>
<div id="S3.I7.i1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">c1</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">[3]<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{<span class="ltx_text ltx_lst_identifier">Clock</span>(1),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Clock</span>(2),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Clock</span>(3)}</span></span></span>]</p>
</div>
</li>
<li id="S3.I7.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I7.i2.p1" class="ltx_para">
<p class="ltx_p">Array constructors of clocks: <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">{}</span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">[]</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">cat</span>.</p>
</div>
</li>
<li id="S3.I7.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I7.i3.p1" class="ltx_para">
<p class="ltx_p">Array access of clocks.</p>
</div>
<div id="S3.I7.i3.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">u</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c1</span>[2])</span></span></span>]</p>
</div>
</li>
<li id="S3.I7.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I7.i4.p1" class="ltx_para">
<p class="ltx_p">Equality of clocks.</p>
</div>
<div id="S3.I7.i4.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">c1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">c2</span></span></span></span>]</p>
</div>
</li>
<li id="S3.I7.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I7.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">if</span>-expressions of clocks in equations.</p>
</div>
<div id="S3.I7.i5.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2sgYzIgPQogIGlmIGYgPiAwIHRoZW4KICAgIHN1YlNhbXBsZShjMSwgZikKICBlbHNlaWYgZiA8IDAgdGhlbgogICAgc3VwZXJTYW1wbGUoYzEsIGYpCiAgZWxzZQogICAgYzE7" download="">⬇</a></div>
<div id="lstnumberx4219" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4220" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4221" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f</span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
<div id="lstnumberx4222" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4223" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f</span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
<div id="lstnumberx4224" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx4225" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting"></span>]</p>
</div>
</li>
<li id="S3.I7.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I7.i6.p1" class="ltx_para">
<p class="ltx_p">Clock variables can be declared in models, blocks, connectors, and records.
A clock variable can be declared with the prefixes <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">input</span>, <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">output</span>, <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">inner</span>, <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">outer</span>, but <em class="ltx_emph ltx_font_italic">not</em> with the prefixes <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">flow</span>, <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">stream</span>, <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">discrete</span>, <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">parameter</span>, or <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">constant</span>.</p>
</div>
<div id="S3.I7.i6.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Y29ubmVjdG9yIENsb2NrSW5wdXQgPSBpbnB1dCBDbG9jazs=" download="">⬇</a></div>
<div id="lstnumberx4226" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">connector</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ClockInput</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</li>
</ul>
</div>
</section>
<section id="clocked-state-variables" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.4 </span>Clocked State Variables</h2>

<div id="def:clocked-state-variable" class="ltx_theorem ltx_theorem_definitioninner">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Definition 16.7. <em class="ltx_emph ltx_font_italic">Clocked state variable</em>.</h6>
<div id="Thmdefinitioninner7.p1" class="ltx_para">
<p class="ltx_p">A component expression which is not a parameter, and to which <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">previous</span> has been applied.
∎</p>
</div>
</div>
<div id="S4.p1" class="ltx_para">
<p class="ltx_p">The previous value of a clocked variable can be accessed with the <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">previous</span> operator, listed below.</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Expression</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Description</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<math id="S4.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span></th>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_tt">Previous value of clocked variable</td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_tt"><a href="#modelica:previous" title="Operator 16.6 previous ‣ 16.4 Clocked State Variables ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.6</span></a></td>
</tr>
</tbody>
</table>
</div>
<div id="modelica:previous" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.6 <span class="ltx_text ltx_font_typewriter">previous
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition6.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cHJldmlvdXMoJHUkKQ==" download="">⬇</a></div>
<div id="lstnumberx4227" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4227.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S4.I1.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S4.I1.ix1.p1" class="ltx_para">
<p class="ltx_p">The input argument <math id="S4.I1.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is a component expression (<a href="#def:component-expression" title="Definition 16.6. Component expression. ‣ 16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">definition</span> <span class="ltx_text ltx_ref_tag">16.6</span></a>).
If <math id="S4.I1.ix1.p1.m2" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is a parameter, its value is returned.</p>
</div>
<div id="S4.I1.ix1.p2" class="ltx_para">
<p class="ltx_p">Otherwise:
Input and return arguments are on the same clock.
At the first tick of the clock of <math id="S4.I1.ix1.p2.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> or after a reset transition (see <a href="state-machines.html#reset-handling" title="17.3.2 Reset Handling ‣ 17.3 State Machine Semantics ‣ Chapter 17 State Machines ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">17.3.2</span></a>), the start value of <math id="S4.I1.ix1.p2.m2" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is returned, see <a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.9</span></a>.
At subsequent activations of the clock of <math id="S4.I1.ix1.p2.m3" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, the value of <math id="S4.I1.ix1.p2.m4" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> from the previous clock activation is returned.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="S4.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">At a clock tick only the (previous) values of the clocked state variables are needed to compute the new values of all clocked variables on that clock.
This roughly corresponds to state variables in continuous time.</span>]</p>
</div>
</section>
<section id="partitioning-operators" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.5 </span>Partitioning Operators</h2>

<div id="S5.p1" class="ltx_para">
<p class="ltx_p">A set of <em class="ltx_emph ltx_font_italic">clock conversion operators</em> together act as boundaries
between different clock partitions.</p>
</div>
<section id="base-clock-conversion-operators" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.5.1 </span>Base-Clock Conversion Operators</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p class="ltx_p">The operators listed below convert between a continuous-time and a clocked-time representation and vice versa.</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Expression</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Description</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(<math id="S5.SS1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.SS1.p1.m2" class="ltx_Math" alttext="\mathit{clock}" display="inline"><mi mathbackground="#FFFFFF">𝑐𝑙𝑜𝑐𝑘</mi></math>)</span></span></th>
<td class="ltx_td ltx_align_left ltx_border_tt">Sample continuous-time expression</td>
<td class="ltx_td ltx_align_left ltx_border_tt"><a href="#modelica:clocked-sample" title="Operator 16.7 sample ‣ 16.5.1 Base-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.7</span></a></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">hold</span><span class="ltx_text ltx_font_typewriter">(<math id="S5.SS1.p1.m3" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span></th>
<td class="ltx_td ltx_align_left ltx_border_b">Zeroth order hold of clocked-time variable</td>
<td class="ltx_td ltx_align_left ltx_border_b"><a href="#modelica:hold" title="Operator 16.8 hold ‣ 16.5.1 Base-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.8</span></a></td>
</tr>
</tbody>
</table>
</div>
<div id="modelica:clocked-sample" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.7 <span class="ltx_text ltx_font_typewriter">sample
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition7.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,c2FtcGxlKCR1JCwgJFxtYXRoaXR7Y2xvY2t9JCk=" download="">⬇</a></div>
<div id="lstnumberx4228" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4228.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4228.m2" class="ltx_Math" alttext="\mathit{clock}" display="inline"><mi mathbackground="#FFFFFF">𝑐𝑙𝑜𝑐𝑘</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S5.I1.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S5.I1.ix1.p1" class="ltx_para">
<p class="ltx_p">Input argument <math id="S5.I1.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is a continuous-time expression according to <a href="operators-and-expressions.html#continuous-time-expressions" title="3.8.5 Continuous-Time and Non-Discrete-Time Expressions ‣ 3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.8.5</span></a>.
The optional input argument <math id="S5.I1.ix1.p1.m2" class="ltx_Math" alttext="\mathit{clock}" display="inline"><mi>𝑐𝑙𝑜𝑐𝑘</mi></math> is of type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span>, and can in a call be given as a named argument (with the name <math id="S5.I1.ix1.p1.m3" class="ltx_Math" alttext="\mathit{clock}" display="inline"><mi>𝑐𝑙𝑜𝑐𝑘</mi></math>), or as positional argument.
The operator returns a clocked variable that has <math id="S5.I1.ix1.p1.m4" class="ltx_Math" alttext="\mathit{clock}" display="inline"><mi>𝑐𝑙𝑜𝑐𝑘</mi></math> as associated clock and has the value of the left limit of <math id="S5.I1.ix1.p1.m5" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> when <math id="S5.I1.ix1.p1.m6" class="ltx_Math" alttext="\mathit{clock}" display="inline"><mi>𝑐𝑙𝑜𝑐𝑘</mi></math> is active (that is the value of <math id="S5.I1.ix1.p1.m7" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> just before the event of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">c</span> is triggered).
If <math id="S5.I1.ix1.p1.m8" class="ltx_Math" alttext="\mathit{clock}" display="inline"><mi>𝑐𝑙𝑜𝑐𝑘</mi></math> is not provided, it is inferred, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-Clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.5</span></a>.</p>
</div>
<div id="S5.I1.ix1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Since the operator returns the left limit of <math id="S5.I1.ix1.p2.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, it introduces an infinitesimal small delay between the continuous-time and the clocked partition. This corresponds to the reality, where a sampled data system cannot act infinitely fast and even for a very idealized simulation, an infinitesimal small delay is present. The consequences for the sorting are discussed below.</span></p>
</div>
<div id="S5.I1.ix1.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Input argument <math id="S5.I1.ix1.p3.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> can be a general expression, because the argument is continuous-time and therefore has always a value. It can also be a constant, a parameter or a piecewise constant expression.</span></p>
</div>
<div id="S5.I1.ix1.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Note that <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">sample</span> is an overloaded function:
If <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">sample</span> has two positional input arguments and the second argument is of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span>, it is the operator from <a href="operators-and-expressions.html#event-related-operators-with-function-syntax" title="3.7.5 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.7.5</span></a>.
If <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">sample</span> has one input argument, or it has two input arguments and the second argument is of type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">Clock</span>, it is the base-clock conversion operator from this section.</span>]</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:hold" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.8 <span class="ltx_text ltx_font_typewriter">hold
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition8.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,aG9sZCgkdSQp" download="">⬇</a></div>
<div id="lstnumberx4229" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">hold</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4229.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S5.I2.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S5.I2.ix1.p1" class="ltx_para">
<p class="ltx_p">Input argument <math id="S5.I2.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is a clocked (<a href="#def:clocked-variable" title="Definition 16.3. Clocked variable. ‣ 16.2.1 Clocks and Clocked Variables ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">definition</span> <span class="ltx_text ltx_ref_tag">16.3</span></a>) component expression (<a href="#def:component-expression" title="Definition 16.6. Component expression. ‣ 16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">definition</span> <span class="ltx_text ltx_ref_tag">16.6</span></a>) or a parameter expression.
The operator returns a piecewise constant signal of the same type as <math id="S5.I2.ix1.p1.m2" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.
When the clock of <math id="S5.I2.ix1.p1.m3" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> ticks, the operator returns <math id="S5.I2.ix1.p1.m4" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> and otherwise returns the value of <math id="S5.I2.ix1.p1.m5" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> from the last clock activation.
Before the first clock activation of <math id="S5.I2.ix1.p1.m6" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, the operator returns the start value of <math id="S5.I2.ix1.p1.m7" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, see <a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.9</span></a>.</p>
</div>
<div id="S5.I2.ix1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Since the input argument is not defined before the first tick of the clock of <math id="S5.I2.ix1.p2.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, the restriction is present, that it must be a component expression (or a parameter expression), in order that the initial value of <math id="S5.I2.ix1.p2.m2" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> can be used in such a case.</span>]</p>
</div>
</li>
</ul>
</div>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Assume there is the following model:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBSZWFsIHkoc3RhcnQgPSAxKSwgeWM7CmVxdWF0aW9uCiAgZGVyKHkpICsgeSA9IDI7CiAgeWMgPSBzYW1wbGUoeSwgQ2xvY2soMC4xKSk7CmluaXRpYWwgZXF1YXRpb24KICBkZXIoeSkgPSAwOw==" download="">⬇</a></div>
<div id="lstnumberx4230" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yc</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4231" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4232" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2;</span>
</div>
<div id="lstnumberx4233" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(0.1));</span>
</div>
<div id="lstnumberx4234" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">initial</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4235" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0;</span>
</div>
</div>
</div>
<div id="S5.SS1.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The value of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">yc</span> at the first clock tick is <math id="S5.SS1.p3.m1" class="ltx_Math" alttext="{\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame%
\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language\lst@@@set@frame%
\normalsize{\@listingGroup{ltx_lst_identifier}{yc}}}}}}=2" display="inline"><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">𝚢𝚌</mtext><mo mathvariant="normal">=</mo><mn mathvariant="normal">2</mn></mrow></math> (and not <math id="S5.SS1.p3.m2" class="ltx_Math" alttext="{\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame%
\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language\lst@@@set@frame%
\normalsize{\@listingGroup{ltx_lst_identifier}{yc}}}}}}=1" display="inline"><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">𝚢𝚌</mtext><mo mathvariant="normal">=</mo><mn mathvariant="normal">1</mn></mrow></math>). The reason is that the continuous-time model <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_upright" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">y</span>)<span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">y</span><span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>2</span></span> is first initialized and after initialization <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">y</span> has the value 2. At the first clock tick at <math id="S5.SS1.p3.m3" class="ltx_Math" alttext="{\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame%
\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language\lst@@@set@frame%
\normalsize{\@listingGroup{ltx_lst_identifier}{time}}}}}}=0" display="inline"><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">𝚝𝚒𝚖𝚎</mtext><mo mathvariant="normal">=</mo><mn mathvariant="normal">0</mn></mrow></math>, the left limit of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">y</span> is 2 and therefore <math id="S5.SS1.p3.m4" class="ltx_Math" alttext="{\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame%
\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language\lst@@@set@frame%
\normalsize{\@listingGroup{ltx_lst_identifier}{yc}}}}}}=2" display="inline"><mrow><mtext class="ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF">𝚢𝚌</mtext><mo mathvariant="normal">=</mo><mn mathvariant="normal">2</mn></mrow></math>.</span>]</p>
</div>
<section id="S5.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">16.5.1.1 </span>Sorting of a Simulation Model</h4>

<div id="S5.SS1.SSS1.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Since <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span> returns the left limit of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">u</span>, and the left limit of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">u</span> is a known value, all inputs to a base-clock partition are treated as known during sorting.
Since a periodic and interval clock can tick at most once at a time instant, and since the left limit of a variable does not change during event iteration (i.e., re-evaluating a base-clock partition associated with a condition clock always gives the same result because the <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span> inputs do not change and therefore need not to be re-evaluated) all base-clock partitions, see <a href="#base-clock-partitioning" title="16.7.3 Base-Clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.3</span></a>, need not to be sorted with respect to each other.
Instead, at an event instant, active base-clock partitions can be evaluated first (and once) in any order.
Afterwards, the continuous-time partition is evaluated.</span></p>
</div>
<div id="S5.SS1.SSS1.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Event iteration takes place only over the continuous-time partition.
In such a scenario, accessing the left limit of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">u</span> in <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span> just means to pick the latest available value of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">u</span> when the partition is entered, storing it in a local variable of the partition and only using this local copy during evaluation of the equations in this partition.</span>]</p>
</div>
</section>
</section>
<section id="sub-clock-conversion-operators" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.5.2 </span>Sub-Clock Conversion Operators</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p class="ltx_p">The operators listed below convert between synchronous clocks.</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Expression</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Description</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S5.SS2.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">factor</span>)</span></span></td>
<td class="ltx_td ltx_align_left ltx_border_tt">Clock that is slower by a factor</td>
<td class="ltx_td ltx_align_left ltx_border_tt"><a href="#modelica:subSample" title="Operator 16.9 subSample ‣ 16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.9</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S5.SS2.p1.m2" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">factor</span>)</span></span></td>
<td class="ltx_td ltx_align_left">Clock that is faster by a factor</td>
<td class="ltx_td ltx_align_left"><a href="#modelica:superSample" title="Operator 16.10 superSample ‣ 16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.10</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S5.SS2.p1.m3" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">shiftCounter</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">resolution</span>)</span></span></td>
<td class="ltx_td ltx_align_left">Clock with time-shifted ticks</td>
<td class="ltx_td ltx_align_left"><a href="#modelica:shiftSample" title="Operator 16.11 shiftSample ‣ 16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.11</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S5.SS2.p1.m4" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">backCounter</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">resolution</span>)</span></span></td>
<td class="ltx_td ltx_align_left">Inverse of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span>
</td>
<td class="ltx_td ltx_align_left"><a href="#modelica:backSample" title="Operator 16.12 backSample ‣ 16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.12</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">noClock</span><span class="ltx_text ltx_font_typewriter">(<math id="S5.SS2.p1.m5" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span></td>
<td class="ltx_td ltx_align_left ltx_border_b">Clock that is always inferred</td>
<td class="ltx_td ltx_align_left ltx_border_b"><a href="#modelica:noClock" title="Operator 16.13 noClock ‣ 16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.13</span></a></td>
</tr>
</tbody>
</table>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p class="ltx_p">These operators have the following properties:</p>
<ul id="S5.I3" class="ltx_itemize">
<li id="S5.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i1.p1" class="ltx_para">
<p class="ltx_p">The input argument <math id="S5.I3.i1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is a clocked expression or an expression of type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span>. (The operators can operate on all types of clocks.) If <math id="S5.I3.i1.p1.m2" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is a clocked expression, the operator returns a clocked variable that has the same type as the expression. If <math id="S5.I3.i1.p1.m3" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is an expression of type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span>, the operator returns a <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span> – except for <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">noClock</span> where it is an error.</p>
</div>
</li>
<li id="S5.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i2.p1" class="ltx_para">
<p class="ltx_p">The optional input arguments <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">factor</span> (defaults to 0, with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">min</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span>0</span></span>), and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">resolution</span> (defaults to 1, with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">min</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span>1</span></span>) are parameter expressions of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span>.</p>
</div>
</li>
<li id="S5.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i3.p1" class="ltx_para">
<p class="ltx_p">Calls of the operators can use named arguments for the multi-letter arguments (i.e., not for <math id="S5.I3.i3.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>) with the given names, or positional arguments.</p>
</div>
<div id="S5.I3.i3.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Named arguments can make the calls easier to understand.</span>]</p>
</div>
</li>
<li id="S5.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i4.p1" class="ltx_para">
<p class="ltx_p">The input arguments <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">shiftCounter</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">backCounter</span> are parameter expressions of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span> with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">min</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span>0</span></span>.</p>
</div>
</li>
</ul>
</div>
<div id="modelica:subSample" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.9 <span class="ltx_text ltx_font_typewriter">subSample
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition9.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,c3ViU2FtcGxlKCR1JCwgZmFjdG9yPSRcbWF0aGl0e2ZhY3Rvcn0kKQ==" download="">⬇</a></div>
<div id="lstnumberx4236" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4236.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">factor</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4236.m2" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑎𝑐𝑡𝑜𝑟</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S5.I4.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S5.I4.ix1.p1" class="ltx_para">
<p class="ltx_p">The clock of <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">subSample</span>(<math id="S5.I4.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.I4.ix1.p1.m2" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑎𝑐𝑡𝑜𝑟</mi></math>)</span></span> is <math id="S5.I4.ix1.p1.m3" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi>𝑓𝑎𝑐𝑡𝑜𝑟</mi></math> times slower than the clock of <math id="S5.I4.ix1.p1.m4" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.
At every <math id="S5.I4.ix1.p1.m5" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi>𝑓𝑎𝑐𝑡𝑜𝑟</mi></math> ticks of the clock of <math id="S5.I4.ix1.p1.m6" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, the operator returns the value of <math id="S5.I4.ix1.p1.m7" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.
The first activation of the clock of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span> coincides with the first activation of the clock of <math id="S5.I4.ix1.p1.m8" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, and then every activation of the clock of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span> coincides with the every <math id="S5.I4.ix1.p1.m9" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi>𝑓𝑎𝑐𝑡𝑜𝑟</mi></math>th activativation of the clock of <math id="S5.I4.ix1.p1.m10" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.
If <math id="S5.I4.ix1.p1.m11" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi>𝑓𝑎𝑐𝑡𝑜𝑟</mi></math> is not provided or is equal to zero, it is inferred, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-Clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.5</span></a>.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:superSample" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.10 <span class="ltx_text ltx_font_typewriter">superSample
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition10.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,c3VwZXJTYW1wbGUoJHUkLCBmYWN0b3I9JFxtYXRoaXR7ZmFjdG9yfSQp" download="">⬇</a></div>
<div id="lstnumberx4237" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4237.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">factor</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4237.m2" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑎𝑐𝑡𝑜𝑟</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S5.I5.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S5.I5.ix1.p1" class="ltx_para">
<p class="ltx_p">The clock of <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">superSample</span>(<math id="S5.I5.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.I5.ix1.p1.m2" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑎𝑐𝑡𝑜𝑟</mi></math>)</span></span> is <math id="S5.I5.ix1.p1.m3" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi>𝑓𝑎𝑐𝑡𝑜𝑟</mi></math> times faster than the clock of <math id="S5.I5.ix1.p1.m4" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>. At every tick of the clock of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span>, the operator returns the value of <math id="S5.I5.ix1.p1.m5" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> from the last tick of the clock of <math id="S5.I5.ix1.p1.m6" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>. The first activation of the clock of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span> coincides with the first activation of the clock of <math id="S5.I5.ix1.p1.m7" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, and then the interval between activations of the clock of <math id="S5.I5.ix1.p1.m8" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is split equidistantly into <math id="S5.I5.ix1.p1.m9" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi>𝑓𝑎𝑐𝑡𝑜𝑟</mi></math> activations, such that the activation <math id="S5.I5.ix1.p1.m10" class="ltx_Math" alttext="1+k\cdot\mathit{factor}" display="inline"><mrow><mn>1</mn><mo>+</mo><mrow><mi>k</mi><mo>⋅</mo><mi>𝑓𝑎𝑐𝑡𝑜𝑟</mi></mrow></mrow></math> of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span> coincides with the <math id="S5.I5.ix1.p1.m11" class="ltx_Math" alttext="1+k" display="inline"><mrow><mn>1</mn><mo>+</mo><mi>k</mi></mrow></math> activation of <math id="S5.I5.ix1.p1.m12" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.</p>
</div>
<div id="S5.I5.ix1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Thus <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">superSample</span>(<math id="S5.I5.ix1.p2.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.I5.ix1.p2.m2" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑎𝑐𝑡𝑜𝑟</mi></math>),<span class="ltx_text ltx_lst_space"> </span><math id="S5.I5.ix1.p2.m3" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi mathbackground="#FFFFFF">𝑓𝑎𝑐𝑡𝑜𝑟</mi></math>)</span></span> = <math id="S5.I5.ix1.p2.m4" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.</span>]</p>
</div>
<div id="S5.I5.ix1.p3" class="ltx_para">
<p class="ltx_p">If <math id="S5.I5.ix1.p3.m1" class="ltx_Math" alttext="\mathit{factor}" display="inline"><mi>𝑓𝑎𝑐𝑡𝑜𝑟</mi></math> is not provided or is equal to zero, it is inferred, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-Clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.5</span></a>.
If an event clock is associated to a base-clock partition, all its sub-clock partitions must have resulting clocks that are sub-sampled with an <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span> factor with respect to this base-clock.</p>
</div>
<div id="S5.I5.ix1.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2sgdSA9IENsb2NrKHggPiAwKTsKQ2xvY2sgeTEgPSBzdWJTYW1wbGUodSwgNCk7CkNsb2NrIHkyID0gc3VwZXJTYW1wbGUoeTEsIDIpOyAvLyBmaW5lOyB5MiA9IHN1YlNhbXBsZSh1LCAyKQpDbG9jayB5MyA9IHN1cGVyU2FtcGxlKHUsIDIpOyAgLy8gZXJyb3IKQ2xvY2sgeTQgPSBzdXBlclNhbXBsZSh5MSwgNSk7IC8vIGVycm9y" download="">⬇</a></div>
<div id="lstnumberx4238" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4239" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">4);</span>
</div>
<div id="lstnumberx4240" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>fine;<span class="ltx_text ltx_lst_space"> </span>y2<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>subSample(u,<span class="ltx_text ltx_lst_space"> </span>2)</span>
</div>
<div id="lstnumberx4241" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>error</span>
</div>
<div id="lstnumberx4242" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">5);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>error</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:shiftSample" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.11 <span class="ltx_text ltx_font_typewriter">shiftSample
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition11.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,c2hpZnRTYW1wbGUoJHUkLCBzaGlmdENvdW50ZXI9JGskLCByZXNvbHV0aW9uPSRcbWF0aGl0e3Jlc29sdXRpb259JCk=" download="">⬇</a></div>
<div id="lstnumberx4243" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4243.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">shiftCounter</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4243.m2" class="ltx_Math" alttext="k" display="inline"><mi mathbackground="#FFFFFF">k</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">resolution</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4243.m3" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S5.I6.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S5.I6.ix1.p1" class="ltx_para">
<p class="ltx_p">The operator <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">shiftSample</span>(<math id="S5.I6.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.I6.ix1.p1.m2" class="ltx_Math" alttext="k" display="inline"><mi mathbackground="#FFFFFF">k</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.I6.ix1.p1.m3" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math>)</span></span> splits the interval between ticks of <math id="S5.I6.ix1.p1.m4" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> into <math id="S5.I6.ix1.p1.m5" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi>𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math> equidistant intervals <math id="S5.I6.ix1.p1.m6" class="ltx_Math" alttext="i" display="inline"><mi>i</mi></math>. The clock <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">c</span> then ticks <math id="S5.I6.ix1.p1.m7" class="ltx_Math" alttext="k" display="inline"><mi>k</mi></math> intervals <math id="S5.I6.ix1.p1.m8" class="ltx_Math" alttext="i" display="inline"><mi>i</mi></math> after each tick of <math id="S5.I6.ix1.p1.m9" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.</p>
</div>
<div id="S5.I6.ix1.p2" class="ltx_para">
<p class="ltx_p">It leads to</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,c2hpZnRTYW1wbGUoJHUkLCAkayQsICRcbWF0aGl0e3Jlc29sdXRpb259JCkgPQogIHN1YlNhbXBsZShzaGlmdFNhbXBsZShzdXBlclNhbXBsZSgkdSQsICRcbWF0aGl0e3Jlc29sdXRpb259JCksICRrJCksICRcbWF0aGl0e3Jlc29sdXRpb259JCk=" download="">⬇</a></div>
<div id="lstnumberx4244" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4244.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4244.m2" class="ltx_Math" alttext="k" display="inline"><mi mathbackground="#FFFFFF">k</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4244.m3" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4245" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4245.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4245.m2" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math></span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4245.m3" class="ltx_Math" alttext="k" display="inline"><mi mathbackground="#FFFFFF">k</mi></math></span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4245.m4" class="ltx_Math" alttext="\mathit{resolution}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠𝑜𝑙𝑢𝑡𝑖𝑜𝑛</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
</div>
<div id="S5.I6.ix1.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Note, due to the restriction of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">superSample</span> on event clocks, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span> can only shift the number of ticks of the event clock, but cannot introduce new ticks. Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gUmF0aW9uYWwgaW50ZXJ2YWwgY2xvY2sKQ2xvY2sgdSAgPSBDbG9jaygzLCAxMCk7ICAgICAgICAgICAgLy8gdGlja3M6IDAsIDMvMTAsIDYvMTAsICRcbGRvdHMkCkNsb2NrIHkxID0gc2hpZnRTYW1wbGUodSwgMSwgMyk7ICAgIC8vIHRpY2tzOiAxLzEwLCA0LzEwLCAkXGxkb3RzJAovLyBFdmVudCBjbG9jawpJbnRlZ2VyIHJldm9sdXRpb25zID0gaW50ZWdlcih0aW1lKTsKQ2xvY2sgdSA9IENsb2NrKGNoYW5nZShyZXZvbHV0aW9ucyksIHN0YXJ0SW50ZXJ2YWwgPSAwLjApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aWNrczogMC4wLCAxLjAsIDIuMCwgMy4wLCAkXGxkb3RzJApDbG9jayB5MSA9IHNoaWZ0U2FtcGxlKHUsIDIpOyAgICAgICAvLyB0aWNrczogMi4wLCAzLjAsICRcbGRvdHMkCkNsb2NrIHkyID0gc2hpZnRTYW1wbGUodSwgMiwgMyk7ICAgIC8vIGVycm9yIChyZXNvbHV0aW9uIG11c3QgYmUgMSk=" download="">⬇</a></div>
<div id="lstnumberx4246" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Rational<span class="ltx_text ltx_lst_space"> </span>interval<span class="ltx_text ltx_lst_space"> </span>clock</span>
</div>
<div id="lstnumberx4247" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">            </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>3/10,<span class="ltx_text ltx_lst_space"> </span>6/10,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4247.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4248" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>1/10,<span class="ltx_text ltx_lst_space"> </span>4/10,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4248.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4249" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Event<span class="ltx_text ltx_lst_space"> </span>clock</span>
</div>
<div id="lstnumberx4250" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">revolutions</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">integer</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">time</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4251" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">change</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">revolutions</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">startInterval</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0.0);</span>
</div>
<div id="lstnumberx4252" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">                                    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>0.0,<span class="ltx_text ltx_lst_space"> </span>1.0,<span class="ltx_text ltx_lst_space"> </span>2.0,<span class="ltx_text ltx_lst_space"> </span>3.0,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4252.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4253" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">       </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>2.0,<span class="ltx_text ltx_lst_space"> </span>3.0,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4253.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4254" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(resolution<span class="ltx_text ltx_lst_space"> </span>must<span class="ltx_text ltx_lst_space"> </span>be<span class="ltx_text ltx_lst_space"> </span>1)</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Additional example showing the full form:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBJbnRlZ2VyIGludGVydmFsQ250KHN0YXJ0PTIpOwogIEludGVnZXIgY250KHN0YXJ0PTApOwogIENsb2NrIHUgPSBDbG9jayhpbnRlcnZhbENudCwxKTsKICBDbG9jayBzMSA9IHNoaWZ0U2FtcGxlKHUsIDMsIDIpOwplcXVhdGlvbgogICB3aGVuIHUgdGhlbgogICAgIGNudCA9IHByZXZpb3VzKGNudCkgKyAxOwogICAgIGludGVydmFsQ250ID0gaWYgKGNudD49MikgdGhlbiAxIGVsc2UgcHJldmlvdXMoaW50ZXJ2YWxDbnQpOwogICBlbmQgd2hlbjs=" download="">⬇</a></div>
<div id="lstnumberx4255" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">intervalCnt</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_font_typewriter">=2);</span>
</div>
<div id="lstnumberx4256" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">cnt</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_font_typewriter">=0);</span>
</div>
<div id="lstnumberx4257" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">intervalCnt</span><span class="ltx_text ltx_font_typewriter">,1);</span>
</div>
<div id="lstnumberx4258" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">s1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span>
</div>
<div id="lstnumberx4259" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4260" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4261" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">     </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">cnt</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">cnt</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4262" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">     </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">intervalCnt</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">cnt</span><span class="ltx_text ltx_font_typewriter">&gt;=2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">intervalCnt</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4263" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Here <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">u</span> ticks at 0, 2, 3, 4, 5, 6.
First you <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">superSample</span> to split each sampling interval in two equal parts leading to the ticks 0.0, 1.0, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 5.5, 6.0.
Then the simple <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span> removes the first three ticks giving 2.5, 3.0, 3.5, 4.0, 4.5, 5.0, 5.5, 6.0.
And finally every other point is removed by <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">subSample</span>, and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">s1</span> ticks at 2.5, 3.5, 4.5, 5.5.</span>]</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:backSample" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.12 <span class="ltx_text ltx_font_typewriter">backSample
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition12.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YmFja1NhbXBsZSgkdSQsIGJhY2tDb3VudGVyPSRcbWF0aGl0e2NudH0kLCByZXNvbHV0aW9uPSRcbWF0aGl0e3Jlc30kKQ==" download="">⬇</a></div>
<div id="lstnumberx4264" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4264.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">backCounter</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4264.m2" class="ltx_Math" alttext="\mathit{cnt}" display="inline"><mi mathbackground="#FFFFFF">𝑐𝑛𝑡</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">resolution</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4264.m3" class="ltx_Math" alttext="\mathit{res}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S5.I7.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S5.I7.ix1.p1" class="ltx_para">
<p class="ltx_p">The input argument <math id="S5.I7.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is either a component expression (<a href="#def:component-expression" title="Definition 16.6. Component expression. ‣ 16.2.3 Argument Restrictions (Component Expression) ‣ 16.2 Definitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">definition</span> <span class="ltx_text ltx_ref_tag">16.6</span></a>) or an expression of type <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span>.
This is an inverse of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span> such that <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">backSample</span>(<math id="S5.I7.ix1.p1.m2" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.I7.ix1.p1.m3" class="ltx_Math" alttext="\mathit{cnt}" display="inline"><mi mathbackground="#FFFFFF">𝑐𝑛𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.I7.ix1.p1.m4" class="ltx_Math" alttext="\mathit{res}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠</mi></math>)</span></span> implicitly defines a clock <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span> such that <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">y</span>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.I7.ix1.p1.m5" class="ltx_Math" alttext="\mathit{cnt}" display="inline"><mi mathbackground="#FFFFFF">𝑐𝑛𝑡</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S5.I7.ix1.p1.m6" class="ltx_Math" alttext="\mathit{res}" display="inline"><mi mathbackground="#FFFFFF">𝑟𝑒𝑠</mi></math>)</span></span> activates at the same times as <math id="S5.I7.ix1.p1.m7" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.
It is an error if the clock of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span> starts before the base-clock of <math id="S5.I7.ix1.p1.m8" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.</p>
</div>
<div id="S5.I7.ix1.p2" class="ltx_para">
<p class="ltx_p">At every tick of the clock of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span>, the operator returns the value of <math id="S5.I7.ix1.p2.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> from the last tick of the clock of <math id="S5.I7.ix1.p2.m2" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.
If <math id="S5.I7.ix1.p2.m3" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is a clocked component expression, the operator returns the start value of <math id="S5.I7.ix1.p2.m4" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, see <a href="#initialization-of-clocked-partitions" title="16.9 Initialization of Clocked Partitions ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.9</span></a>, before the first tick of the clock of <math id="S5.I7.ix1.p2.m5" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>.</p>
</div>
<div id="S5.I7.ix1.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gUmF0aW9uYWwgaW50ZXJ2YWwgY2xvY2sgMQpDbG9jayB1ICA9IENsb2NrKDMsIDEwKTsgICAgICAgICAgLy8gdGlja3M6IDAsIDMvMTAsIDYvMTAsICRcbGRvdHMkCkNsb2NrIHkxID0gc2hpZnRTYW1wbGUodSwgMyk7ICAgICAvLyB0aWNrczogOS8xMCwgMTIvMTAsICRcbGRvdHMkCkNsb2NrIHkyID0gYmFja1NhbXBsZSh5MSwgMik7ICAgICAvLyB0aWNrczogMy8xMCwgNi8xMCwgJFxsZG90cyQKQ2xvY2sgeTMgPSBiYWNrU2FtcGxlKHkxLCA0KTsgICAgIC8vIGVycm9yICh0aWNrcyBiZWZvcmUgdSkKQ2xvY2sgeTQgPSBzaGlmdFNhbXBsZSh1LCAyLCAzKTsgIC8vIHRpY2tzOiAyLzEwLCA1LzEwLCAkXGxkb3RzJApDbG9jayB5NSA9IGJhY2tTYW1wbGUoeTQsIDEsIDMpOyAgLy8gdGlja3M6IDEvMTAsIDQvMTAsICRcbGRvdHMkCi8vIEV2ZW50IGNsb2NrCkludGVnZXIgcmV2b2x1dGlvbnMgPSBpbnRlZ2VyKHRpbWUpOwpDbG9jayB1ID0gQ2xvY2soY2hhbmdlKHJldm9sdXRpb25zKSwgc3RhcnRJbnRlcnZhbCA9IHh4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGlja3M6IDAsIDEuMCwgMi4wLCAzLjAsICRcbGRvdHMkCkNsb2NrIHkxID0gc2hpZnRTYW1wbGUodSwgMyk7ICAgICAvLyB0aWNrczogMy4wLCA0LjAsICRcbGRvdHMkCkNsb2NrIHkyID0gYmFja1NhbXBsZSh5MSwgMik7ICAgICAvLyB0aWNrczogMS4wLCAyLjAsICRcbGRvdHMk" download="">⬇</a></div>
<div id="lstnumberx4265" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Rational<span class="ltx_text ltx_lst_space"> </span>interval<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>1</span>
</div>
<div id="lstnumberx4266" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">          </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>3/10,<span class="ltx_text ltx_lst_space"> </span>6/10,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4266.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4267" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">     </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>9/10,<span class="ltx_text ltx_lst_space"> </span>12/10,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4267.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4268" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">     </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>3/10,<span class="ltx_text ltx_lst_space"> </span>6/10,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4268.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4269" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">4);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">     </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>error<span class="ltx_text ltx_lst_space"> </span>(ticks<span class="ltx_text ltx_lst_space"> </span>before<span class="ltx_text ltx_lst_space"> </span>u)</span>
</div>
<div id="lstnumberx4270" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y4</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>2/10,<span class="ltx_text ltx_lst_space"> </span>5/10,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4270.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4271" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y5</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y4</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>1/10,<span class="ltx_text ltx_lst_space"> </span>4/10,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4271.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4272" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Event<span class="ltx_text ltx_lst_space"> </span>clock</span>
</div>
<div id="lstnumberx4273" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">revolutions</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">integer</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">time</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4274" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">change</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">revolutions</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">startInterval</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xx</span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
<div id="lstnumberx4275" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">                                  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>0,<span class="ltx_text ltx_lst_space"> </span>1.0,<span class="ltx_text ltx_lst_space"> </span>2.0,<span class="ltx_text ltx_lst_space"> </span>3.0,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4275.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4276" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">     </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>3.0,<span class="ltx_text ltx_lst_space"> </span>4.0,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4276.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4277" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">     </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>ticks:<span class="ltx_text ltx_lst_space"> </span>1.0,<span class="ltx_text ltx_lst_space"> </span>2.0,<span class="ltx_text ltx_lst_space"> </span><math id="lstnumberx4277.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathcolor="#127500" mathvariant="normal">…</mi></math></span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:noClock" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.13 <span class="ltx_text ltx_font_typewriter">noClock
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition13.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bm9DbG9jaygkdSQp" download="">⬇</a></div>
<div id="lstnumberx4278" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">noClock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4278.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S5.I8.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S5.I8.ix1.p1" class="ltx_para">
<p class="ltx_p">The clock of <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">noClock</span>(<math id="S5.I8.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span> is always inferred, and <math id="S5.I8.ix1.p1.m2" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> must be part of the same base-clock as <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span>. At every tick of the clock of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span>, the operator returns the value of <math id="S5.I8.ix1.p1.m3" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> from the last tick of the clock of <math id="S5.I8.ix1.p1.m4" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>. If <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">noClock</span><span class="ltx_text ltx_font_typewriter">(<math id="S5.I8.ix1.p1.m5" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span> is called before the first tick of the clock of <math id="S5.I8.ix1.p1.m6" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math>, the start value of <math id="S5.I8.ix1.p1.m7" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is returned.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="S5.SS2.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Clarification of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">backSample</span>:</span></p>
</div>
<div id="S5.SS2.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Let <math id="S5.SS2.p4.m1" class="ltx_Math" alttext="a" display="inline"><mi>a</mi></math> and <math id="S5.SS2.p4.m2" class="ltx_Math" alttext="b" display="inline"><mi>b</mi></math> be positive integers with <math id="S5.SS2.p4.m3" class="ltx_Math" alttext="a&lt;b" display="inline"><mrow><mi>a</mi><mo mathvariant="normal">&lt;</mo><mi>b</mi></mrow></math>, and</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,eWIgPSBiYWNrU2FtcGxlKHUsICRhJCwgJGIkKQp5cyA9IHNoaWZ0U2FtcGxlKHUsICRiLWEkLCAkYiQp" download="">⬇</a></div>
<div id="lstnumberx4279" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yb</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4279.m1" class="ltx_Math" alttext="a" display="inline"><mi mathbackground="#FFFFFF">a</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4279.m2" class="ltx_Math" alttext="b" display="inline"><mi mathbackground="#FFFFFF">b</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
<div id="lstnumberx4280" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ys</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4280.m1" class="ltx_Math" alttext="b-a" display="inline"><mrow><mi mathbackground="#FFFFFF">b</mi><mo mathbackground="#FFFFFF" mathvariant="normal">-</mo><mi mathbackground="#FFFFFF">a</mi></mrow></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4280.m2" class="ltx_Math" alttext="b" display="inline"><mi mathbackground="#FFFFFF">b</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
</div>
<div id="S5.SS2.p5" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Then when <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">ys</span> exists, also <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">yb</span> exists and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">ys</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">yb</span></span></span>.</span></p>
</div>
<div id="S5.SS2.p6" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The variable <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">yb</span> exists for the above parameterization with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">&lt;<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">b</span></span></span> one clock tick before <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">ys</span>.
Therefore, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">backSample</span> is basically a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span> with a different parameterization and the clock of <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">.<span class="ltx_text ltx_lst_identifier">y</span></span></span> ticks before the clock of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">u</span>.
Before the clock of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">u</span> ticks, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">yb</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">u</span>.<span class="ltx_text ltx_lst_identifier">start</span></span></span>.</span>]</p>
</div>
<div id="S5.SS2.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Clarification of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">noClock</span> operator:</span></p>
</div>
<div id="S5.SS2.p8" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Note, that <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">noClock</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span> is not equivalent to <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter ltx_font_upright" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">(<span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">hold</span>(<span class="ltx_text ltx_lst_identifier">u</span>))</span></span>. Consider the following model:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgTm9DbG9ja1ZzU2FtcGxlSG9sZAogIENsb2NrIGNsazEgPSBDbG9jaygwLjEpOwogIENsb2NrIGNsazIgPSBzdWJTYW1wbGUoY2xrMSwgMik7CiAgUmVhbCB4KHN0YXJ0ID0gMCksIHkoc3RhcnQgPSAwKSwgeihzdGFydCA9IDApOwplcXVhdGlvbgogIHdoZW4gY2xrMSB0aGVuCiAgICB4ID0gcHJldmlvdXMoeCkgKyAwLjE7CiAgZW5kIHdoZW47CiAgd2hlbiBjbGsyIHRoZW4KICAgIHkgPSBub0Nsb2NrKHgpOyAgICAgIC8vIG1vc3QgcmVjZW50IHZhbHVlIG9mIHgKICAgIHogPSBzYW1wbGUoaG9sZCh4KSk7IC8vIGxlZnQgbGltaXQgb2YgeCAoaW5maW5pdGVzaW1hbGx5IGRlbGF5ZWQpIQogIGVuZCB3aGVuOwplbmQgTm9DbG9ja1ZzU2FtcGxlSG9sZDs=" download="">⬇</a></div>
<div id="lstnumberx4281" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">NoClockVsSampleHold</span>
</div>
<div id="lstnumberx4282" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">clk1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(0.1);</span>
</div>
<div id="lstnumberx4283" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">clk2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">clk1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span>
</div>
<div id="lstnumberx4284" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4285" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4286" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">clk1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4287" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0.1;</span>
</div>
<div id="lstnumberx4288" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4289" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">clk2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4290" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">noClock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>most<span class="ltx_text ltx_lst_space"> </span>recent<span class="ltx_text ltx_lst_space"> </span>value<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>x</span>
</div>
<div id="lstnumberx4291" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">hold</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">));</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>left<span class="ltx_text ltx_lst_space"> </span>limit<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>x<span class="ltx_text ltx_lst_space"> </span>(infinitesimally<span class="ltx_text ltx_lst_space"> </span>delayed)!</span>
</div>
<div id="lstnumberx4292" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4293" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">NoClockVsSampleHold</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
</div>
<div id="S5.SS2.p9" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Due to the infinitesimal delay of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">sample</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">z</span> will not show the current value of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">x</span> as <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">clk2</span> ticks, but will show its previous value (left limit). However, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">y</span> will show the current value, since it has no infinitesimal delay.</span>]</p>
</div>
<div id="S5.SS2.p10" class="ltx_para">
<p class="ltx_p">Note that it is not legal to compute the derivative of the <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">sample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">subSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">superSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">backSample</span>,
<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span>, and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">noClock</span> operators.</p>
</div>
</section>
</section>
<section id="clocked-when-clause" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.6 </span>Clocked When-Clause</h2>

<div id="S6.p1" class="ltx_para">
<p class="ltx_p">In addition to the previously discussed <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-equation (see <a href="equations.html#when-equations" title="8.3.5 When-Equations ‣ 8.3 Equations in Equation Sections ‣ Chapter 8 Equations ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">8.3.5</span></a>), a <em class="ltx_emph ltx_font_italic">clocked</em> <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause is introduced:
</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,d2hlbiAkXG1hdGhpdHtjbG9ja0V4cHJlc3Npb259JCB0aGVuCiAgJFxsYW5nbGUkJFxtYm94e1xlbXBoe2Nsb2NrZWQgZXF1YXRpb25zfX0kJFxyYW5nbGUkCiAgJFxsZG90cyQKZW5kIHdoZW47" download="">⬇</a></div>
<div id="lstnumberx4294" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4294.m1" class="ltx_Math" alttext="\mathit{clockExpression}" display="inline"><mi mathbackground="#FFFFFF">𝑐𝑙𝑜𝑐𝑘𝐸𝑥𝑝𝑟𝑒𝑠𝑠𝑖𝑜𝑛</mi></math></span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4295" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4295.m1" class="ltx_Math" alttext="\langle" display="inline"><mo mathbackground="#FFFFFF" mathvariant="normal" stretchy="false">⟨</mo></math></span><span class="ltx_text ltx_markedasmath ltx_font_typewriter"><em class="ltx_emph ltx_font_italic">clocked equations</em></span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4295.m3" class="ltx_Math" alttext="\rangle" display="inline"><mo mathbackground="#FFFFFF" mathvariant="normal" stretchy="false">⟩</mo></math></span>
</div>
<div id="lstnumberx4296" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4296.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math></span>
</div>
<div id="lstnumberx4297" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
</div>
<div id="S6.p2" class="ltx_para">
<p class="ltx_p">The clocked <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause cannot be nested and does not have any <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">elsewhen</span> part. It cannot be used inside an algorithm. General equations are allowed in a clocked <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause.</p>
</div>
<div id="S6.p3" class="ltx_para">
<p class="ltx_p">For a clocked <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause, all equations inside the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause are clocked with the same clock given by the <math id="S6.p3.m1" class="ltx_Math" alttext="\mathit{clockExpression}" display="inline"><mi>𝑐𝑙𝑜𝑐𝑘𝐸𝑥𝑝𝑟𝑒𝑠𝑠𝑖𝑜𝑛</mi></math>.</p>
</div>
</section>
<section id="clock-partitioning" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.7 </span>Clock Partitioning</h2>

<div id="S7.p1" class="ltx_para">
<p class="ltx_p">This section defines how clock-partitions and clocks associated with
equations are inferred.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Typically clock partitioning is performed before sorting the equations. The benefit is that clocking and symbolic transformation errors are separated.</span>]</p>
</div>
<div id="S7.p3" class="ltx_para">
<p class="ltx_p">Every clocked variable is uniquely associated with exactly one clock.</p>
</div>
<div id="S7.p4" class="ltx_para">
<p class="ltx_p">After model flattening, every equation in an equation section, every expression and every algorithm section is either continuous-time, or it is uniquely associated with exactly one clock.
In the latter case it is called a <em class="ltx_emph ltx_font_italic">clocked equation</em>, a <em class="ltx_emph ltx_font_italic">clocked expression</em> or <em class="ltx_emph ltx_font_italic">clocked algorithm</em> section respectively.
The associated clock is either explicitly defined by a <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause, see <a href="#sub-clock-conversion-operators" title="16.5.2 Sub-Clock Conversion Operators ‣ 16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.5.2</span></a>, or it is implicitly defined by the requirement that a clocked equation, a clocked expression and a clocked algorithm section must have the same clock as the variables used in them with exception of the expressions used as first arguments in the conversion operators of <a href="#partitioning-operators" title="16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.5</span></a>.
<em class="ltx_emph ltx_font_italic">Clock inference</em> means to infer the clock of a variable, an equation, an expression or an algorithm section if the clock is not explicitly defined and is deduced from the required properties in the previous two paragraphs.</p>
</div>
<div id="S7.p5" class="ltx_para">
<p class="ltx_p">All variables in an expression without clock conversion operators must
have the same clock to infer the clocks for each variable and
expression. The clock inference works both forward and backwards
regarding the data flow and is also being able to handle algebraic
loops. The clock inference method uses the set of variable incidences of
the equations, i.e., what variables that appear in each equation.</p>
</div>
<div id="S7.p6" class="ltx_para">
<p class="ltx_p">Note that incidences of the first argument of clock conversion operators
of <a href="#partitioning-operators" title="16.5 Partitioning Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.5</span></a> are handled specially.</p>
</div>
<div id="S7.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">As clock partitions are solely determined by the equations, two different clock partitions can have clocks defined by the same expressions.
It is a quality of implementation issue that such partitions are executed synchronously, e.g., by putting them in the same task in a real-time simulation context.</span>]</p>
</div>
<section id="flattening-of-model" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.1 </span>Flattening of Model</h3>

<div id="S7.SS1.p1" class="ltx_para">
<p class="ltx_p">The clock partitioning is conceptually performed after model flattening,
i.e., redeclarations have been elaborated, arrays of model components
expanded into scalar model components, and overloading resolved.
Furthermore, function calls to inline functions have been inlined.</p>
</div>
<div id="S7.SS1.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">This is called <em class="ltx_emph ltx_font_upright">conceptually</em>, because a tool might do this more efficiently in a different way, provided the result is the same as if everything is flattened. For example,
array and matrix equations and records don’t not need to be expanded if they have the same clock.</span>]</p>
</div>
<div id="S7.SS1.p3" class="ltx_para">
<p class="ltx_p">Furthermore, each non-trivial expression (non-literal, non-constant, non-parameter, non-variable), <math id="S7.SS1.p3.m1" class="ltx_Math" alttext="\mathit{expr}_{i}" display="inline"><msub><mi>𝑒𝑥𝑝𝑟</mi><mi>i</mi></msub></math>, appearing as first argument of a clock conversion operator (except <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">hold</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">backSample</span>) is recursively replaced by a unique variable, <math id="S7.SS1.p3.m2" class="ltx_Math" alttext="v_{i}" display="inline"><msub><mi>v</mi><mi>i</mi></msub></math>, and the equation <math id="S7.SS1.p3.m3" class="ltx_Math" alttext="v_{i}=\mathit{expr}_{i}" display="inline"><mrow><msub><mi>v</mi><mi>i</mi></msub><mo>=</mo><msub><mi>𝑒𝑥𝑝𝑟</mi><mi>i</mi></msub></mrow></math> is added to the equation set.</p>
</div>
</section>
<section id="connected-components-of-the-equations-and-variables-graph" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.2 </span>Connected Components of the Equations and Variables Graph</h3>

<div id="S7.SS2.p1" class="ltx_para">
<p class="ltx_p">Consider the set <math id="S7.SS2.p1.m1" class="ltx_Math" alttext="E" display="inline"><mi>E</mi></math> of equations and the set <math id="S7.SS2.p1.m2" class="ltx_Math" alttext="V" display="inline"><mi>V</mi></math> of unknown variables (not constants and parameters) in a flattened model, i.e., <math id="S7.SS2.p1.m3" class="ltx_Math" alttext="M=\left\langle E,\,V\right\rangle" display="inline"><mrow><mi>M</mi><mo>=</mo><mrow><mo>⟨</mo><mi>E</mi><mo rspace="4.2pt">,</mo><mi>V</mi><mo>⟩</mo></mrow></mrow></math>.
The partitioning is described in terms of an undirected graph <math id="S7.SS2.p1.m4" class="ltx_Math" alttext="\left\langle N,\,F\right\rangle" display="inline"><mrow><mo>⟨</mo><mi>N</mi><mo rspace="4.2pt">,</mo><mi>F</mi><mo>⟩</mo></mrow></math> with the nodes <math id="S7.SS2.p1.m5" class="ltx_Math" alttext="N" display="inline"><mi>N</mi></math> being the set of equations and variables, <math id="S7.SS2.p1.m6" class="ltx_Math" alttext="N=E\cup V" display="inline"><mrow><mi>N</mi><mo>=</mo><mrow><mi>E</mi><mo>∪</mo><mi>V</mi></mrow></mrow></math>.
The set <math id="S7.SS2.p1.m7" class="ltx_Math" alttext="\operatorname{incidence}(e)" display="inline"><mrow><mi>incidence</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></mrow></math> for an equation <math id="S7.SS2.p1.m8" class="ltx_Math" alttext="e" display="inline"><mi>e</mi></math> in <math id="S7.SS2.p1.m9" class="ltx_Math" alttext="E" display="inline"><mi>E</mi></math> is a subset of <math id="S7.SS2.p1.m10" class="ltx_Math" alttext="V" display="inline"><mi>V</mi></math>, in general, the unknowns which lexically appear in <math id="S7.SS2.p1.m11" class="ltx_Math" alttext="e" display="inline"><mi>e</mi></math>.
There is an edge in <math id="S7.SS2.p1.m12" class="ltx_Math" alttext="F" display="inline"><mi>F</mi></math> of the graph between an equation, <math id="S7.SS2.p1.m13" class="ltx_Math" alttext="e" display="inline"><mi>e</mi></math>, and a variable, <math id="S7.SS2.p1.m14" class="ltx_Math" alttext="v" display="inline"><mi>v</mi></math>, if <math id="S7.SS2.p1.m15" class="ltx_Math" alttext="v\in\operatorname{incidence}(e)" display="inline"><mrow><mi>v</mi><mo>∈</mo><mrow><mi>incidence</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math>:</p>
<table id="Ex1" class="ltx_equation ltx_eqn_table">

<tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="Ex1.m1" class="ltx_Math" alttext="F=\{(e,v):e\in E,v\in\operatorname{incidence}(e)\}" display="block"><mrow><mi>F</mi><mo>=</mo><mrow><mo stretchy="false">{</mo><mrow><mo stretchy="false">(</mo><mi>e</mi><mo>,</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><mo>:</mo><mrow><mrow><mi>e</mi><mo>∈</mo><mi>E</mi></mrow><mo>,</mo><mrow><mi>v</mi><mo>∈</mo><mrow><mi>incidence</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow><mo stretchy="false">}</mo></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</table>
</div>
<div id="S7.SS2.p2" class="ltx_para">
<p class="ltx_p">A set of clock partitions is the <em class="ltx_emph ltx_font_italic">connected components</em> (Wikipedia,
<em class="ltx_emph ltx_font_italic">Connected components</em>) of this graph with appropriate definition of
the incidence operator.</p>
</div>
<div id="S7.SS2.p3" class="ltx_para">
<p class="ltx_p">A special case is the built-in variable <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">time</span> (see <a href="operators-and-expressions.html#built-in-variable-time" title="3.6.7 Built-in Variable time ‣ 3.6 Miscellaneous Operators and Variables ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.6.7</span></a>).
Each use of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">time</span> is conceptually included as a separate variable in this analysis, <math id="S7.SS2.p3.m1" class="ltx_Math" alttext="\mathit{time}_{i}" display="inline"><msub><mi>𝑡𝑖𝑚𝑒</mi><mi>i</mi></msub></math> with <math id="S7.SS2.p3.m2" class="ltx_Math" alttext="{\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame%
\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language\lst@@@set@frame%
\normalsize{\@listingGroup{ltx_lst_keyword}{\color[rgb]{0.00,0.20,0.47}der}}}}%
}}(\mathit{time}_{i})=1" display="inline"><mrow><mrow><mtext class="ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#003378">𝚍𝚎𝚛</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>𝑡𝑖𝑚𝑒</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow><mo>=</mo><mn>1</mn></mrow></math>.</p>
</div>
<div id="S7.SS2.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">This means that <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">time</span> can be used in different partitions without any restrictions.
Additionally, it means that every partition directly referencing <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">time</span> contains a call to <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">der</span>.</span>]</p>
</div>
</section>
<section id="base-clock-partitioning" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.3 </span>Base-Clock Partitioning</h3>

<div id="S7.SS3.p1" class="ltx_para">
<p class="ltx_p">The goal is to identify all clocked equations and variables that should
be executed together in the same task, as well as to identify the
continuous-time partition.</p>
</div>
<div id="S7.SS3.p2" class="ltx_para">
<p class="ltx_p">The base-clock partitioning is performed with base-clock inference which
uses the following incidence definition:</p>
</div>
<div id="S7.SS3.p3" class="ltx_para">
<p class="ltx_p"><math id="S7.SS3.p3.m1" class="ltx_Math" alttext="\operatorname{incidence}(e)" display="inline"><mrow><mi>incidence</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></mrow></math> =</p>
<ul class="ltx_itemize">
<li id="S7.I1.i1" class="ltx_item" style="list-style-type:none;"> 
<div id="S7.I1.i1.p1" class="ltx_para">
<p class="ltx_p">the <em class="ltx_emph ltx_font_italic">unknown</em> variables, as well as variables <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">x</span> in <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span>, and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span>, which lexically appear in <math id="S7.I1.i1.p1.m1" class="ltx_Math" alttext="e" display="inline"><mi>e</mi></math></p>
<ul class="ltx_itemize">
<li id="S7.I1.i1.I1.i1" class="ltx_item" style="list-style-type:none;"> 
<div id="S7.I1.i1.I1.i1.p1" class="ltx_para">
<p class="ltx_p">except as first argument of base-clock conversion operators: <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">sample</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">hold</span> and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">condition</span>=<math id="S7.I1.i1.I1.i1.p1.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">startInterval</span>=<math id="S7.I1.i1.I1.i1.p1.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span></span>.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="S7.SS3.p4" class="ltx_para">
<p class="ltx_p">The resulting set of connected components, is the partitioning of the equations and variables, <math id="S7.SS3.p4.m1" class="ltx_Math" alttext="B_{i}=\left\langle E_{i},\,V_{i}\right\rangle" display="inline"><mrow><msub><mi>B</mi><mi>i</mi></msub><mo>=</mo><mrow><mo>⟨</mo><msub><mi>E</mi><mi>i</mi></msub><mo rspace="4.2pt">,</mo><msub><mi>V</mi><mi>i</mi></msub><mo>⟩</mo></mrow></mrow></math>, according to base-clocks and continuous-time partitions.</p>
</div>
<div id="S7.SS3.p5" class="ltx_para">
<p class="ltx_p">The base-clock partitions are identified as <em class="ltx_emph ltx_font_italic">clocked</em> or as <em class="ltx_emph ltx_font_italic">continuous-time partitions</em> according to the following properties:</p>
</div>
<div id="S7.SS3.p6" class="ltx_para">
<p class="ltx_p">A variable <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">u</span> in <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>, a variable <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span> in <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">hold</span>(<span class="ltx_text ltx_lst_identifier">ud</span>)</span></span>, and a variable <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">b</span> in <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">b</span>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">startInterval</span>=<math id="S7.SS3.p6.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span></span> where the <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">b</span> is in a continuous-time partition.</p>
</div>
<div id="S7.SS3.p7" class="ltx_para">
<p class="ltx_p">Correspondingly, variables <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">u</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span> in
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">sample</span>(<span class="ltx_text ltx_lst_identifier">uc</span>)</span></span>,
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">subSample</span>(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>,
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">superSample</span>(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>,
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">shiftSample</span>(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>,
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">backSample</span>(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>,
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keywords3" style="color:#543D08;">previous</span>(<span class="ltx_text ltx_lst_identifier">u</span>)</span></span>,
are in a clocked partition.
Equations in a clocked <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause are also in a clocked partition.
Other partitions where none of the variables in the partition are associated with any of the operators above have an unspecified partition kind and are considered continuous-time partitions.</p>
</div>
<div id="S7.SS3.p8" class="ltx_para">
<p class="ltx_p">All continuous-time partitions are collected together and form <em class="ltx_emph ltx_font_italic">the continuous-time partition</em>.</p>
</div>
<div id="S7.SS3.p9" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gQ29udHJvbGxlciAxCnVkMSA9IHNhbXBsZSh5LGMxKTsKMCA9IGYxKHlkMSwgdWQxLCBwcmV2aW91cyh5ZDEpKTsKCi8vIENvbnRyb2xsZXIgMgp1ZDIgPSBzdXBlclNhbXBsZSh5ZDEsMik7CjAgPSBmMih5ZDIsIHVkMik7CgovLyBDb250aW51b3VzLXRpbWUgc3lzdGVtCnUgPSBob2xkKHlkMik7CjAgPSBmMyhkZXIoeDEpLCB4MSwgdSk7CjAgPSBmNChkZXIoeDIpLCB4MiwgeDEpOwowID0gZjUoZGVyKHgzKSwgeDMpOwowID0gZjYoeSwgeDEsIHUpOw==" download="">⬇</a></div>
<div id="lstnumberx4298" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Controller<span class="ltx_text ltx_lst_space"> </span>1</span>
</div>
<div id="lstnumberx4299" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4300" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f1</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd1</span><span class="ltx_text ltx_font_typewriter">));</span>
</div>
<div id="lstnumberx4301" class="ltx_listingline">
</div>
<div id="lstnumberx4302" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Controller<span class="ltx_text ltx_lst_space"> </span>2</span>
</div>
<div id="lstnumberx4303" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd1</span><span class="ltx_text ltx_font_typewriter">,2);</span>
</div>
<div id="lstnumberx4304" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f2</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud2</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4305" class="ltx_listingline">
</div>
<div id="lstnumberx4306" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Continuous-time<span class="ltx_text ltx_lst_space"> </span>system</span>
</div>
<div id="lstnumberx4307" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">hold</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd2</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4308" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f3</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4309" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f4</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x2</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4310" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f5</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x3</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x3</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4311" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f6</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
</div>
</div>
<div id="S7.SS3.p10" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">After base-clock partitioning, the following partitions are identified:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gQmFzZSBwYXJ0aXRpb24gMSAtLSBjbG9ja2VkIHBhcnRpdGlvbgp1ZDEgPSBzYW1wbGUoeSwgYzEpOyAgICAgICAgICAgICAvLyBpbmNpZGVuY2UoZSkgPSB7dWQxfQowID0gZjEoeWQxLCB1ZDEsIHByZXZpb3VzKHVkMSkpOyAvLyBpbmNpZGVuY2UoZSkgPSB7eWQxLCB1ZDF9CnVkMiA9IHN1cGVyU2FtcGxlKHlkMSwgMik7ICAgICAgIC8vIGluY2lkZW5jZShlKSA9IHt1ZDIsIHlkMX0KMCA9IGYyKHlkMiwgdWQyKTsgICAgICAgICAgICAgICAgLy8gaW5jaWRlbmNlKGUpID0ge3lkMiwgdWQyfQoKLy8gQmFzZSBwYXJ0aXRpb24gMiAtLSBjb250aW51b3VzLXRpbWUgcGFydGl0aW9uCnUgPSBob2xkKHlkMik7ICAgICAgICAgICAgICAgICAgIC8vIGluY2lkZW5jZShlKSA9IHt1fQowID0gZjMoZGVyKHgxKSwgeDEsIHUpOyAgICAgICAgICAvLyBpbmNpZGVuY2UoZSkgPSB7eDEsIHV9CjAgPSBmNChkZXIoeDIpLCB4MiwgeDEpOyAgICAgICAgIC8vIGluY2lkZW5jZShlKSA9IHt4MiwgeDF9CjAgPSBmNih5LCB4MSwgdSk7ICAgICAgICAgICAgICAgIC8vIGluY2lkZW5jZShlKSA9IHt5LCB4MSwgdX0KCi8vIElkZW50aWZpZWQgYXMgc2VwYXJhdGUgcGFydGl0aW9uLCBidXQgYmVsb25naW5nIHRvIHBhcnRpdGlvbiAyCjAgPSBmNShkZXIoeDMpLCB4Myk7ICAgICAgICAgICAgIC8vIGluY2lkZW5jZShlKSA9IHt4M30=" download="">⬇</a></div>
<div id="lstnumberx4312" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Base<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>1<span class="ltx_text ltx_lst_space"> </span>–<span class="ltx_text ltx_lst_space"> </span>clocked<span class="ltx_text ltx_lst_space"> </span>partition</span>
</div>
<div id="lstnumberx4313" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">             </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{ud1}</span>
</div>
<div id="lstnumberx4314" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f1</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud1</span><span class="ltx_text ltx_font_typewriter">));</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{yd1,<span class="ltx_text ltx_lst_space"> </span>ud1}</span>
</div>
<div id="lstnumberx4315" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">       </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{ud2,<span class="ltx_text ltx_lst_space"> </span>yd1}</span>
</div>
<div id="lstnumberx4316" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f2</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud2</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">                </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{yd2,<span class="ltx_text ltx_lst_space"> </span>ud2}</span>
</div>
<div id="lstnumberx4317" class="ltx_listingline">
</div>
<div id="lstnumberx4318" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Base<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>–<span class="ltx_text ltx_lst_space"> </span>continuous-time<span class="ltx_text ltx_lst_space"> </span>partition</span>
</div>
<div id="lstnumberx4319" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">hold</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd2</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">                   </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{u}</span>
</div>
<div id="lstnumberx4320" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f3</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">          </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{x1,<span class="ltx_text ltx_lst_space"> </span>u}</span>
</div>
<div id="lstnumberx4321" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f4</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x2</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">         </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{x2,<span class="ltx_text ltx_lst_space"> </span>x1}</span>
</div>
<div id="lstnumberx4322" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f6</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">                </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{y,<span class="ltx_text ltx_lst_space"> </span>x1,<span class="ltx_text ltx_lst_space"> </span>u}</span>
</div>
<div id="lstnumberx4323" class="ltx_listingline">
</div>
<div id="lstnumberx4324" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Identified<span class="ltx_text ltx_lst_space"> </span>as<span class="ltx_text ltx_lst_space"> </span>separate<span class="ltx_text ltx_lst_space"> </span>partition,<span class="ltx_text ltx_lst_space"> </span>but<span class="ltx_text ltx_lst_space"> </span>belonging<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>2</span>
</div>
<div id="lstnumberx4325" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f5</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x3</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x3</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">             </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{x3}</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="sub-clock-partitioning" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.4 </span>Sub-Clock Partitioning</h3>

<div id="S7.SS4.p1" class="ltx_para">
<p class="ltx_p">For each clocked partition B<sub class="ltx_sub">i</sub>, identified in
<a href="#base-clock-partitioning" title="16.7.3 Base-Clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.3</span></a>, the sub-clock partitioning is performed with sub-clock inference
which uses the following incidence definition:</p>
</div>
<div id="S7.SS4.p2" class="ltx_para">
<p class="ltx_p"><math id="S7.SS4.p2.m1" class="ltx_Math" alttext="\operatorname{incidence}(e)" display="inline"><mrow><mi>incidence</mi><mo>⁡</mo><mrow><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">)</mo></mrow></mrow></math> =</p>
<ul class="ltx_itemize">
<li id="S7.I2.i1" class="ltx_item" style="list-style-type:none;"> 
<div id="S7.I2.i1.p1" class="ltx_para">
<p class="ltx_p">the <em class="ltx_emph ltx_font_italic">unknown</em> variables, as well as variables <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">x</span> in <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span>, and <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span>, which lexically appear in <math id="S7.I2.i1.p1.m1" class="ltx_Math" alttext="e" display="inline"><mi>e</mi></math></p>
<ul class="ltx_itemize">
<li id="S7.I2.i1.I1.i1" class="ltx_item" style="list-style-type:none;"> 
<div id="S7.I2.i1.I1.i1.p1" class="ltx_para">
<p class="ltx_p">except as first argument of sub-clock conversion operators: <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">subSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">superSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">backSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">noClock</span>, and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span> with first argument of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> type.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="S7.SS4.p3" class="ltx_para">
<p class="ltx_p">The resulting set of connected components, is the partitioning of the equations and variables, <math id="S7.SS4.p3.m1" class="ltx_Math" alttext="S_{ij}=\left\langle E_{ij},\,V_{ij}\right\rangle" display="inline"><mrow><msub><mi>S</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo>⟨</mo><msub><mi>E</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub><mo rspace="4.2pt">,</mo><msub><mi>V</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub><mo>⟩</mo></mrow></mrow></math>, according to sub-clocks.</p>
</div>
<div id="S7.SS4.p4" class="ltx_para">
<p class="ltx_p">The resulting sets of equations and variables shall be possible to solve separately, meaning that systems of equations cannot involve different sub-clocks.</p>
</div>
<div id="S7.SS4.p5" class="ltx_para">
<p class="ltx_p">It can be noted that:</p>
<table id="Ex2" class="ltx_equationgroup ltx_eqn_table">

<tbody id="Ex2X"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex2X.m2" class="ltx_Math" alttext="\displaystyle E_{ij}\bigcap E_{kl}" display="inline"><mrow><msub><mi>E</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub><mo>⁢</mo><mstyle displaystyle="true"><mrow><mo largeop="true" movablelimits="false" symmetric="true">⋂</mo><msub><mi>E</mi><mrow><mi>k</mi><mo>⁢</mo><mi>l</mi></mrow></msub></mrow></mstyle></mrow></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex2X.m3" class="ltx_Math" alttext="\displaystyle=\emptyset,\,\forall i\neq{}k,j\neq{}l" display="inline"><mrow><mrow><mi></mi><mo>=</mo><mi mathvariant="normal">∅</mi></mrow><mo rspace="4.2pt">,</mo><mrow><mrow><mrow><mo>∀</mo><mi>i</mi></mrow><mo>≠</mo><mi>k</mi></mrow><mo>,</mo><mrow><mi>j</mi><mo>≠</mo><mi>l</mi></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex2Xa"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex2Xa.m2" class="ltx_Math" alttext="\displaystyle V_{ij}\bigcap V_{kl}" display="inline"><mrow><msub><mi>V</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub><mo>⁢</mo><mstyle displaystyle="true"><mrow><mo largeop="true" movablelimits="false" symmetric="true">⋂</mo><msub><mi>V</mi><mrow><mi>k</mi><mo>⁢</mo><mi>l</mi></mrow></msub></mrow></mstyle></mrow></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex2Xa.m3" class="ltx_Math" alttext="\displaystyle=\emptyset,\,\forall i\neq{}k,j\neq{}l" display="inline"><mrow><mrow><mi></mi><mo>=</mo><mi mathvariant="normal">∅</mi></mrow><mo rspace="4.2pt">,</mo><mrow><mrow><mrow><mo>∀</mo><mi>i</mi></mrow><mo>≠</mo><mi>k</mi></mrow><mo>,</mo><mrow><mi>j</mi><mo>≠</mo><mi>l</mi></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex2Xb"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex2Xb.m2" class="ltx_Math" alttext="\displaystyle V" display="inline"><mi>V</mi></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex2Xb.m3" class="ltx_Math" alttext="\displaystyle=\bigcup V_{ij}" display="inline"><mrow><mi></mi><mo>=</mo><mstyle displaystyle="true"><mrow><mo largeop="true" movablelimits="false" symmetric="true">⋃</mo><msub><mi>V</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub></mrow></mstyle></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex2Xc"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex2Xc.m2" class="ltx_Math" alttext="\displaystyle E" display="inline"><mi>E</mi></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex2Xc.m3" class="ltx_Math" alttext="\displaystyle=\bigcup E_{ij}" display="inline"><mrow><mi></mi><mo>=</mo><mstyle displaystyle="true"><mrow><mo largeop="true" movablelimits="false" symmetric="true">⋃</mo><msub><mi>E</mi><mrow><mi>i</mi><mo>⁢</mo><mi>j</mi></mrow></msub></mrow></mstyle></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S7.SS4.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
After sub-clock partitioning of the example from <a href="#base-clock-partitioning" title="16.7.3 Base-Clock Partitioning ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.3</span></a>, the following partitions are identified:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gQmFzZSBwYXJ0aXRpb24gMSAoY2xvY2tlZCBwYXJ0aXRpb24pCi8vIFN1Yi1jbG9jayBwYXJ0aXRpb24gMS4xCnVkMSA9IHNhbXBsZSh5LCBjMSk7ICAgICAgICAgICAgIC8vIGluY2lkZW5jZShlKSA9IHt1ZDF9CjAgPSBmMSh5ZDEsIHVkMSwgcHJldmlvdXMoeWQxKSk7IC8vIGluY2lkZW5jZShlKSA9IHt5ZDEsdWQxfQoKLy8gU3ViLUNsb2NrIHBhcnRpdGlvbiAxLjIKdWQyID0gc3VwZXJTYW1wbGUoeWQxLCAyKTsgICAgICAgLy8gaW5jaWRlbmNlKGUpID0ge3VkMn0KMCA9IGYyKHlkMiwgdWQyKTsgICAgICAgICAgICAgICAgLy8gaW5jaWRlbmNlKGUpID0ge3lkMix1ZDJ9CgovLyBCYXNlIHBhcnRpdGlvbiAyIChubyBzdWItY2xvY2sgcGFydGl0aW9uaW5nLCBzaW5jZSBjb250aW51b3VzLXRpbWUpCnUgPSBob2xkKHlkMik7CjAgPSBmMyhkZXIoeDEpLCB4MSwgdSk7CjAgPSBmNChkZXIoeDIpLCB4MiwgeDEpOwowID0gZjUoZGVyKHgzKSwgeDMpOwowID0gZjYoeSwgeDEsIHUpOw==" download="">⬇</a></div>
<div id="lstnumberx4326" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Base<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>1<span class="ltx_text ltx_lst_space"> </span>(clocked<span class="ltx_text ltx_lst_space"> </span>partition)</span>
</div>
<div id="lstnumberx4327" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Sub-clock<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>1.1</span>
</div>
<div id="lstnumberx4328" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c1</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">             </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{ud1}</span>
</div>
<div id="lstnumberx4329" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f1</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd1</span><span class="ltx_text ltx_font_typewriter">));</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{yd1,ud1}</span>
</div>
<div id="lstnumberx4330" class="ltx_listingline">
</div>
<div id="lstnumberx4331" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Sub-Clock<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>1.2</span>
</div>
<div id="lstnumberx4332" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">       </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{ud2}</span>
</div>
<div id="lstnumberx4333" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f2</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ud2</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">                </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>incidence(e)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>{yd2,ud2}</span>
</div>
<div id="lstnumberx4334" class="ltx_listingline">
</div>
<div id="lstnumberx4335" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Base<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>(no<span class="ltx_text ltx_lst_space"> </span>sub-clock<span class="ltx_text ltx_lst_space"> </span>partitioning,<span class="ltx_text ltx_lst_space"> </span>since<span class="ltx_text ltx_lst_space"> </span>continuous-time)</span>
</div>
<div id="lstnumberx4336" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">hold</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yd2</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4337" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f3</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4338" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f4</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x2</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4339" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f5</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x3</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x3</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4340" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f6</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="sub-clock-inferencing" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.7.5 </span>Sub-Clock Inferencing</h3>

<div id="S7.SS5.p1" class="ltx_para">
<p class="ltx_p">For each base-clock partition, the base interval needs to be determined and for each sub-clock partition, the sub-sampling factors and shift need to be determined.
The sub-clock partition intervals are constrained by <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">subSample</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">superSample</span> factors which might be known (or parameter expression) or unspecified, as well as by <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">shiftCounter</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">resolution</span>, or <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">backSample</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">backCounter</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">resolution</span>.
This constraint set is used to solve for all intervals and sub-sampling factors and shift of the sub-clock partitions.
The model is erroneous if no solution exist.</p>
</div>
<div id="S7.SS5.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">It must be possible to determine that the constraint set is valid at compile time. However, in certain cases, it could be possible to defer providing actual numbers until run-time.</span>]</p>
</div>
<div id="S7.SS5.p3" class="ltx_para">
<p class="ltx_p">It is required that accumulated sub- and supersampling factors in the range of 1 to 2<sup class="ltx_sup">63</sup> can be handled.</p>
</div>
<div id="S7.SS5.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">64 bit internal representation of numerator and denominator with sign can be used and gives minimum resolution <math id="S7.SS5.p4.m1" class="ltx_Math" alttext="1.08\times 10^{-19}" display="inline"><mrow><mn mathvariant="normal">1.08</mn><mo mathvariant="normal">×</mo><msup><mn mathvariant="normal">10</mn><mrow><mo mathvariant="normal">-</mo><mn mathvariant="normal">19</mn></mrow></msup></mrow></math> seconds and maximum range <math id="S7.SS5.p4.m2" class="ltx_Math" alttext="9.22\times 10^{18}" display="inline"><mrow><mn mathvariant="normal">9.22</mn><mo mathvariant="normal">×</mo><msup><mn mathvariant="normal">10</mn><mn mathvariant="normal">18</mn></msup></mrow></math> seconds = <math id="S7.SS5.p4.m3" class="ltx_Math" alttext="2.92\times 10^{11}" display="inline"><mrow><mn mathvariant="normal">2.92</mn><mo mathvariant="normal">×</mo><msup><mn mathvariant="normal">10</mn><mn mathvariant="normal">11</mn></msup></mrow></math> years.</span>]</p>
</div>
</section>
</section>
<section id="clocked-discretized-partition" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.8 </span>Clocked Discretized Partition</h2>

<div id="S8.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The goal is that every continuous-time Modelica model can be utilized in a sampled data control system.
This is achieved by solving the continuous-time equations with a defined integration method between clock ticks.
With this feature, it is for example possible to invert the nonlinear dynamic model of a plant, see <cite class="ltx_cite ltx_citemacro_citet">Thümmel<span class="ltx_text ltx_bib_etal"> et al.</span> (<a href="bib.html#bib7" title="Nonlinear inverse models for control" class="ltx_ref">2005</a>)</cite>, and use it in a feedforward path of an advanced control system that is associated with a clock.</span></p>
</div>
<div id="S8.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">This feature also allows defining multi-rate systems: Different parts of the continuous-time model are associated to different clocks and are solved with different integration
methods between clock ticks, e.g., a very fast sub-system with an implicit solver with a small step-size and a slow sub-system with an explicit solver with a large step-size.</span>]</p>
</div>
<div id="S8.p3" class="ltx_para">
<p class="ltx_p">With the language elements defined in this section, continuous-time
equations can be used in clocked partitions. Hereby, the continuous-time
equations are solved with the defined integration method between clock
ticks.</p>
</div>
<div id="S8.p4" class="ltx_para">
<p class="ltx_p">From the view of the continuous-time partition, the clock ticks are not interpreted as events, but as step-sizes of the integrator that the integrator must exactly hit.
Hence, no event handling is triggered at clock ticks (provided an explicit event is not triggered from the model at this time instant).</p>
</div>
<div id="S8.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The interpretation of the clock ticks is the same assumption as for manually discretized controllers, such as the z-transform.</span>]</p>
</div>
<div id="S8.p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">It is not defined how to handle events that are triggered while solving the continuous-time partition.
For example, a tool could handle events in the same way as for a usual simulation – but only check them at the time associated with clock-ticks.</span></p>
</div>
<div id="S8.p7" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Alternatively, relations might be interpreted literally, so that events are no longer triggered (in order that the time for an integration step is always the same, as needed for hard real-time requirements).
However, even if relations do not generate events, when-clauses and operators <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">edge</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">change</span> should behave as normal.</span>]</p>
</div>
<div id="S8.p8" class="ltx_para">
<p class="ltx_p">From the view of the clocked partition, the continuous-time
partition is discretized and the discretized continuous-time variables
have only a value at a clock tick. Therefore, such a partition is
handled in the same way as any other clocked partition. Especially,
operators such as <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">sample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">hold</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">subSample</span> must be used to communicate
signals of the discretized continuous-time partition with other
partitions. Hereby, a discretized continuous-time partition is seen as a
clocked partition.</p>
</div>
<section id="clocked-discrete-time-and-clocked-discretized-continuous-time-partition" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.8.1 </span>Clocked Discrete-Time and Discretized Continuous-Time</h3>

<div id="S8.SS1.p1" class="ltx_para">
<p class="ltx_p">Additionally to the variability of expressions defined in <a href="operators-and-expressions.html#variability-of-expressions" title="3.8 Variability of Expressions ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.8</span></a>, an orthogonal concept <em class="ltx_emph ltx_font_italic">clocked variability</em> is defined in this section.
If not explicitly stated otherwise, an expression with a variability such as <em class="ltx_emph ltx_font_italic">continuous-time</em> or <em class="ltx_emph ltx_font_italic">discrete-time</em> means that the expression is inside a partition that is not associated to a clock.
If an expression is present in a partition that is not a continuous-time partition, it is a <em class="ltx_emph ltx_font_italic">clocked expression</em> and has <em class="ltx_emph ltx_font_italic">clocked variability</em>.</p>
</div>
<div id="S8.SS1.p2" class="ltx_para">
<p class="ltx_p">After sub-clock inferencing, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-Clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.5</span></a>, every partition that is associated to a clock has to be categorized as <em class="ltx_emph ltx_font_italic">clocked discrete-time</em> or <em class="ltx_emph ltx_font_italic">clocked discretized continuous-time</em> partition.</p>
</div>
<div id="S8.SS1.p3" class="ltx_para">
<p class="ltx_p">If a clocked partition contains no operator <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">der</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">delay</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">spatialDistribution</span>, no event related operators from <a href="operators-and-expressions.html#event-related-operators-with-function-syntax" title="3.7.5 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.7.5</span></a> (with exception of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">noEvent</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">smooth</span>), and no <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clause with a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> condition, it is a <em class="ltx_emph ltx_font_italic">clocked discrete-time</em> partition.</p>
</div>
<div id="S8.SS1.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">That is, the clocked discrete-time partition is a standard sampled data system that is described by difference equations.</span>]</p>
</div>
<div id="S8.SS1.p5" class="ltx_para">
<p class="ltx_p">If a clocked partition is not a <em class="ltx_emph ltx_font_italic">clocked discrete-time</em> partition, it is a <em class="ltx_emph ltx_font_italic">clocked discretized continuous-time</em> partition.
Such a partition has to be solved with a <em class="ltx_emph ltx_font_italic">solver method</em> of <a href="#solver-methods" title="16.8.2 Solver Methods ‣ 16.8 Clocked Discretized Partition ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.8.2</span></a>.
When <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span> is used on a continuous-time state variable <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">x</span>, then <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">x</span>)</span></span> uses the start value of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">x</span> as value for the first clock tick.</p>
</div>
<div id="S8.SS1.p6" class="ltx_para">
<p class="ltx_p">The use of the operator <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">sample</span> from <a href="operators-and-expressions.html#event-related-operators-with-function-syntax" title="3.7.5 Event-Related Operators with Function Syntax ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.7.5</span></a> in a clocked partition is problematic.
A diagnostic is recommended, especially if the operator is intended to generate events faster than the clock ticks, and otherwise the sampling should ideally be adjusted to the clock ticks.</p>
</div>
<div id="S8.SS1.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The reason for not disallowing <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">sample</span> in a clocked partition is to make it possible to include <em class="ltx_emph ltx_font_upright">any</em> continuous-time Modelica model in a sampled data control system.
Note that even if the sampling is slower than the clock ticks (or even the same rate) it still introduces the problem of possibly uneven sampling.</span>]</p>
</div>
<div id="S8.SS1.p8" class="ltx_para">
<p class="ltx_p">In a clocked discrete-time partition all event generating mechanisms do no longer apply.
Especially neither relations, nor any of the built-in operators of <a href="operators-and-expressions.html#event-triggering-mathematical-functions" title="3.7.2 Event Triggering Mathematical Functions ‣ 3.7 Built-in Intrinsic Operators with Function Syntax ‣ Chapter 3 Operators and Expressions ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3.7.2</span></a> (event triggering mathematical functions) will trigger an event.</p>
</div>
</section>
<section id="solver-methods" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.8.2 </span>Solver Methods</h3>

<div id="S8.SS2.p1" class="ltx_para">
<p class="ltx_p">The integration method associated with a clocked discretized continuous-time partition is defined with a string.
A predefined type <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ModelicaServices</span><span class="ltx_text ltx_font_typewriter">.<span class="ltx_text ltx_lst_identifier">Types</span>.<span class="ltx_text ltx_lst_identifier">SolverMethod</span></span></span> defines the methods supported by the respective tool by using the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">choices</span> annotation.</p>
</div>
<div id="S8.SS2.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">ModelicaServices</span> package contains tool specific definitions. A string is used instead of an enumeration, since different tools might have different values and then the
integer mapping of an enumeration is misleading since the same value might characterize different integrators.</span>]</p>
</div>
<div id="S8.SS2.p3" class="ltx_para">
<p class="ltx_p">The following names of solver methods are standardized:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dHlwZSBTb2x2ZXJNZXRob2QgPSBTdHJpbmcgYW5ub3RhdGlvbihjaG9pY2VzKAogIGNob2ljZT0iRXh0ZXJuYWwiICJTb2x2ZXIgc3BlY2lmaWVkIGV4dGVybmFsbHkiLAogIGNob2ljZT0iRXhwbGljaXRFdWxlciIgIkV4cGxpY2l0IEV1bGVyIG1ldGhvZCAob3JkZXIgMSkiLAogIGNob2ljZT0iRXhwbGljaXRNaWRQb2ludDIiICJFeHBsaWNpdCBtaWQgcG9pbnQgcnVsZSAob3JkZXIgMikiLAogIGNob2ljZT0iRXhwbGljaXRSdW5nZUt1dHRhNCIgIkV4cGxpY2l0IFJ1bmdlLUt1dHRhIG1ldGhvZCAob3JkZXIgNCkiLAogIGNob2ljZT0iSW1wbGljaXRFdWxlciIgIkltcGxpY2l0IEV1bGVyIG1ldGhvZCAob3JkZXIgMSkiLAogIGNob2ljZT0iSW1wbGljaXRUcmFwZXpvaWQiICJJbXBsaWNpdCB0cmFwZXpvaWQgcnVsZSAob3JkZXIgMikiCikpICJUeXBlIG9mIGludGVncmF0aW9uIG1ldGhvZCB0byBzb2x2ZSBkaWZmZXJlbnRpYWwgZXF1YXRpb25zIGluIGEgY2xvY2tlZCAiICsKICAgImRpc2NyZXRpemVkIGNvbnRpbnVvdXMtdGltZSBwYXJ0aXRpb24uIg==" download="">⬇</a></div>
<div id="lstnumberx4341" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">type</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">SolverMethod</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">String</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">annotation</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">choices</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4342" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">choice</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"External"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Solver<span class="ltx_text ltx_lst_space"> </span>specified<span class="ltx_text ltx_lst_space"> </span>externally"</span><span class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx4343" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">choice</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ExplicitEuler"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Explicit<span class="ltx_text ltx_lst_space"> </span>Euler<span class="ltx_text ltx_lst_space"> </span>method<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>1)"</span><span class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx4344" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">choice</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ExplicitMidPoint2"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Explicit<span class="ltx_text ltx_lst_space"> </span>mid<span class="ltx_text ltx_lst_space"> </span>point<span class="ltx_text ltx_lst_space"> </span>rule<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>2)"</span><span class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx4345" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">choice</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ExplicitRungeKutta4"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Explicit<span class="ltx_text ltx_lst_space"> </span>Runge-Kutta<span class="ltx_text ltx_lst_space"> </span>method<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>4)"</span><span class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx4346" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">choice</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ImplicitEuler"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Implicit<span class="ltx_text ltx_lst_space"> </span>Euler<span class="ltx_text ltx_lst_space"> </span>method<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>1)"</span><span class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx4347" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">choice</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ImplicitTrapezoid"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Implicit<span class="ltx_text ltx_lst_space"> </span>trapezoid<span class="ltx_text ltx_lst_space"> </span>rule<span class="ltx_text ltx_lst_space"> </span>(order<span class="ltx_text ltx_lst_space"> </span>2)"</span>
</div>
<div id="lstnumberx4348" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter">))</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Type<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>integration<span class="ltx_text ltx_lst_space"> </span>method<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>solve<span class="ltx_text ltx_lst_space"> </span>differential<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>clocked<span class="ltx_text ltx_lst_space"> </span>"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span>
</div>
<div id="lstnumberx4349" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"discretized<span class="ltx_text ltx_lst_space"> </span>continuous-time<span class="ltx_text ltx_lst_space"> </span>partition."</span>
</div>
</div>
</div>
<div id="S8.SS2.p4" class="ltx_para">
<p class="ltx_p">If a tool supports one of the integrators of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">SolverMethod</span>, it must use the solver method name of above.</p>
</div>
<div id="S8.SS2.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">A tool may also support other integrators.
Typically, a tool supports at least methods <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#000000;background-color:#FFFFFF;">"External"</span> and <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#000000;background-color:#FFFFFF;">"ExplicitEuler"</span>.
If a tool does not support the integration method defined in a model, typically a warning message is printed and the method is changed to <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#000000;background-color:#FFFFFF;">"External"</span>.</span>]</p>
</div>
<div id="S8.SS2.p6" class="ltx_para">
<p class="ltx_p">If the solver method is <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter" style="color:#000000;background-color:#FFFFFF;">"External"</span>, then the partition associated with this method is integrated by the simulation environment for an interval of length of
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">()</span></span> using a solution method defined in the simulation environment.</p>
</div>
<div id="S8.SS2.p7" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">An example of such a solution method could be to have a table of the clocks that are associated with discretized continuous-time partitions and a method selection per clock. In such
a case, the solution method might be a variable step solver with step-size control that integrates between two clock ticks. The simulation environment might also combine all partitions associated with method <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#000000;background-color:#FFFFFF;">"External"</span>, as well as all continuous-time partitions, and integrate them together with the solver selected by the simulation environment.</span>]</p>
</div>
<div id="S8.SS2.p8" class="ltx_para">
<p class="ltx_p">If the solver method is <em class="ltx_emph ltx_font_italic">not</em> <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter" style="color:#000000;background-color:#FFFFFF;">"External"</span>, then the partition is
integrated using the given method with the step-size <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">()</span></span>.</p>
</div>
<div id="S8.SS2.p9" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">For a periodic clock, the integration is thus performed with fixed step size.</span>]</p>
</div>
<div id="S8.SS2.p10" class="ltx_para">
<p class="ltx_p">The solvers are defined with respect to the underlying ordinary
differential equation in state space form to which the continuous-time
partition can be transformed, at least conceptually (<math id="S8.SS2.p10.m1" class="ltx_Math" alttext="t" display="inline"><mi>t</mi></math> is time,
<math id="S8.SS2.p10.m2" class="ltx_Math" alttext="u_{c}(t)" display="inline"><mrow><msub><mi>u</mi><mi>c</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math> is the continuous-time <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span> vector
of input variables, <math id="S8.SS2.p10.m3" class="ltx_Math" alttext="u_{d}(t)" display="inline"><mrow><msub><mi>u</mi><mi>d</mi></msub><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math> is the
discrete-time <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>/<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span>/<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span>/<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">String</span> vector of input variables,
<math id="S8.SS2.p10.m4" class="ltx_Math" alttext="x(t)" display="inline"><mrow><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math> is the continuous-time real vector of states, and
<math id="S8.SS2.p10.m5" class="ltx_Math" alttext="y(t)" display="inline"><mrow><mi>y</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math> is the continuous-time or discrete-time
<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>/<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span>/<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span>/<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">String</span> vector of algebraic and/or output variables):</p>
<table id="A4.S15.EGx5" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex3.m1" class="ltx_Math" alttext="\displaystyle\dot{x}" display="inline"><mover accent="true"><mi>x</mi><mo>˙</mo></mover></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex3.m2" class="ltx_Math" alttext="\displaystyle=f(x,u,t)" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>u</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="Ex4.m1" class="ltx_Math" alttext="\displaystyle y" display="inline"><mi>y</mi></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="Ex4.m2" class="ltx_Math" alttext="\displaystyle=g(x,u,t)" display="inline"><mrow><mi></mi><mo>=</mo><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>,</mo><mi>u</mi><mo>,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S8.SS2.p11" class="ltx_para">
<p class="ltx_p">A solver method is applied to a sub-clock partition.
Such a partition has explicit inputs <math id="S8.SS2.p11.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> marked by <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m2" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m3" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m4" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m5" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span> and/or <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m6" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span>.
Furthermore, the outputs <math id="S8.SS2.p11.m7" class="ltx_Math" alttext="y" display="inline"><mi>y</mi></math> of such a partition are marked by <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">hold</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m8" class="ltx_Math" alttext="y" display="inline"><mi mathbackground="#FFFFFF">y</mi></math>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m9" class="ltx_Math" alttext="y" display="inline"><mi mathbackground="#FFFFFF">y</mi></math>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m10" class="ltx_Math" alttext="y" display="inline"><mi mathbackground="#FFFFFF">y</mi></math>)</span></span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">shiftSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m11" class="ltx_Math" alttext="y" display="inline"><mi mathbackground="#FFFFFF">y</mi></math>)</span></span>, and/or <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">backSample</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS2.p11.m12" class="ltx_Math" alttext="y" display="inline"><mi mathbackground="#FFFFFF">y</mi></math>)</span></span>.
The arguments of these operators are to be used as input signals <math id="S8.SS2.p11.m13" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> and output signals <math id="S8.SS2.p11.m14" class="ltx_Math" alttext="y" display="inline"><mi>y</mi></math> in the conceptual ordinary differential equation above, and in the discretization formulae below, respectively.</p>
</div>
<div id="S8.SS2.p12" class="ltx_para">
<p class="ltx_p">The solver methods (with exception of <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter" style="color:#000000;background-color:#FFFFFF;">"External"</span>) are defined by
integrating from clock tick <math id="S8.SS2.p12.m1" class="ltx_Math" alttext="t_{i-1}" display="inline"><msub><mi>t</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></math> to clock tick
<math id="S8.SS2.p12.m2" class="ltx_Math" alttext="t_{i}" display="inline"><msub><mi>t</mi><mi>i</mi></msub></math> and computing the desired variables at
<math id="S8.SS2.p12.m3" class="ltx_Math" alttext="t_{i}" display="inline"><msub><mi>t</mi><mi>i</mi></msub></math>, with <math id="S8.SS2.p12.m4" class="ltx_Math" alttext="{h=t_{i}-t_{i-1}=\text{\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_keywords3}{\color[rgb]{%
0.33,0.24,0.03}interval}}}}}}(u)" display="inline"><mrow><mi>h</mi><mo>=</mo><mrow><msub><mi>t</mi><mi>i</mi></msub><mo>-</mo><msub><mi>t</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow><mo>=</mo><mrow><mtext class="ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#543D08">𝚒𝚗𝚝𝚎𝚛𝚟𝚊𝚕</mtext><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mi>u</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math> and
<math id="S8.SS2.p12.m5" class="ltx_Math" alttext="x_{i}=x(t_{i})" display="inline"><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>=</mo><mrow><mi>x</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></math> (for all methods: <math id="S8.SS2.p12.m6" class="ltx_Math" alttext="y_{i}=g(x_{i},u_{c,i},u_{d,i},t_{i})" display="inline"><mrow><msub><mi>y</mi><mi>i</mi></msub><mo>=</mo><mrow><mi>g</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></math>):</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">SolverMethod</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Solution method</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter" style="color:#000000;background-color:#FFFFFF;">"ExplicitEuler"</span></th>
<td class="ltx_td ltx_align_left ltx_border_tt"><math id="S8.SS2.p12.m7" class="ltx_Math" alttext="\begin{aligned} x_{i}&amp;:=x_{i-1}+h\cdot\dot{x}_{i-1}\\
\dot{x}_{i}&amp;:=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mi>h</mi><mo>⋅</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter" style="color:#000000;background-color:#FFFFFF;">"ExplicitMidPoint2"</span></th>
<td class="ltx_td ltx_align_left ltx_border_t"><math id="S8.SS2.p12.m8" class="ltx_Math" alttext="\begin{aligned} x_{i}&amp;:=x_{i-1}+h\cdot f(x_{i-1}+\frac{1}{2}\cdot h\cdot\dot{x%
}_{i-1},\frac{u_{c,i-1}+u_{c,i}}{2},u_{d,i-1},t_{i-1}+\tfrac{1}{2}\cdot h)\\
\dot{x}_{i}&amp;:=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mrow><mi>h</mi><mo>⋅</mo><mi>f</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mstyle displaystyle="true"><mfrac><mn>1</mn><mn>2</mn></mfrac></mstyle><mo>⋅</mo><mi>h</mi><mo>⋅</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></mrow><mo>,</mo><mstyle displaystyle="true"><mfrac><mrow><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>+</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub></mrow><mn>2</mn></mfrac></mstyle><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>,</mo><mrow><msub><mi>t</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⋅</mo><mi>h</mi></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter" style="color:#000000;background-color:#FFFFFF;">"ExplicitRungeKutta4"</span></th>
<td class="ltx_td ltx_align_left ltx_border_t"><math id="S8.SS2.p12.m9" class="ltx_Math" alttext="\begin{aligned} k_{1}&amp;:=h\cdot\dot{x}_{i-1}\\
k_{2}&amp;:=h\cdot f(x_{i-1}+\tfrac{1}{2}k_{1},\frac{u_{c,i-1}+u_{c,i}}{2},u_{d,i-%
1},t_{i-1}+\tfrac{1}{2}\cdot h)\\
k_{3}&amp;:=h\cdot f(x_{i-1}+\tfrac{1}{2}k_{2},\frac{u_{c,i-1}+u_{c,i}}{2},u_{d,i-%
1},t_{i-1}+\tfrac{1}{2}\cdot h)\\
k_{4}&amp;:=h\cdot f(x_{i-1}+k_{3},u_{c,i},u_{d,i},t_{i})\\
x_{i}&amp;:=x_{i-1}+\tfrac{1}{6}\cdot(k_{1}+2\cdot k_{2}+2\cdot k_{3}+k_{4})\\
\dot{x}_{i}&amp;:=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>k</mi><mn>1</mn></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mi>h</mi><mo>⋅</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mi>k</mi><mn>2</mn></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mrow><mi>h</mi><mo>⋅</mo><mi>f</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⁢</mo><msub><mi>k</mi><mn>1</mn></msub></mrow></mrow><mo>,</mo><mstyle displaystyle="true"><mfrac><mrow><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>+</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub></mrow><mn>2</mn></mfrac></mstyle><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>,</mo><mrow><msub><mi>t</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⋅</mo><mi>h</mi></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mi>k</mi><mn>3</mn></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mrow><mi>h</mi><mo>⋅</mo><mi>f</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⁢</mo><msub><mi>k</mi><mn>2</mn></msub></mrow></mrow><mo>,</mo><mstyle displaystyle="true"><mfrac><mrow><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>+</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub></mrow><mn>2</mn></mfrac></mstyle><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></mrow></msub><mo>,</mo><mrow><msub><mi>t</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⋅</mo><mi>h</mi></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mi>k</mi><mn>4</mn></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mrow><mi>h</mi><mo>⋅</mo><mi>f</mi></mrow><mo>⁢</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>k</mi><mn>3</mn></msub></mrow><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mfrac><mn>1</mn><mn>6</mn></mfrac><mo>⋅</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mi>k</mi><mn>1</mn></msub><mo>+</mo><mrow><mn>2</mn><mo>⋅</mo><msub><mi>k</mi><mn>2</mn></msub></mrow><mo>+</mo><mrow><mn>2</mn><mo>⋅</mo><msub><mi>k</mi><mn>3</mn></msub></mrow><mo>+</mo><msub><mi>k</mi><mn>4</mn></msub></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>:=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_align_middle ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter" style="color:#000000;background-color:#FFFFFF;">"ImplicitEuler"</span></th>
<td class="ltx_td ltx_align_left ltx_border_t">Equation system with unknowns: <math id="S8.SS2.p12.m10" class="ltx_Math" alttext="x_{i}" display="inline"><msub><mi>x</mi><mi>i</mi></msub></math>, <math id="S8.SS2.p12.m11" class="ltx_Math" alttext="\dot{x}_{i}" display="inline"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></math>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left"><math id="S8.SS2.p12.m12" class="ltx_Math" alttext="\begin{aligned} x_{i}&amp;=x_{i-1}+h\cdot\dot{x}_{i}\\
\dot{x}_{i}&amp;=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>=</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mi>h</mi><mo>⋅</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_align_middle ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t" rowspan="2"><span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter" style="color:#000000;background-color:#FFFFFF;">"ImplicitTrapezoid"</span></th>
<td class="ltx_td ltx_align_left ltx_border_t">Equation system with unknowns: <math id="S8.SS2.p12.m13" class="ltx_Math" alttext="x_{i}" display="inline"><msub><mi>x</mi><mi>i</mi></msub></math>, <math id="S8.SS2.p12.m14" class="ltx_Math" alttext="\dot{x}_{i}" display="inline"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></math>
</td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b"><math id="S8.SS2.p12.m15" class="ltx_Math" alttext="\begin{aligned} x_{i}&amp;=x_{i-1}+\tfrac{1}{2}h\cdot(\dot{x}_{i}+\dot{x}_{i-1})\\
\dot{x}_{i}&amp;=f(x_{i},u_{c,i},u_{d,i},t_{i})\end{aligned}" display="inline"><mtable columnspacing="0pt" rowspacing="0pt"><mtr><mtd columnalign="right"><msub><mi>x</mi><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>=</mo><mrow><msub><mi>x</mi><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub><mo>+</mo><mrow><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>⁢</mo><mi>h</mi></mrow><mo>⋅</mo><mrow><mo stretchy="false">(</mo><mrow><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub><mo>+</mo><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mrow><mi>i</mi><mo>-</mo><mn>1</mn></mrow></msub></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></mrow></mtd></mtr><mtr><mtd columnalign="right"><msub><mover accent="true"><mi>x</mi><mo>˙</mo></mover><mi>i</mi></msub></mtd><mtd columnalign="left"><mrow><mi></mi><mo>=</mo><mrow><mi>f</mi><mo>⁢</mo><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>c</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>u</mi><mrow><mi>d</mi><mo>,</mo><mi>i</mi></mrow></msub><mo>,</mo><msub><mi>t</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mrow></mrow></mtd></mtr></mtable></math></td>
</tr>
</tbody>
</table>
</div>
<div id="S8.SS2.p13" class="ltx_para">
<p class="ltx_p">The initial conditions will be used at the first tick of the clock, and
the first integration step will go from the first to the second tick of
the clock.</p>
</div>
<div id="S8.SS2.p14" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
Assume the differential equation</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBpbnB1dCBSZWFsIHU7CiAgUmVhbCB4KHN0YXJ0ID0gMSwgZml4ZWQgPSB0cnVlKTsKZXF1YXRpb24KICBkZXIoeCkgPSAteCArIHU7" download="">⬇</a></div>
<div id="lstnumberx4350" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4351" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fixed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4352" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4353" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">shall be transformed to a clocked discretized continuous-time partition with the <span class="ltx_text ltx_lst_language_modelica_short ltx_lst_string ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#000000;background-color:#FFFFFF;">"ExplicitEuler"</span> method. The following model is a manual implementation:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBpbnB1dCBSZWFsIHU7CiAgcGFyYW1ldGVyIFJlYWwgeF9zdGFydCA9IDE7CiAgUmVhbCB4KHN0YXJ0ID0geF9zdGFydCk7IC8vIHByZXZpb3VzKHgpID0geF9zdGFydCBhdCBmaXJzdCBjbG9jayB0aWNrCiAgUmVhbCBkZXJfeChzdGFydCA9IDApOyAgIC8vIHByZXZpb3VzKGRlcl94KSA9IDAgYXQgZmlyc3QgY2xvY2sgdGljawpwcm90ZWN0ZWQKICBCb29sZWFuIGZpcnN0KHN0YXJ0ID0gdHJ1ZSk7CmVxdWF0aW9uCiAgd2hlbiBDbG9jaygpIHRoZW4KICAgIGZpcnN0ID0gZmFsc2U7CiAgICBpZiBwcmV2aW91cyhmaXJzdCkgdGhlbgogICAgICAvLyBmaXJzdCBjbG9jayB0aWNrIChpbml0aWFsaXplIHN5c3RlbSkKICAgICAgeCA9IHByZXZpb3VzICh4KTsKICAgIGVsc2UKICAgICAgLy8gc2Vjb25kIGFuZCBmdXJ0aGVyIGNsb2NrIHRpY2sKICAgICAgeCA9IHByZXZpb3VzKHgpICsgaW50ZXJ2YWwoKSAqIHByZXZpb3VzKGRlcl94KTsKICAgIGVuZCBpZjsKICAgIGRlcl94ID0gLXggKyB1OwogIGVuZCB3aGVuOw==" download="">⬇</a></div>
<div id="lstnumberx4354" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4355" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x_start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4356" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x_start</span><span class="ltx_text ltx_font_typewriter">);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>previous(x)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>x_start<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick</span>
</div>
<div id="lstnumberx4357" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">der_x</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>previous(der_x)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>0<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick</span>
</div>
<div id="lstnumberx4358" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">protected</span>
</div>
<div id="lstnumberx4359" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">first</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4360" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4361" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4362" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">first</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4363" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">first</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4364" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>first<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick<span class="ltx_text ltx_lst_space"> </span>(initialize<span class="ltx_text ltx_lst_space"> </span>system)</span>
</div>
<div id="lstnumberx4365" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4366" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx4367" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>second<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>further<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick</span>
</div>
<div id="lstnumberx4368" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">der_x</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4369" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4370" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">der_x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4371" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S8.SS2.p15" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">For the implicit integration methods the efficiency can be enhanced by utilizing the discretization formula during the symbolic transformation of the equations.
For example, linear differential equations are then mapped to linear and not non-linear algebraic equation systems, and also the structure of the equations can be utilized.
For details see <cite class="ltx_cite ltx_citemacro_citet">Elmqvist<span class="ltx_text ltx_bib_etal"> et al.</span> (<a href="bib.html#bib4" title="Inline integration: a new mixed symbolic/numeric approach for solving differential-algebraic equation systems" class="ltx_ref">1995</a>)</cite>.
It might be necessary to associate additional data for an implicit integration method, e.g., the relative tolerance to solve the non-linear algebraic equation systems, or the maximum number of iterations in case of hard realtime requirements.
This data is tool specific and is typically either defined with a vendor annotation or is given in the simulation environment.</span>]</p>
</div>
</section>
<section id="associating-a-solver-to-a-partition" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.8.3 </span>Associating a Solver to a Partition</h3>

<div id="S8.SS3.p1" class="ltx_para">
<p class="ltx_p">A <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">SolverMethod</span> can be associated to a clock with the overloaded <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Clock</span> constructor <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(<math id="S8.SS3.p1.m1" class="ltx_Math" alttext="c" display="inline"><mi mathbackground="#FFFFFF">c</mi></math>,<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">solverMethod</span>=<math id="S8.SS3.p1.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">…</mi></math>)</span></span>, see <a href="#clock-constructors" title="16.3 Clock Constructors ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.3</span></a>.
If a clock is associated with a clocked partition and a <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">SolverMethod</span> is associated with this clock, then the partition is integrated with it.</p>
</div>
<div id="S8.SS3.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Ly8gQ29udGludW91cyBQSSBjb250cm9sbGVyIGluIGEgY2xvY2tlZCBwYXJ0aXRpb24KdmQgPSBzYW1wbGUoeDIsIENsb2NrKENsb2NrKDEsIDEwKSwgc29sdmVyTWV0aG9kPSJJbXBsaWNpdEV1bGVyIikpOwplID0gcmVmIC0gdmQ7CmRlcih4ZCkgPSBlIC8gVGk7CnUgPSBrICogKGUgKyB4ZCk7CgovLyBQaHlzaWNhbCBtb2RlbApmID0gaG9sZCh1KTsKZGVyKHgxKSA9IHgyOwptICogZGVyKHgyKSA9IGY7" download="">⬇</a></div>
<div id="lstnumberx4372" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>a<span class="ltx_text ltx_lst_space"> </span>clocked<span class="ltx_text ltx_lst_space"> </span>partition</span>
</div>
<div id="lstnumberx4373" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">vd</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">solverMethod</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ImplicitEuler"</span><span class="ltx_text ltx_font_typewriter">));</span>
</div>
<div id="lstnumberx4374" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">e</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ref</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">vd</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4375" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xd</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">e</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">/</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Ti</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4376" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">k</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">e</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xd</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4377" class="ltx_listingline">
</div>
<div id="lstnumberx4378" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Physical<span class="ltx_text ltx_lst_space"> </span>model</span>
</div>
<div id="lstnumberx4379" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">hold</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4380" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x1</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x2</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4381" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">m</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x2</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">f</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="inferencing-of-solvermethod" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">16.8.4 </span>Inferencing of solverMethod</h3>

<div id="S8.SS4.p1" class="ltx_para">
<p class="ltx_p">If a <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">solverMethod</span> is not explicitly associated with a partition, it is inferred with a similar mechanism as for sub-clock inferencing, see <a href="#sub-clock-inferencing" title="16.7.5 Sub-Clock Inferencing ‣ 16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7.5</span></a>.</p>
</div>
<div id="S8.SS4.p2" class="ltx_para">
<p class="ltx_p">First, one set is constructed for each sub-clock partition, containing just this sub-clock partition.
These sets are then merged as follows:
For each set without a specified <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">solverMethod</span>, the set is merged with sets connected to it (these may contain a <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">solverMethod</span>), and this is repeated until it is not possible to merge more sets.
The sets connected in this way should be part of the same base-clock partition and connected through a sub-clock conversion operator (<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">subSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">superSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">shiftSample</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">backSample</span>, or <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">noClock</span>).</p>
</div>
<div id="S8.SS4.p3" class="ltx_para">
<ul id="S8.I1" class="ltx_itemize">
<li id="S8.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S8.I1.i1.p1" class="ltx_para">
<p class="ltx_p">It is an error if this set contains multiple different values for <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">solverMethod</span>.</p>
</div>
</li>
<li id="S8.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S8.I1.i2.p1" class="ltx_para">
<p class="ltx_p">If the set contains continuous-time equations:</p>
<ul id="S8.I1.i2.I1" class="ltx_itemize">
<li id="S8.I1.i2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">–</span></span> 
<div id="S8.I1.i2.I1.i1.p1" class="ltx_para">
<p class="ltx_p">It is an error if this set contains no <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">solverMethod</span>.</p>
</div>
</li>
<li id="S8.I1.i2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold">–</span></span> 
<div id="S8.I1.i2.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Otherwise, the specified <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">solverMethod</span> is used.</p>
</div>
</li>
</ul>
</div>
</li>
<li id="S8.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S8.I1.i3.p1" class="ltx_para">
<p class="ltx_p">If the set does not contain continuous-time equations, there is no need for a <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">solverMethod</span>.</p>
</div>
</li>
</ul>
</div>
<div id="S8.SS4.p4" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgSW5mZXJlbmNlVGVzdAogIFJlYWwgeChzdGFydCA9IDMpICJFeHBsaWNpdGx5IHVzaW5nIEV4cGxpY2l0RXVsZXIiOwogIFJlYWwgeSAiRXhwbGljaXRseSB1c2luZyBJbXBsaWNpdEV1bGVyIG1ldGhvZCI7CiAgUmVhbCB6ICJJbmZlcnJlZCB0byB1c2UgRXhwbGljaXRFdWxlciI7CmVxdWF0aW9uCiAgZGVyKHgpID0gLXggKyBzYW1wbGUoMSwgQ2xvY2soQ2xvY2soMSwgMTApLCBzb2x2ZXJNZXRob2Q9IkV4cGxpY2l0RXVsZXIiKSk7CiAgZGVyKHkpID0gc3ViU2FtcGxlKHgsIDIpICsKICAgICAgICAgICBzYW1wbGUoMSwgQ2xvY2soQ2xvY2soMiwgMTApLCBzb2x2ZXJNZXRob2Q9IkltcGxpY2l0RXVsZXIiKSk7CiAgZGVyKHopID0gc3ViU2FtcGxlKHgsIDIpICsgMTsKZW5kIEluZmVyZW5jZVRlc3Q7Cgptb2RlbCBJbGxlZ2FsSW5mZXJlbmNlCiAgUmVhbCB4KHN0YXJ0ID0gMykgIkV4cGxpY2l0bHkgdXNpbmcgRXhwbGljaXRFdWxlciI7CiAgUmVhbCB5ICJFeHBsaWNpdGx5IHVzaW5nIEltcGxpY2l0RXVsZXIgbWV0aG9kIjsKICBSZWFsIHo7CmVxdWF0aW9uCiAgZGVyKHgpID0gLXggKyBzYW1wbGUoMSwgQ2xvY2soQ2xvY2soMSwgMTApLCBzb2x2ZXJNZXRob2Q9IkV4cGxpY2l0RXVsZXIiKSk7CiAgZGVyKHkpID0gc3ViU2FtcGxlKHgsIDIpICsKICAgICAgICAgICBzYW1wbGUoMSwgQ2xvY2soQ2xvY2soMiwgMTApLCBzb2x2ZXJNZXRob2Q9IkltcGxpY2l0RXVsZXIiKSk7CiAgZGVyKHopID0gc3ViU2FtcGxlKHgsIDQpICsgMSArIHN1YlNhbXBsZSh5KTsKZW5kIElsbGVnYWxJbmZlcmVuY2U7" download="">⬇</a></div>
<div id="lstnumberx4382" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">InferenceTest</span>
</div>
<div id="lstnumberx4383" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Explicitly<span class="ltx_text ltx_lst_space"> </span>using<span class="ltx_text ltx_lst_space"> </span>ExplicitEuler"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4384" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Explicitly<span class="ltx_text ltx_lst_space"> </span>using<span class="ltx_text ltx_lst_space"> </span>ImplicitEuler<span class="ltx_text ltx_lst_space"> </span>method"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4385" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Inferred<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>use<span class="ltx_text ltx_lst_space"> </span>ExplicitEuler"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4386" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4387" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">solverMethod</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ExplicitEuler"</span><span class="ltx_text ltx_font_typewriter">));</span>
</div>
<div id="lstnumberx4388" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span>
</div>
<div id="lstnumberx4389" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">           </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">solverMethod</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ImplicitEuler"</span><span class="ltx_text ltx_font_typewriter">));</span>
</div>
<div id="lstnumberx4390" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4391" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">InferenceTest</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4392" class="ltx_listingline">
</div>
<div id="lstnumberx4393" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">IllegalInference</span>
</div>
<div id="lstnumberx4394" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Explicitly<span class="ltx_text ltx_lst_space"> </span>using<span class="ltx_text ltx_lst_space"> </span>ExplicitEuler"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4395" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Explicitly<span class="ltx_text ltx_lst_space"> </span>using<span class="ltx_text ltx_lst_space"> </span>ImplicitEuler<span class="ltx_text ltx_lst_space"> </span>method"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4396" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4397" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4398" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">solverMethod</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ExplicitEuler"</span><span class="ltx_text ltx_font_typewriter">));</span>
</div>
<div id="lstnumberx4399" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span>
</div>
<div id="lstnumberx4400" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">           </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">solverMethod</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ImplicitEuler"</span><span class="ltx_text ltx_font_typewriter">));</span>
</div>
<div id="lstnumberx4401" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">4)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4402" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">IllegalInference</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Here <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">z</span> is a continuous-time equation connected directly to both <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">x</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">y</span> partitions that have different <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">solverMethod</span>.</span>]</p>
</div>
</section>
</section>
<section id="initialization-of-clocked-partitions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.9 </span>Initialization of Clocked Partitions</h2>

<div id="S9.p1" class="ltx_para">
<p class="ltx_p">The standard scheme for initialization of Modelica models does not apply
for clocked discrete-time partitions. Instead, initialization is
performed in the following way:</p>
<ul id="S9.I1" class="ltx_itemize">
<li id="S9.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Clocked discrete-time variables cannot be used in initial equation or
initial algorithm sections.</p>
</div>
</li>
<li id="S9.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S9.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Attribute <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">fixed</span> cannot be applied to clocked discrete-time
variables. The attribute <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">fixed</span> is true for variables to which
<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">previous</span> is applied, otherwise false.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="other-operators" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.10 </span>Other Operators</h2>

<div id="S10.p1" class="ltx_para">
<p class="ltx_p">A few additional utility operators are listed below.</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Expression</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Description</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">firstTick</span><span class="ltx_text ltx_font_typewriter">(<math id="S10.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span></th>
<td class="ltx_td ltx_align_left ltx_border_tt">Test for first clock tick</td>
<td class="ltx_td ltx_align_left ltx_border_tt"><a href="#modelica:firstTick" title="Operator 16.14 firstTick ‣ 16.10 Other Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.14</span></a></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">(<math id="S10.p1.m2" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math>)</span></span></th>
<td class="ltx_td ltx_align_left ltx_border_b">Interval between previous and present tick</td>
<td class="ltx_td ltx_align_left ltx_border_b"><a href="#modelica:interval" title="Operator 16.15 interval ‣ 16.10 Other Operators ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span> <span class="ltx_text ltx_ref_tag">16.15</span></a></td>
</tr>
</tbody>
</table>
</div>
<div id="S10.p2" class="ltx_para">
<p class="ltx_p">It is an error if these operators are called in the continuous-time partition.</p>
</div>
<div id="modelica:firstTick" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.14 <span class="ltx_text ltx_font_typewriter">firstTick
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition14.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Zmlyc3RUaWNrKCR1JCk=" download="">⬇</a></div>
<div id="lstnumberx4403" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">firstTick</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4403.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S10.I1.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S10.I1.ix1.p1" class="ltx_para">
<p class="ltx_p">This operator returns true at the first tick of the clock of the expression, in which this operator is called. The operator returns false at all subsequent ticks of the clock. The optional argument <math id="S10.I1.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is only used for clock inference, see <a href="#clock-partitioning" title="16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7</span></a>.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:interval" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">Operator 16.15 <span class="ltx_text ltx_font_typewriter">interval
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition15.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,aW50ZXJ2YWwoJHUkKQ==" download="">⬇</a></div>
<div id="lstnumberx4404" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4404.m1" class="ltx_Math" alttext="u" display="inline"><mi mathbackground="#FFFFFF">u</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S10.I2.ix1" class="ltx_item" style="list-style-type:none;">
<div id="S10.I2.ix1.p1" class="ltx_para">
<p class="ltx_p">This operator returns the interval between the previous and present tick of the clock of the expression, in which this operator is called. The optional argument <math id="S10.I2.ix1.p1.m1" class="ltx_Math" alttext="u" display="inline"><mi>u</mi></math> is only used for clock inference, see <a href="#clock-partitioning" title="16.7 Clock Partitioning ‣ Chapter 16 Synchronous Language Elements ‣ Modelica® Language Specification version 3.6" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">16.7</span></a>. At the first tick of the clock the following is returned:</p>
<ol id="S10.I2.ix1.I1" class="ltx_enumerate">
<li id="S10.I2.ix1.I0.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S10.I2.ix1.I0.i1.p1" class="ltx_para">
<p class="ltx_p">If the specified clock interval is a parameter expression, this value is returned.</p>
</div>
</li>
<li id="S10.I2.ix1.I0.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S10.I2.ix1.I0.i2.p1" class="ltx_para">
<p class="ltx_p">Otherwise the start value of the variable specifying the interval is returned.</p>
</div>
</li>
<li id="S10.I2.ix1.I0.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S10.I2.ix1.I0.i3.p1" class="ltx_para">
<p class="ltx_p">For an event clock the additional <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">startInterval</span> argument to the event clock constructor is returned.</p>
</div>
</li>
</ol>
<p class="ltx_p">The return value of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">interval</span> is a scalar <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span> number.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="S10.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example:
A discrete PI controller is parameterized with the parameters of a continuous PI controller, in order that the discrete block is robust against changes in the sample
period. This is achieved by discretizing a continuous PI controller (here with an implicit Euler method):</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YmxvY2sgQ2xvY2tlZFBJCiAgcGFyYW1ldGVyIFJlYWwgVCAiVGltZSBjb25zdGFudCBvZiBjb250aW51b3VzIFBJIGNvbnRyb2xsZXIiOwogIHBhcmFtZXRlciBSZWFsIGsgIkdhaW4gb2YgY29udGludW91cyBQSSBjb250cm9sbGVyIjsKICBpbnB1dCBSZWFsIHU7CiAgb3V0cHV0IFJlYWwgeTsKICBSZWFsIHgoc3RhcnQgPSAwKTsKICBwcm90ZWN0ZWQKICBSZWFsIFRzID0gaW50ZXJ2YWwodSk7CmVxdWF0aW9uCiAgLyogQ29udGludW91cyBQSSBlcXVhdGlvbnM6IGRlcih4KSA9IHUgLyBUOyB5ID0gayAqICh4ICsgdSk7CiAgICogRGlzY3JldGl6YXRpb24gZXF1YXRpb246IGRlcih4KSA9ICh4IC0gcHJldmlvdXMgKHgpKSAvIFRzOwogICAqLwogIHdoZW4gQ2xvY2soKSB0aGVuCiAgICB4ID0gcHJldmlvdXMgKHgpICsgVHMgLyBUICogdTsKICAgIHkgPSBrICogKHggKyB1KTsKICBlbmQgd2hlbjsKZW5kIENsb2NrZWRQSTs=" download="">⬇</a></div>
<div id="lstnumberx4405" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ClockedPI</span>
</div>
<div id="lstnumberx4406" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Time<span class="ltx_text ltx_lst_space"> </span>constant<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4407" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">k</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Gain<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4408" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4409" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4410" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4411" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">protected</span>
</div>
<div id="lstnumberx4412" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Ts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4413" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4414" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>Continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>equations:<span class="ltx_text ltx_lst_space"> </span>der(x)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>u<span class="ltx_text ltx_lst_space"> </span>/<span class="ltx_text ltx_lst_space"> </span>T;<span class="ltx_text ltx_lst_space"> </span>y<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>k<span class="ltx_text ltx_lst_space"> </span>*<span class="ltx_text ltx_lst_space"> </span>(x<span class="ltx_text ltx_lst_space"> </span>+<span class="ltx_text ltx_lst_space"> </span>u);</span>
</div>
<div id="lstnumberx4415" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;">   </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">*</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">Discretization</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">equation:</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">der(x)</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">=</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">(x</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">-</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">previous</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">(x))</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">/</span><span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;"> </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">Ts;</span>
</div>
<div id="lstnumberx4416" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_sansserif" style="color:#127500;">   </span><span class="ltx_text ltx_font_sansserif" style="color:#127500;">*/</span>
</div>
<div id="lstnumberx4417" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4418" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Ts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">/</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4419" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">k</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4420" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4421" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ClockedPI</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_font_italic">A continuous-time model is inverted, discretized and used as feedforward controller for a PI controller (<span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">der</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">previous</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">interval</span> are used in the same partition):</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YmxvY2sgTWl4ZWRDb250cm9sbGVyCiAgcGFyYW1ldGVyIFJlYWwgVCAiVGltZSBjb25zdGFudCBvZiBjb250aW51b3VzIFBJIGNvbnRyb2xsZXIiOwogIHBhcmFtZXRlciBSZWFsIGsgIkdhaW4gb2YgY29udGludW91cyBQSSBjb250cm9sbGVyIjsKICBpbnB1dCBSZWFsIHlfcmVmLCB5X21lYXM7CiAgUmVhbCB5OwogIG91dHB1dCBSZWFsIHljOwogIFJlYWwgeihzdGFydCA9IDApOwogIFJlYWwgeGMoc3RhcnQgPSAxLCBmaXhlZCA9IHRydWUpOwogIENsb2NrIGMgPSBDbG9jayhDbG9jaygwLjEpLCBzb2x2ZXJNZXRob2Q9IkltcGxpY2l0RXVsZXIiKTsKcHJvdGVjdGVkCiAgUmVhbCB1YzsKICBSZWFsIFRzID0gaW50ZXJ2YWwodWMpOwplcXVhdGlvbgogIC8qIENvbnRpbnVvdXMtdGltZSwgaW52ZXJzZSBtb2RlbCAqLwogIHVjID0gc2FtcGxlKHlfcmVmLCBjKTsKICBkZXIoeGMpID0gdWM7CiAgLyogUEkgY29udHJvbGxlciAqLwogIHogPSBpZiAgZmlyc3RUaWNrKCkgdGhlbiAwIGVsc2UKICBwcmV2aW91cyh6KSArIFRzIC8gVCAqICh1YyAtIHlfbWVhcyk7CiAgeSA9IHhjICsgayAqICh4YyArIHVjKTsKICB5YyA9IGhvbGQgKHkpOwplbmQgTWl4ZWRDb250cm9sbGVyOw==" download="">⬇</a></div>
<div id="lstnumberx4422" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">MixedController</span>
</div>
<div id="lstnumberx4423" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Time<span class="ltx_text ltx_lst_space"> </span>constant<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4424" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">k</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Gain<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>continuous<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4425" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y_ref</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y_meas</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4426" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4427" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yc</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4428" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4429" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xc</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fixed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4430" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(0.1),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">solverMethod</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"ImplicitEuler"</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4431" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">protected</span>
</div>
<div id="lstnumberx4432" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">uc</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4433" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Ts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">interval</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">uc</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4434" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4435" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>Continuous-time,<span class="ltx_text ltx_lst_space"> </span>inverse<span class="ltx_text ltx_lst_space"> </span>model<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx4436" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">uc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y_ref</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4437" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">der</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xc</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">uc</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4438" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>PI<span class="ltx_text ltx_lst_space"> </span>controller<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx4439" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">firstTick</span><span class="ltx_text ltx_font_typewriter">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx4440" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Ts</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">/</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">T</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">uc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y_meas</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4441" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">k</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">xc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">uc</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4442" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">yc</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">hold</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4443" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">MixedController</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="semantics" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">16.11 </span>Semantics</h2>

<div id="S11.p1" class="ltx_para">
<p class="ltx_p">The execution of sub partitions requires exact time management for proper synchronization.
The implication is that testing a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>-valued time variable to determine sampling instants is not possible.
One possible method is to use counters to handle sub-sampling scheduling,</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2tfJGkkXyRqJF90aWNrcyA9CiAgaWYgcHJlKENsb2NrXyRpJF8kaiRfdGlja3MpIDwgc3ViU2FtcGxpbmdGYWN0b3JfJGkkXyRqJCB0aGVuCiAgICAxICsgcHJlKENsb2NrXyRpJF8kaiRfdGlja3MpCiAgZWxzZQogICAgMTs=" download="">⬇</a></div>
<div id="lstnumberx4444" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4444.m1" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4444.m2" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4445" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4445.m1" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4445.m2" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_ticks</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">subSamplingFactor_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4445.m3" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4445.m4" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math></span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4446" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4446.m1" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4446.m2" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_ticks</span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
<div id="lstnumberx4447" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx4448" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
</div>
<p class="ltx_p">and to test the counter to determine when the sub-clock is ticking:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Q2xvY2tfJGkkXyRqJF9hY3RpdmF0ZWQgPQogIEJhc2VDbG9ja18kaSRfYWN0aXZhdGVkIGFuZCBDbG9ja18kaSRfJGokX3RpY2tzID49IHN1YlNhbXBsaW5nRmFjdG9yXyRpJF8kaiQ7" download="">⬇</a></div>
<div id="lstnumberx4449" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4449.m1" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4449.m2" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4450" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">BaseClock_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4450.m1" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4450.m2" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4450.m3" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">subSamplingFactor_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4450.m4" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4450.m5" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math></span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">The <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_</span><span class="ltx_text ltx_font_typewriter"><math id="S11.p1.m1" class="ltx_Math" alttext="i" display="inline"><mi mathbackground="#FFFFFF">i</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_</span><span class="ltx_text ltx_font_typewriter"><math id="S11.p1.m2" class="ltx_Math" alttext="j" display="inline"><mi mathbackground="#FFFFFF">j</mi></math></span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">_activated</span></span> flag is used as the guard for the sub
partition equations.</p>
</div>
<div id="S11.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Consider the following example:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgQ2xvY2tUaWNrcwogIEludGVnZXIgc2Vjb25kID0gc2FtcGxlKDEsIENsb2NrKDEpKTsKICBJbnRlZ2VyIHNlY29uZHMoc3RhcnQgPSAtMSkgPSBtb2QocHJldmlvdXMoc2Vjb25kcykgKyBzZWNvbmQsIDYwKTsKICBJbnRlZ2VyIG1pbGxpU2Vjb25kcyhzdGFydCA9IC0xKSA9CiAgICBtb2QocHJldmlvdXMobWlsbGlTZWNvbmRzKSArIHN1cGVyU2FtcGxlKHNlY29uZCwgMTAwMCksIDEwMDApOwogIEludGVnZXIgbWludXRlcyhzdGFydCA9IC0xKSA9CiAgICBtb2QocHJldmlvdXMobWludXRlcykgKyBzdWJTYW1wbGUoc2Vjb25kLCA2MCksIDYwKTsKZW5kIENsb2NrVGlja3M7" download="">⬇</a></div>
<div id="lstnumberx4451" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ClockTicks</span>
</div>
<div id="lstnumberx4452" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">second</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(1));</span>
</div>
<div id="lstnumberx4453" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">seconds</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-1)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">mod</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">seconds</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">second</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">60);</span>
</div>
<div id="lstnumberx4454" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">milliSeconds</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-1)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4455" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">mod</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">milliSeconds</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">superSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">second</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1000),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1000);</span>
</div>
<div id="lstnumberx4456" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">minutes</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-1)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4457" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">mod</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">minutes</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">subSample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">second</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">60),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">60);</span>
</div>
<div id="lstnumberx4458" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ClockTicks</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
</div>
<div id="S11.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">A possible implementation model is shown below using Modelica 3.2 semantics. The base-clock is determined to 0.001 seconds and the sub-sampling factors to 1000 and 60000.</span></p>
</div>
<div id="S11.p4" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgQ2xvY2tUaWNrc1dpdGhNb2RlbGljYTMyCiAgIEludGVnZXIgc2Vjb25kOwogICBJbnRlZ2VyIHNlY29uZHMoc3RhcnQgPSAtMSk7CiAgIEludGVnZXIgbWlsbGlTZWNvbmRzKHN0YXJ0ID0gLTEpOwogICBJbnRlZ2VyIG1pbnV0ZXMoc3RhcnQgPSAtMSk7CgogICBCb29sZWFuIEJhc2VDbG9ja18xX2FjdGl2YXRlZDsKICAgSW50ZWdlciBDbG9ja18xXzFfdGlja3Moc3RhcnQgPSA1OTk5OSk7CiAgIEludGVnZXIgQ2xvY2tfMV8yX3RpY2tzKHN0YXJ0ID0gMCk7CiAgIEludGVnZXIgQ2xvY2tfMV8zX3RpY2tzKHN0YXJ0ID0gOTk5KTsKICAgQm9vbGVhbiBDbG9ja18xXzFfYWN0aXZhdGVkOwogICBCb29sZWFuIENsb2NrXzFfMl9hY3RpdmF0ZWQ7CiAgIEJvb2xlYW4gQ2xvY2tfMV8zX2FjdGl2YXRlZDsKZXF1YXRpb24KICAvLyBQcmVwYXJlIGNsb2NrIHRpY2sKICBCYXNlQ2xvY2tfMV9hY3RpdmF0ZWQgPSAgc2FtcGxlKDAsIDAuMDAxKTsKICB3aGVuIEJhc2VDbG9ja18xX2FjdGl2YXRlZCB0aGVuCiAgICBDbG9ja18xXzFfdGlja3MgPQogICAgICBpZiBwcmUoQ2xvY2tfMV8xX3RpY2tzKSA8IDYwMDAwIHRoZW4gMSArIHByZShDbG9ja18xXzFfdGlja3MpIGVsc2UgMTsKICAgIENsb2NrXzFfMl90aWNrcyA9CiAgICAgIGlmIHByZShDbG9ja18xXzJfdGlja3MpIDwgMSB0aGVuIDEgKyBwcmUoQ2xvY2tfMV8yX3RpY2tzKSBlbHNlIDE7CiAgICBDbG9ja18xXzNfdGlja3MgPQogICAgICBpZiBwcmUoQ2xvY2tfMV8zX3RpY2tzKSA8IDEwMDAgdGhlbiAxICsgcHJlKENsb2NrXzFfM190aWNrcykgZWxzZSAxOwogIGVuZCB3aGVuOwogIENsb2NrXzFfMV9hY3RpdmF0ZWQgPSAgQmFzZUNsb2NrXzFfYWN0aXZhdGVkIGFuZCBDbG9ja18xXzFfdGlja3MgPj0gNjAwMDA7CiAgQ2xvY2tfMV8yX2FjdGl2YXRlZCA9ICBCYXNlQ2xvY2tfMV9hY3RpdmF0ZWQgYW5kIENsb2NrXzFfMl90aWNrcyA+PSAxOwogIENsb2NrXzFfM19hY3RpdmF0ZWQgPSAgQmFzZUNsb2NrXzFfYWN0aXZhdGVkIGFuZCBDbG9ja18xXzNfdGlja3MgPj0gMTAwMDsKCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAvLyBTdWIgcGFydGl0aW9uIGV4ZWN1dGlvbgogIHdoZW4ge0Nsb2NrXzFfM19hY3RpdmF0ZWR9IHRoZW4KICAgIHNlY29uZCA9IDE7CiAgZW5kIHdoZW47CiAgd2hlbiB7Q2xvY2tfMV8xX2FjdGl2YXRlZH0gdGhlbgogICAgbWludXRlcyA9IG1vZChwcmUobWludXRlcykgKyBzZWNvbmQsIDYwKTsKICBlbmQgd2hlbjsKICB3aGVuIHtDbG9ja18xXzJfYWN0aXZhdGVkfSB0aGVuCiAgICBtaWxsaVNlY29uZHMgPSBtb2QocHJlKG1pbGxpU2Vjb25kcykgKyBzZWNvbmQsIDEwMDApOwogIGVuZCB3aGVuOwogIHdoZW4ge0Nsb2NrXzFfM19hY3RpdmF0ZWR9IHRoZW4KICAgIHNlY29uZHMgPSBtb2QocHJlKHNlY29uZHMpICsgc2Vjb25kLCA2MCk7CiAgZW5kIHdoZW47CmVuZCBDbG9ja1RpY2tzV2l0aE1vZGVsaWNhMzI7" download="">⬇</a></div>
<div id="lstnumberx4459" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ClockTicksWithModelica32</span>
</div>
<div id="lstnumberx4460" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">second</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4461" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">seconds</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-1);</span>
</div>
<div id="lstnumberx4462" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">milliSeconds</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-1);</span>
</div>
<div id="lstnumberx4463" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">minutes</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-1);</span>
</div>
<div id="lstnumberx4464" class="ltx_listingline">
</div>
<div id="lstnumberx4465" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">BaseClock_1_activated</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4466" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_1_ticks</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">59999);</span>
</div>
<div id="lstnumberx4467" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_2_ticks</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4468" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_3_ticks</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">999);</span>
</div>
<div id="lstnumberx4469" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_1_activated</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4470" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_2_activated</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4471" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">   </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_3_activated</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4472" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4473" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Prepare<span class="ltx_text ltx_lst_space"> </span>clock<span class="ltx_text ltx_lst_space"> </span>tick</span>
</div>
<div id="lstnumberx4474" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0.001);</span>
</div>
<div id="lstnumberx4475" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4476" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_1_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4477" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_1_ticks</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">60000</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_1_ticks</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4478" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_2_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4479" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_2_ticks</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_2_ticks</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4480" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_3_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4481" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_3_ticks</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1000</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_3_ticks</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4482" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4483" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_1_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">60000;</span>
</div>
<div id="lstnumberx4484" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_2_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_2_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4485" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_3_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">BaseClock_1_activated</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_3_ticks</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1000;</span>
</div>
<div id="lstnumberx4486" class="ltx_listingline">
</div>
<div id="lstnumberx4487" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>———————————————————————–</span>
</div>
<div id="lstnumberx4488" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Sub<span class="ltx_text ltx_lst_space"> </span>partition<span class="ltx_text ltx_lst_space"> </span>execution</span>
</div>
<div id="lstnumberx4489" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_3_activated</span><span class="ltx_text ltx_font_typewriter">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4490" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">second</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4491" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4492" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_1_activated</span><span class="ltx_text ltx_font_typewriter">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4493" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">minutes</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">mod</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">minutes</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">second</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">60);</span>
</div>
<div id="lstnumberx4494" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4495" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_2_activated</span><span class="ltx_text ltx_font_typewriter">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4496" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">milliSeconds</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">mod</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">milliSeconds</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">second</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1000);</span>
</div>
<div id="lstnumberx4497" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4498" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock_1_3_activated</span><span class="ltx_text ltx_font_typewriter">}</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4499" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">seconds</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">mod</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">seconds</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">second</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">60);</span>
</div>
<div id="lstnumberx4500" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4501" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ClockTicksWithModelica32</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
</div>
<footer class="ltx_page_footer">
<div>
<a href="stream-connectors.html" title="Chapter 15 Stream Connectors ‣ Modelica® Language Specification version 3.6" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Stream Connectors</span></a><a href="bib.html" title="References ‣ Modelica® Language Specification version 3.6" class="ltx_ref" rel="bibliography"><span class="ltx_text ltx_ref_title">References</span></a><a href="idx.html" title="Index ‣ Modelica® Language Specification version 3.6" class="ltx_ref" rel="index"><span class="ltx_text ltx_ref_title">Index</span></a><a href="state-machines.html" title="Chapter 17 State Machines ‣ Modelica® Language Specification version 3.6" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>State Machines</span></a>
</div>
<div class="ltx_page_logo">Generated  on Thu Mar  9 16:41:18 2023 by <a href="http://dlmf.nist.gov/LaTeXML/">LaTeXML <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"></a>
</div></footer>
</div>
</body>
</html>
