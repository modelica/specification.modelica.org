<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev</title>
<!--Generated on Thu Feb 19 13:30:11 2026 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on February 19, 2026.-->

<link rel="stylesheet" href="LaTeXML.css" type="text/css">
<link rel="stylesheet" href="ltx-report.css" type="text/css">
<link rel="stylesheet" href="ltx-listings.css" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="css/MLS.css" type="text/css">
<link rel="stylesheet" href="css/MLS-navbar-left.css" type="text/css">
<script src="LaTeXML-maybeMathjax.js"></script>
<link rel="up" href="./" title="ModelicaÂ® Language Specification version 3.7-dev">
<link rel="start" href="./" title="ModelicaÂ® Language Specification version 3.7-dev">
<link rel="prev" href="modelica-concrete-syntax.html" title="Appendix A Modelica Concrete Syntax â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="next" href="derivation-of-stream-equations.html" title="Appendix C Derivation of Stream Equations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="preface.html" title="Preface â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="introduction1.html" title="Chapter 1 Introduction â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="lexical-structure.html" title="Chapter 2 Lexical Structure â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="operators-and-expressions.html" title="Chapter 3 Operators and Expressions â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="class-predefined-types-and-declarations.html" title="Chapter 4 Classes, Predefined Types, and Declarations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="scoping-name-lookup-and-flattening.html" title="Chapter 5 Scoping, Name Lookup, and Flattening â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="interface-or-type-relationships.html" title="Chapter 6 Interface or Type Relationships â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="inheritance-modification-and-redeclaration.html" title="Chapter 7 Inheritance, Modification, and Redeclaration â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="equations.html" title="Chapter 8 Equations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="connectors-and-connections.html" title="Chapter 9 Connectors and Connections â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="arrays.html" title="Chapter 10 Arrays â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="statements-and-algorithm-sections.html" title="Chapter 11 Statements and Algorithm Sections â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="functions.html" title="Chapter 12 Functions â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="packages.html" title="Chapter 13 Packages â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="overloaded-operators.html" title="Chapter 14 Overloaded Operators â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="stream-connectors.html" title="Chapter 15 Stream Connectors â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="synchronous-language-elements.html" title="Chapter 16 Synchronous Language Elements â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="state-machines.html" title="Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="annotations.html" title="Chapter 18 Annotations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="unit-expressions.html" title="Chapter 19 Unit Expressions â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="the-modelica-standard-library.html" title="Chapter 20 The Modelica Standard Library â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="appendix" href="modelica-concrete-syntax.html" title="Appendix A Modelica Concrete Syntax â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="appendix" href="derivation-of-stream-equations.html" title="Appendix C Derivation of Stream Equations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="appendix" href="modelica-revision-history.html" title="Appendix D Modelica Revision History â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="bibliography" href="bib.html" title="References â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="index" href="idx.html" title="Index â€£ ModelicaÂ® Language Specification version 3.7-dev">
<meta name="keywords" lang="en" content="DAE, hybrid DAE">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body tabindex=0>
<nav class="ltx_page_navbar"><a href="./" title="" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">Modelica<sup class="ltx_sup">Â®</sup> Language Specification versionÂ 3.7-dev</span></a>
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="preface.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title">Preface</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="introduction1.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="lexical-structure.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Lexical Structure</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="operators-and-expressions.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Operators and Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="class-predefined-types-and-declarations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Classes, Predefined Types, and Declarations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="scoping-name-lookup-and-flattening.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Scoping, Name Lookup, and Flattening</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="interface-or-type-relationships.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Interface or Type Relationships</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="inheritance-modification-and-redeclaration.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Inheritance, Modification, and Redeclaration</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="equations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="connectors-and-connections.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Connectors and Connections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="arrays.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>Arrays</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="statements-and-algorithm-sections.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Statements and Algorithm Sections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="functions.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="packages.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Packages</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="overloaded-operators.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Overloaded Operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="stream-connectors.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Stream Connectors</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="synchronous-language-elements.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Synchronous Language Elements</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="state-machines.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>State Machines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="annotations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Annotations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="unit-expressions.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Unit Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="the-modelica-standard-library.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>The Modelica Standard Library</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-concrete-syntax.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Modelica Concrete Syntax</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix ltx_ref_self"><span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Modelica DAE Representation</span></span></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="derivation-of-stream-equations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Derivation of Stream Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-revision-history.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Modelica Revision History</span></a></li>
<li class="ltx_tocentry ltx_tocentry_bibliography"><a href="bib.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title">References</span></a></li>
<li class="ltx_tocentry ltx_tocentry_index"><a href="idx.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title">Index</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div class="ltx_align_center">
<a href="./" title="" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title">Modelica<sup class="ltx_sup">Â®</sup> Language Specification versionÂ 3.7-dev</span></a><a href="modelica-concrete-syntax.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Modelica Concrete Syntax</span></a><a href="derivation-of-stream-equations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Derivation of Stream Equations</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_appendix">
<h1 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Modelica DAE Representation</h1>

<div id="p1" class="ltx_para">
<p class="ltx_p">In this appendix, the mapping of a Modelica model into an appropriate mathematical description form is discussed.</p>
</div>
<div id="p2" class="ltx_para">
<p class="ltx_p">In a first step, a Modelica translator transforms a hierarchical Modelica simulation model into a â€œflatâ€ set of Modelica â€œstatementsâ€, consisting of the equation and algorithm sections of all used components by:</p>
<ul id="S0.I1" class="ltx_itemize">
<li id="S0.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Expanding all class definitions (flattening the inheritance tree) and adding the equations and assignment statements of the expanded classes for every instance of the model.</p>
</div>
</li>
<li id="S0.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Replacing all <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">connect</span>-equations by the corresponding equations of the connection set (see <a href="connectors-and-connections.html#generation-of-connection-equations" title="9.2 Generation of Connection Equations â€£ Chapter 9 Connectors and Connections â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">9.2</span></a>).</p>
</div>
</li>
<li id="S0.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I1.i3.p1" class="ltx_para">
<p class="ltx_p">Mapping all algorithm sections to equation sets.</p>
</div>
</li>
<li id="S0.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I1.i4.p1" class="ltx_para">
<p class="ltx_p">Mapping all <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clauses to equation sets (see <a href="equations.html#when-equations" title="8.3.5 When-Equations â€£ 8.3 Equations in Equation Sections â€£ Chapter 8 Equations â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">8.3.5</span></a>).</p>
</div>
</li>
</ul>
</div>
<div id="p3" class="ltx_para">
<p class="ltx_p">As a result of this transformation process, a set of equations is obtained consisting of differential, algebraic and discrete equations of the following form where (<math id="p3.m1" class="ltx_Math" alttext="{{v:=[p;t;\dot{x};x;y;z;m;\text{\leavevmode\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{%
ltx_lst_keywords3}{\color[rgb]{0.33,0.24,0.03}pre}}}}}}(z);\text{\leavevmode%
\lstinline{{\lst@@@set@language\lst@@@set@numbers\lst@@@set@frame%
\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language\lst@@@set@frame%
\normalsize{\@listingGroup{ltx_lst_keywords3}{\color[rgb]{0.33,0.24,0.03}pre}}%
}}}}(m)]" display="inline"><mrow><mi>v</mi><mo lspace="0.278em" rspace="0.278em">:=</mo><mrow><mo stretchy="false">[</mo><mi>p</mi><mo>;</mo><mi>t</mi><mo>;</mo><mover accent="true"><mi>x</mi><mo>Ë™</mo></mover><mo>;</mo><mi>x</mi><mo>;</mo><mi>y</mi><mo>;</mo><mi>z</mi><mo>;</mo><mi>m</mi><mo>;</mo><mrow><mtext class="ltx_mathvariant_monospace ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#543D08">pre</mtext><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo></mrow></mrow><mo>;</mo><mrow><mtext class="ltx_mathvariant_monospace ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#543D08">pre</mtext><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">]</mo></mrow></mrow></math>):</p>
<table id="eq:hydrid-dae" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="eq:dae" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="E1.1.m1" class="ltx_Math" alttext="0=f_{\mathrm{x}}(v,c)" display="block"><mrow><mn>0</mn><mo>=</mo><mrow><msub><mi>f</mi><mi mathvariant="normal">x</mi></msub><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>v</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(B.1a)</span></td>
</tr>
<tr id="eq:dae-discrete-real" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="E1.2.m1" class="ltx_Math" alttext="{z=\begin{cases}f_{\mathrm{z}}(v,c)&amp;\text{at events}\\
\text{\leavevmode\lstinline{{\lst@@@set@language\lst@@@set@numbers%
\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language\lst@@@set@language%
\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_keywords3}{\color[rgb]{%
0.33,0.24,0.03}pre}}}}}}(z)&amp;\text{otherwise}\end{cases}" display="block"><mrow><mi>z</mi><mo>=</mo><mrow><mo>{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt"><mtr><mtd class="ltx_align_left" columnalign="left"><mrow><msub><mi>f</mi><mi mathvariant="normal">z</mi></msub><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>v</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left"><mtext>at events</mtext></mtd></mtr><mtr><mtd class="ltx_align_left" columnalign="left"><mrow><mtext class="ltx_mathvariant_monospace ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#543D08">pre</mtext><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left"><mtext>otherwise</mtext></mtd></mtr></mtable></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(B.1b)</span></td>
</tr>
<tr id="eq:dae-discrete-valued" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="E1.3.m1" class="ltx_Math" alttext="m:=f_{\mathrm{m}}(v,c)" display="block"><mrow><mi>m</mi><mo lspace="0.278em" rspace="0.278em">:=</mo><mrow><msub><mi>f</mi><mi mathvariant="normal">m</mi></msub><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>v</mi><mo>,</mo><mi>c</mi><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(B.1c)</span></td>
</tr>
<tr id="eq:crossing" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="E1.4.m1" class="ltx_Math" alttext="c:=f_{\mathrm{c}}(\mathit{relation}(v))" display="block"><mrow><mi>c</mi><mo lspace="0.278em" rspace="0.278em">:=</mo><mrow><msub><mi>f</mi><mi mathvariant="normal">c</mi></msub><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mrow><mi>ğ‘Ÿğ‘’ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›</mi><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mrow><mo stretchy="false">)</mo></mrow></mrow></mrow></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(B.1d)</span></td>
</tr>
</tbody>
</table>
<p class="ltx_p">and where</p>
<ul id="S0.I2" class="ltx_itemize">
<li id="S0.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I2.i1.p1" class="ltx_para">
<p class="ltx_p"><math id="S0.I2.i1.p1.m1" class="ltx_Math" alttext="p" display="inline"><mi>p</mi></math>:
Modelica variables declared as <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">parameter</span> or <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">constant</span>, i.e., variables without any time-dependency.</p>
</div>
</li>
<li id="S0.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I2.i2.p1" class="ltx_para">
<p class="ltx_p"><math id="S0.I2.i2.p1.m1" class="ltx_Math" alttext="t" display="inline"><mi>t</mi></math>:
Modelica variable <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">time</span>, the independent (real) variable.</p>
</div>
</li>
<li id="S0.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I2.i3.p1" class="ltx_para">
<p class="ltx_p"><math id="S0.I2.i3.p1.m1" class="ltx_Math" alttext="x(t)" display="inline"><mrow><mi>x</mi><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math>:
Modelica variables of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>, appearing differentiated.</p>
</div>
</li>
<li id="S0.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I2.i4.p1" class="ltx_para">
<p class="ltx_p"><math id="S0.I2.i4.p1.m1" class="ltx_Math" alttext="y(t)" display="inline"><mrow><mi>y</mi><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mrow></math>:
Continuous-time modelica variables of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span> that do not appear differentiated (= algebraic variables).</p>
</div>
</li>
<li id="S0.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I2.i5.p1" class="ltx_para">
<p class="ltx_p"><math id="S0.I2.i5.p1.m1" class="ltx_Math" alttext="z(t_{\mathrm{e}})" display="inline"><mrow><mi>z</mi><mo>â¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi mathvariant="normal">e</mi></msub><mo stretchy="false">)</mo></mrow></mrow></math>:
Discrete-time modelica variables of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>.
These variables change their value only at event instants <math id="S0.I2.i5.p1.m2" class="ltx_Math" alttext="t_{\mathrm{e}}" display="inline"><msub><mi>t</mi><mi mathvariant="normal">e</mi></msub></math>.
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">z</span>)</span></span> are the values of <math id="S0.I2.i5.p1.m3" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math> immediately before the current event occurred.</p>
</div>
</li>
<li id="S0.I2.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I2.i6.p1" class="ltx_para">
<p class="ltx_p"><math id="S0.I2.i6.p1.m1" class="ltx_Math" alttext="m(t_{\mathrm{e}})" display="inline"><mrow><mi>m</mi><mo>â¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi mathvariant="normal">e</mi></msub><mo stretchy="false">)</mo></mrow></mrow></math>:
Modelica variables of discrete-valued types (<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span>, etc) which are unknown.
These variables change their value only at event instants <math id="S0.I2.i6.p1.m2" class="ltx_Math" alttext="t_{\mathrm{e}}" display="inline"><msub><mi>t</mi><mi mathvariant="normal">e</mi></msub></math>.
<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">m</span>)</span></span> are the values of <math id="S0.I2.i6.p1.m3" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math> immediately before the current event occurred.</p>
</div>
<div id="S0.I2.i6.p2" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">For equations in <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">when</span>-clauses with discrete-valued variables on the left-hand side, the form (<a href="#eq:dae-discrete-valued" title="Equation B.1c â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1c</span></a>) relies upon the conceptual rewriting of equations described in <a href="equations.html#defining-when-equations-by-if-expressions-in-equality-equations" title="8.3.5.1 Defining When-Equations by If-Expressions in Equality Equations â€£ 8.3.5 When-Equations â€£ 8.3 Equations in Equation Sections â€£ Chapter 8 Equations â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">8.3.5.1</span></a>.
</span>]</p>
</div>
</li>
<li id="S0.I2.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I2.i7.p1" class="ltx_para">
<p class="ltx_p"><math id="S0.I2.i7.p1.m1" class="ltx_Math" alttext="c(t_{\mathrm{e}})" display="inline"><mrow><mi>c</mi><mo>â¢</mo><mrow><mo stretchy="false">(</mo><msub><mi>t</mi><mi mathvariant="normal">e</mi></msub><mo stretchy="false">)</mo></mrow></mrow></math>:
The conditions of all <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">if</span>-expressions generated including <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clauses after conversion, see <a href="equations.html#when-equations" title="8.3.5 When-Equations â€£ 8.3 Equations in Equation Sections â€£ Chapter 8 Equations â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">8.3.5</span></a>).</p>
</div>
</li>
<li id="S0.I2.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I2.i8.p1" class="ltx_para">
<p class="ltx_p"><math id="S0.I2.i8.p1.m1" class="ltx_Math" alttext="\mathit{relation}(v)" display="inline"><mrow><mi>ğ‘Ÿğ‘’ğ‘™ğ‘ğ‘¡ğ‘–ğ‘œğ‘›</mi><mo>â¢</mo><mrow><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mrow></math>:
A relation containing variables <math id="S0.I2.i8.p1.m2" class="ltx_Math" alttext="v_{i}" display="inline"><msub><mi>v</mi><mi>i</mi></msub></math>, e.g., <math id="S0.I2.i8.p1.m3" class="ltx_Math" alttext="v_{1}&gt;v_{2}" display="inline"><mrow><msub><mi>v</mi><mn>1</mn></msub><mo>&gt;</mo><msub><mi>v</mi><mn>2</mn></msub></mrow></math>, <math id="S0.I2.i8.p1.m4" class="ltx_Math" alttext="v_{3}\geq 0" display="inline"><mrow><msub><mi>v</mi><mn>3</mn></msub><mo>â‰¥</mo><mn>0</mn></mrow></math>.</p>
</div>
</li>
</ul>
</div>
<div id="p4" class="ltx_para">
<p class="ltx_p">For simplicity, the special cases of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">noEvent</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">reinit</span> are not contained in the equations above and are not discussed below.</p>
</div>
<div id="p5" class="ltx_para">
<p class="ltx_p">The key difference between the two groups of discrete-time variables <math id="p5.m1" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math> and <math id="p5.m2" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math> here is how they are determined.
The interpretation of the solved form of (<a href="#eq:dae-discrete-valued" title="Equation B.1c â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1c</span></a>) is that given values for everything else, there is a closed-form solution for <math id="p5.m3" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math> in the form of a sequence of assignments to each of the variables of <math id="p5.m4" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math> in turn â€“ there must be no cyclic dependencies between the equations used to solve for <math id="p5.m5" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math>.
Further, each of the original model equations behind (<a href="#eq:dae-discrete-valued" title="Equation B.1c â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1c</span></a>) must be given in almost solved form:</p>
<ul id="S0.I3" class="ltx_itemize">
<li id="S0.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I3.i1.p1" class="ltx_para">
<p class="ltx_p">Non-<span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span> equations at most requiring flipping sides of the equation to obtain the used assignment form.</p>
</div>
</li>
<li id="S0.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I3.i2.p1" class="ltx_para">
<p class="ltx_p">For <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span> equations the solved variable must appear uniquely as a term (without any multiplicative factor) on either side of the equation, at most requiring addition or subtraction of other terms in the equation to obtain the used assignment form.</p>
</div>
</li>
<li id="S0.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I3.i3.p1" class="ltx_para">
<p class="ltx_p">Rules for <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">if</span>-equations are given in <a href="equations.html#if-equations" title="8.3.4 If-Equations â€£ 8.3 Equations in Equation Sections â€£ Chapter 8 Equations â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">8.3.4</span></a>.</p>
</div>
</li>
</ul>
<p class="ltx_p">The interpretation of the non-solved form of (<a href="#eq:dae-discrete-real" title="Equation B.1b â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1b</span></a>) at events, on the other hand, is that at events, the discrete-time <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span> variables <math id="p5.m6" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math> are solved together with the continuous-time variables using (<a href="#eq:dae" title="Equation B.1a â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1a</span></a>) and (<a href="#eq:dae-discrete-real" title="Equation B.1b â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1b</span></a>).</p>
</div>
<div id="p6" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example :
The following model demonstrates that <a href="#eq:dae-discrete-real" title="In Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">equation</span>Â <span class="ltx_text ltx_ref_tag">B.1b</span></a> does not imply that all discrete-time <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span> variables are given by equations in solved form, as also the discrete-time <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span> variables are included in <math id="p6.m1" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math>:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgTQogIGRpc2NyZXRlIFJlYWwgeChzdGFydCA9IDEuMCwgZml4ZWQgPSB0cnVlKTsKZXF1YXRpb24KICB3aGVuIHNhbXBsZSgxLjAsIDEuMCkgdGhlbgogICAgeCA9IDMgKiBwcmUoeCkgLSB4XjI7IC8vIFZhbGlkIGVxdWF0aW9uIGZvciBkaXNjcmV0ZS10aW1lIFJlYWwgdmFyaWFibGUgeC4KICBlbmQgd2hlbjsKZW5kIE07" download="">â¬‡</a></div>
<div id="lstnumberx6148" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">M</span>
</div>
<div id="lstnumberx6149" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">discrete</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1.0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fixed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx6150" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx6151" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(1.0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1.0)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx6152" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">^2;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Valid<span class="ltx_text ltx_lst_space"> </span>equation<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>discrete-time<span class="ltx_text ltx_lst_space"> </span>Real<span class="ltx_text ltx_lst_space"> </span>variable<span class="ltx_text ltx_lst_space"> </span>x.</span>
</div>
<div id="lstnumberx6153" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx6154" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">M</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
</div>
<div id="p7" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Another way that a discrete-time <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="color:#543D08;background-color:#FFFFFF;">Real</span> variable can end up becoming determined by a nonlinear equation is through coupling with other variables.</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgTQogIGRpc2NyZXRlIFJlYWwgeChzdGFydCA9IDEuMCwgZml4ZWQgPSB0cnVlKTsKICBkaXNjcmV0ZSBSZWFsIHkoc3RhcnQgPSAwLjAsIGZpeGVkID0gdHJ1ZSk7CmVxdWF0aW9uCiAgd2hlbiBzYW1wbGUoMS4wLCAxLjApIHRoZW4KICAgIHkgPSB4IF4gMiArIDIgKiBleHAoLXRpbWUpOwogICAgeCA9IDMgKiBwcmUoeCkgLSB5OyAvLyBPSywgZm9ybWluZyBub25saW5lYXIgZXF1YXRpb24gc3lzdGVtIHdpdGggeS4KICBlbmQgd2hlbjsKZW5kIE07" download="">â¬‡</a></div>
<div id="lstnumberx6155" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">M</span>
</div>
<div id="lstnumberx6156" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">discrete</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1.0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fixed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx6157" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">discrete</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Real</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0.0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fixed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx6158" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx6159" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(1.0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1.0)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx6160" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">^</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">exp</span><span class="ltx_text ltx_font_typewriter">(-</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">time</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx6161" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">*</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>OK,<span class="ltx_text ltx_lst_space"> </span>forming<span class="ltx_text ltx_lst_space"> </span>nonlinear<span class="ltx_text ltx_lst_space"> </span>equation<span class="ltx_text ltx_lst_space"> </span>system<span class="ltx_text ltx_lst_space"> </span>with<span class="ltx_text ltx_lst_space"> </span>y.</span>
</div>
<div id="lstnumberx6162" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">when</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx6163" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">M</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="p8" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example :
The following model is illegal since there is no equation in solved form that can be used in (<a href="#eq:dae-discrete-valued" title="Equation B.1c â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1c</span></a>) to solve for the discrete-valued variable <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">y</span>:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgTQogIEJvb2xlYW4geDsKICBCb29sZWFuIHk7CmVxdWF0aW9uCiAgeCA9IHRpbWUgPj0gMS4wOwogIG5vdCB5ID0geDsgLyogRXF1YXRpb24gaW4gc29sdmVkIGZvcm0sIGJ1dCBub3Qgd2l0aCByZXNwZWN0IHRvIHkuICovCmVuZCBNOw==" download="">â¬‡</a></div>
<div id="lstnumberx6164" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">M</span>
</div>
<div id="lstnumberx6165" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx6166" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx6167" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx6168" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">time</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1.0;</span>
</div>
<div id="lstnumberx6169" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">/*<span class="ltx_text ltx_lst_space"> </span>Equation<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>solved<span class="ltx_text ltx_lst_space"> </span>form,<span class="ltx_text ltx_lst_space"> </span>but<span class="ltx_text ltx_lst_space"> </span>not<span class="ltx_text ltx_lst_space"> </span>with<span class="ltx_text ltx_lst_space"> </span>respect<span class="ltx_text ltx_lst_space"> </span>to<span class="ltx_text ltx_lst_space"> </span>y.<span class="ltx_text ltx_lst_space"> </span>*/</span>
</div>
<div id="lstnumberx6170" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">M</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="p9" class="ltx_para">
<p class="ltx_p">The generated set of equations is used for simulation and other analysis activities.
Simulation proceeds as follows.
First, initialization takes place, during which initial values for the states <math id="p9.m1" class="ltx_Math" alttext="x" display="inline"><mi>x</mi></math> are found, <a href="equations.html#initialization-initial-equation-and-initial-algorithm" title="8.6 Initialization, initial equation, and initial algorithm â€£ Chapter 8 Equations â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">8.6</span></a>.
Given those initial values the equations are simulated forward in time; this is the transient analysis.
The equations define a DAE (Differential Algebraic Equations) which may have discontinuities, a variable structure and/or which are controlled by a discrete-event system.
Such types of systems are called <em class="ltx_emph ltx_font_italic">hybrid DAEs</em>.
After initialization, simulation proceeds with transient analysis in the following way:</p>
<ol id="S0.I4" class="ltx_enumerate">
<li id="perform-simulation-integrate" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S0.I4.i1.p1" class="ltx_para">
<p class="ltx_p">The DAE (<a href="#eq:dae" title="Equation B.1a â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1a</span></a>) is solved by a numerical integration method.
In this phase the conditions <math id="S0.I4.i1.p1.m1" class="ltx_Math" alttext="c" display="inline"><mi>c</mi></math> of the <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">if</span>- and <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-clauses, as well as the discrete-time variables <math id="S0.I4.i1.p1.m2" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math> and <math id="S0.I4.i1.p1.m3" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math> are kept constant.
Therefore, (<a href="#eq:dae" title="Equation B.1a â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1a</span></a>) is a continuous function of continuous variables and the most basic requirement of numerical integrators is fulfilled.</p>
</div>
</li>
<li id="S0.I4.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S0.I4.i2.p1" class="ltx_para">
<p class="ltx_p">During integration, all relations from (<a href="#eq:crossing" title="Equation B.1d â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1d</span></a>) are monitored.
If one of the relations changes its value an event is triggered, i.e., the exact time instant of the change is determined and the integration is halted.
As discussed in <a href="equations.html#events-and-synchronization" title="8.5 Events and Synchronization â€£ Chapter 8 Equations â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">8.5</span></a>, relations which depend only on time are usually treated in a special way, because this allows determining the time instant of the next event in advance.</p>
</div>
</li>
<li id="S0.I4.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S0.I4.i3.p1" class="ltx_para">
<p class="ltx_p">At an event instant, (<a href="#eq:hydrid-dae" title="Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a>) is a mixed set of algebraic equations which is solved for the <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span> unknowns.</p>
</div>
</li>
<li id="S0.I4.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S0.I4.i4.p1" class="ltx_para">
<p class="ltx_p">After an event is processed, the integration is restarted at phaseÂ <a href="#perform-simulation-integrate" title="Item 1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</li>
</ol>
</div>
<div id="p10" class="ltx_para">
<p class="ltx_p">Note, that both the values of the conditions <math id="p10.m1" class="ltx_Math" alttext="c" display="inline"><mi>c</mi></math> as well as the values of <math id="p10.m2" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math> and <math id="p10.m3" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math> (all discrete-time <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>, <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span> variables) are only changed at an event instant and that these variables remain constant during continuous integration.
At every event instant, new values of the discrete-time variables <math id="p10.m4" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math> and <math id="p10.m5" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math>, as well as of new initial values for the states <math id="p10.m6" class="ltx_Math" alttext="x" display="inline"><mi>x</mi></math>, are determined.
The change of discrete-time variables may characterize a new structure of a DAE where elements of the state vector <math id="p10.m7" class="ltx_Math" alttext="x" display="inline"><mi>x</mi></math> are <em class="ltx_emph ltx_font_italic">disabled</em>.
In other words, the number of state variables, algebraic variables and residue equations of a DAE may change at event instants by disabling the appropriate part of the DAE.
For clarity of the equations, this is not explicitly shown by an additional index in (<a href="#eq:hydrid-dae" title="Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a>).</p>
</div>
<div id="p11" class="ltx_para">
<p class="ltx_p">At an event instant, including the initial event, the model equations are reinitialized according to the following iteration procedure:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,a25vd24gIHZhcmlhYmxlczogeCwgdCwgcAp1bmtub3duIHZhcmlhYmxlczogZHgvZHQsIHksIHosIG0sIHByZSh6KSwgcHJlKG0pLCBjCgovLyBwcmUoeikgPSB2YWx1ZSBvZiB6IGJlZm9yZSBldmVudCBvY2N1cnJlZAovLyBwcmUobSkgPSB2YWx1ZSBvZiBtIGJlZm9yZSBldmVudCBvY2N1cnJlZApsb29wCiAgc29sdmUgKDEpIGZvciB0aGUgdW5rbm93bnMsIHdpdGggcHJlKHopIGFuZCBwcmUobSkgZml4ZWQKICBpZiB6ID09IHByZSh6KSBhbmQgbSA9PSBwcmUobSkgdGhlbiBicmVhawogIHByZSh6KSA6PSB6CiAgcHJlKG0pIDo9IG0KZW5kIGxvb3A=" download="">â¬‡</a></div>
<div id="lstnumberx6171" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">known</span><span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">variables</span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">p</span>
</div>
<div id="lstnumberx6172" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">unknown</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">variables</span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">dx</span><span class="ltx_text ltx_font_typewriter">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">dt</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">m</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">m</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span>
</div>
<div id="lstnumberx6173" class="ltx_listingline">
</div>
<div id="lstnumberx6174" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>pre(z)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>value<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>z<span class="ltx_text ltx_lst_space"> </span>before<span class="ltx_text ltx_lst_space"> </span>event<span class="ltx_text ltx_lst_space"> </span>occurred</span>
</div>
<div id="lstnumberx6175" class="ltx_listingline">
<span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>pre(m)<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>value<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>m<span class="ltx_text ltx_lst_space"> </span>before<span class="ltx_text ltx_lst_space"> </span>event<span class="ltx_text ltx_lst_space"> </span>occurred</span>
</div>
<div id="lstnumberx6176" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">loop</span>
</div>
<div id="lstnumberx6177" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">solve</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(1)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">unknowns</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">with</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">m</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fixed</span>
</div>
<div id="lstnumberx6178" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">m</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">m</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">break</span>
</div>
<div id="lstnumberx6179" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">z</span>
</div>
<div id="lstnumberx6180" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">pre</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">m</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">m</span>
</div>
<div id="lstnumberx6181" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">loop</span>
</div>
</div>
</div>
<div id="p12" class="ltx_para">
<p class="ltx_p">Clocked variables are handled similarly to <math id="p12.m1" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math> and <math id="p12.m2" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math> (depending on type), but using <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">previous</span> instead of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">pre</span> and only solved in the first event iteration.</p>
</div>
<div id="p13" class="ltx_para">
<p class="ltx_p">Solving (<a href="#eq:hydrid-dae" title="Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a>) for the unknowns is non-trivial, because this set of equations contains not only <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span>, but also discrete-valued unknowns.
Usually, in a first step these equations are sorted and in many cases the discrete-valued unknowns <math id="p13.m1" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math> can be just computed by a forward evaluation sequence.
In some cases, there remain systems of equations involving <math id="p13.m2" class="ltx_Math" alttext="m" display="inline"><mi>m</mi></math> due to cyclic dependencies with <math id="p13.m3" class="ltx_Math" alttext="y" display="inline"><mi>y</mi></math> and <math id="p13.m4" class="ltx_Math" alttext="z" display="inline"><mi>z</mi></math> (e.g., for ideal diodes, Coulomb friction elements), and specialized algorithms have to be used to solve them.</p>
</div>
<div id="p14" class="ltx_para">
<p class="ltx_p">Due to the construction of the equations by <em class="ltx_emph ltx_font_italic">flattening</em> a Modelica model, the hybrid DAE (<a href="#eq:hydrid-dae" title="Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a>) contains a huge number of sparse equations.
Therefore, direct simulation of (<a href="#eq:hydrid-dae" title="Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a>) requires sparse matrix methods.
However, solving this initial set of equations directly with a numerical method is both unreliable and inefficient.
One reason is that many Modelica models, like the mechanical ones, have a DAE index of 2 or 3, i.e., the overall number of states of the model is less than the sum of the states of the sub-components.
In such a case, every direct numerical method has the difficulty that the numerical condition becomes worse, if the integrator step size is reduced and that a step size of zero leads to a singularity.
Another problem is the handling of idealized elements, such as ideal diodes or Coulomb friction.
These elements lead to mixed systems of equations having both <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span> and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> unknowns.
Specialized algorithms are needed to solve such systems.</p>
</div>
<div id="p15" class="ltx_para">
<p class="ltx_p">To summarize, symbolic transformation techniques are needed to transform (<a href="#eq:hydrid-dae" title="Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a>) into a set of equations which can be numerically solved reliably.
Most important, the algorithm of Pantelides should to be applied to differentiate certain parts of the equations in order to reduce the index.
Note, that also explicit integration methods, such as Runge-Kutta algorithms, can be used to solve (<a href="#eq:dae" title="Equation B.1a â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1a</span></a>), after the index of (<a href="#eq:dae" title="Equation B.1a â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1a</span></a>) has been reduced by the Pantelides algorithm: During continuous integration, the integrator provides <math id="p15.m1" class="ltx_Math" alttext="x" display="inline"><mi>x</mi></math> and <math id="p15.m2" class="ltx_Math" alttext="t" display="inline"><mi>t</mi></math>.
Then, (<a href="#eq:dae" title="Equation B.1a â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1a</span></a>) is a linear or nonlinear system of equations to compute the algebraic variables <math id="p15.m3" class="ltx_Math" alttext="y" display="inline"><mi>y</mi></math> and the state derivatives <math id="p15.m4" class="ltx_Math" alttext="\frac{\mathrm{d}x}{\mathrm{d}t}" display="inline"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>â¢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>â¢</mo><mi>t</mi></mrow></mfrac></math> and the model returns <math id="p15.m5" class="ltx_Math" alttext="\frac{\mathrm{d}x}{\mathrm{d}t}" display="inline"><mfrac><mrow><mi mathvariant="normal">d</mi><mo>â¢</mo><mi>x</mi></mrow><mrow><mi mathvariant="normal">d</mi><mo>â¢</mo><mi>t</mi></mrow></mfrac></math> to the integrator by solving these systems of equations.
Often, (<a href="#eq:dae" title="Equation B.1a â€£ Equation B.1 â€£ Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1a</span></a>) is just a linear system of equations in these unknowns, so that the solution is straightforward.
This procedure is especially useful for real-time simulation where usually explicit one-step methods are used.</p>
</div>
</section>
</div>
<footer class="ltx_page_footer">
<div class="ltx_align_center">
<a href="modelica-concrete-syntax.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Modelica Concrete Syntax</span></a><a href="bib.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="bibliography"><span class="ltx_text ltx_ref_title">References</span></a><a href="idx.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="index"><span class="ltx_text ltx_ref_title">Index</span></a><a href="derivation-of-stream-equations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Derivation of Stream Equations</span></a>
</div>
<div class="ltx_page_logo">Generated  on Thu Feb 19 13:30:11 2026 by <a href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>
</body>
</html>
