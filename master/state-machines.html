<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev</title>
<!--Generated on Thu Feb 19 13:30:11 2026 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on February 19, 2026.-->

<link rel="stylesheet" href="LaTeXML.css" type="text/css">
<link rel="stylesheet" href="ltx-report.css" type="text/css">
<link rel="stylesheet" href="ltx-listings.css" type="text/css">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="css/MLS.css" type="text/css">
<link rel="stylesheet" href="css/MLS-navbar-left.css" type="text/css">
<script src="LaTeXML-maybeMathjax.js"></script>
<link rel="up" href="./" title="ModelicaÂ® Language Specification version 3.7-dev">
<link rel="start" href="./" title="ModelicaÂ® Language Specification version 3.7-dev">
<link rel="prev" href="synchronous-language-elements.html" title="Chapter 16 Synchronous Language Elements â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="next" href="annotations.html" title="Chapter 18 Annotations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="preface.html" title="Preface â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="introduction1.html" title="Chapter 1 Introduction â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="lexical-structure.html" title="Chapter 2 Lexical Structure â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="operators-and-expressions.html" title="Chapter 3 Operators and Expressions â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="class-predefined-types-and-declarations.html" title="Chapter 4 Classes, Predefined Types, and Declarations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="scoping-name-lookup-and-flattening.html" title="Chapter 5 Scoping, Name Lookup, and Flattening â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="interface-or-type-relationships.html" title="Chapter 6 Interface or Type Relationships â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="inheritance-modification-and-redeclaration.html" title="Chapter 7 Inheritance, Modification, and Redeclaration â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="equations.html" title="Chapter 8 Equations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="connectors-and-connections.html" title="Chapter 9 Connectors and Connections â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="arrays.html" title="Chapter 10 Arrays â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="statements-and-algorithm-sections.html" title="Chapter 11 Statements and Algorithm Sections â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="functions.html" title="Chapter 12 Functions â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="packages.html" title="Chapter 13 Packages â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="overloaded-operators.html" title="Chapter 14 Overloaded Operators â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="stream-connectors.html" title="Chapter 15 Stream Connectors â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="synchronous-language-elements.html" title="Chapter 16 Synchronous Language Elements â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="annotations.html" title="Chapter 18 Annotations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="unit-expressions.html" title="Chapter 19 Unit Expressions â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="chapter" href="the-modelica-standard-library.html" title="Chapter 20 The Modelica Standard Library â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="appendix" href="modelica-concrete-syntax.html" title="Appendix A Modelica Concrete Syntax â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="appendix" href="modelica-dae-representation.html" title="Appendix B Modelica DAE Representation â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="appendix" href="derivation-of-stream-equations.html" title="Appendix C Derivation of Stream Equations â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="appendix" href="modelica-revision-history.html" title="Appendix D Modelica Revision History â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="bibliography" href="bib.html" title="References â€£ ModelicaÂ® Language Specification version 3.7-dev">
<link rel="index" href="idx.html" title="Index â€£ ModelicaÂ® Language Specification version 3.7-dev">
<meta name="keywords" lang="en" content=", , , , , delayed, delayed transition, immediate, immediate transition">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body tabindex=0>
<nav class="ltx_page_navbar"><a href="./" title="" class="ltx_ref" rel="start"><span class="ltx_text ltx_ref_title">Modelica<sup class="ltx_sup">Â®</sup> Language Specification versionÂ 3.7-dev</span></a>
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="preface.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title">Preface</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="introduction1.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="lexical-structure.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Lexical Structure</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="operators-and-expressions.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Operators and Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="class-predefined-types-and-declarations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Classes, Predefined Types, and Declarations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="scoping-name-lookup-and-flattening.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Scoping, Name Lookup, and Flattening</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="interface-or-type-relationships.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Interface or Type Relationships</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="inheritance-modification-and-redeclaration.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Inheritance, Modification, and Redeclaration</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="equations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="connectors-and-connections.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Connectors and Connections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="arrays.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">10 </span>Arrays</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="statements-and-algorithm-sections.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">11 </span>Statements and Algorithm Sections</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="functions.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">12 </span>Functions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="packages.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">13 </span>Packages</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="overloaded-operators.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">14 </span>Overloaded Operators</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="stream-connectors.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">15 </span>Stream Connectors</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="synchronous-language-elements.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Synchronous Language Elements</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter ltx_ref_self">
<span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17 </span>State Machines</span></span>
<ol class="ltx_toclist ltx_toclist_chapter">
<li class="ltx_tocentry ltx_tocentry_section"><a href="#transitions" title="In Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.1 </span>Transitions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a href="#state-machine-graphics" title="In Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.2 </span>State Machine Graphics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a href="#state-machine-semantics" title="In Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3 </span>State Machine Semantics</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#state-activation" title="In 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.1 </span>State Activation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#reset-handling" title="In 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.2 </span>Reset Handling</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#activation-handling" title="In 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.3 </span>Activation Handling</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#semantics-summary" title="In 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.4 </span>Semantics Summary</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#merging-variable-definitions" title="In 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.5 </span>Merging Variable Definitions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#merging-connections-to-multiple-outputs" title="In 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.6 </span>Merging Connections to Outputs</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a href="#example" title="In 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">17.3.7 </span>Example</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="annotations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Annotations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="unit-expressions.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">19 </span>Unit Expressions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_chapter"><a href="the-modelica-standard-library.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">20 </span>The Modelica Standard Library</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-concrete-syntax.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Modelica Concrete Syntax</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-dae-representation.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Modelica DAE Representation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="derivation-of-stream-equations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Derivation of Stream Equations</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a href="modelica-revision-history.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Modelica Revision History</span></a></li>
<li class="ltx_tocentry ltx_tocentry_bibliography"><a href="bib.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title">References</span></a></li>
<li class="ltx_tocentry ltx_tocentry_index"><a href="idx.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_title">Index</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<header class="ltx_page_header">
<div class="ltx_align_center">
<a href="./" title="" class="ltx_ref" rel="up"><span class="ltx_text ltx_ref_title">Modelica<sup class="ltx_sup">Â®</sup> Language Specification versionÂ 3.7-dev</span></a><a href="synchronous-language-elements.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Synchronous Language Elements</span></a><a href="annotations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Annotations</span></a>
</div></header>
<div class="ltx_page_content">
<section class="ltx_chapter">
<h1 class="ltx_title ltx_title_chapter">
<span class="ltx_tag ltx_tag_chapter">Chapter 17 </span>State Machines</h1>

<div id="p1" class="ltx_para">
<p class="ltx_p">This chapter defines language elements to define clocked state machines.
These state machines have a similar modeling power as Statecharts <cite class="ltx_cite ltx_citemacro_citep">(Harel, <a href="bib.html#bib6" title="Statecharts: a visual formalism for complex systems" class="ltx_ref">1987</a>)</cite> and have the important feature that at one clock tick, there is only one assignment to every variable (for example, it is an error if state machines are executed in parallel and they assign to the same variable at the same clock tick; such errors are detected during translation).
Furthermore, it is possible to activate and deactivate clocked equations and blocks at a clock tick.
An efficient implementation will only evaluate the equations and blocks that are active at the current clock tick.
With other Modelica language elements, this important feature cannot be defined.</p>
</div>
<div id="p2" class="ltx_para">
<p class="ltx_p">The semantics of the state machines defined in this chapter is inspired by mode automata and is basically the one from Lucid Synchrone 3.0 <cite class="ltx_cite ltx_citemacro_citep">(Pouzet, <a href="bib.html#bib8" title="Lucid synchrone, version 3.0, tutorial and reference manual" class="ltx_ref">2006</a>)</cite>.
Note, safety critical control software in aircrafts is often defined with such kind of state machines.
The following properties are different to Lucid Synchrone 3.0:</p>
<ul id="S0.I1" class="ltx_itemize">
<li id="S0.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I1.i1.p1" class="ltx_para">
<p class="ltx_p">Lucid Synchrone has two kinds of transitions: <em class="ltx_emph ltx_font_italic">strong</em> and <em class="ltx_emph ltx_font_italic">weak</em> transitions.
Strong transitions are executed before the actions of a state are evaluated and weak transitions are executed after the actions of a state are evaluated.
This can lead to surprising behavior, because the actions of a state are skipped if it is activated by a weak transition and exited by a true strong transition.</p>
</div>
<div id="S0.I1.i1.p2" class="ltx_para">
<p class="ltx_p">For this reason, the state machines in this chapter use <em class="ltx_emph ltx_font_italic">immediate</em> (= the same as <em class="ltx_emph ltx_font_italic">strong</em>) and <em class="ltx_emph ltx_font_italic">delayed</em> transitions.
Delayed transitions are <em class="ltx_emph ltx_font_italic">immediate</em> transitions where the condition is automatically delayed with an implicit <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">previous</span>.</p>
</div>
</li>
<li id="S0.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I1.i2.p1" class="ltx_para">
<p class="ltx_p">Parallel state machines can be explicitly synchronized with a language element (similarly to parallel branches in Sequential Function Charts).
This often occurring operation can also be defined in Statecharts or in Lucid Synchrone state machines but only indirectly with appropriate conditions on transitions.</p>
</div>
</li>
<li id="S0.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S0.I1.i3.p1" class="ltx_para">
<p class="ltx_p">Modelica blocks can be used as states.
They might contain clocked equations.
If the equations are discretized, they are integrated between the previous and the current clock tick, if the corresponding state is active.</p>
</div>
</li>
</ul>
</div>
<section id="transitions" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">17.1 </span>Transitions</h2>

<div id="S1.p1" class="ltx_para">
<p class="ltx_p">Any Modelica block instance without continuous-time equations or continuous-time algorithms can potentially be a state of a state machine.
A cluster of instances which are coupled by <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">transition</span> statements makes a state machine.
All parts of a state machine must have the same clock.
All transitions leaving one state must have different priorities.
One and only one instance in each state machine must be marked as initial by appearing in an <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">initialState</span> statement.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p class="ltx_p">The special kinds of <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">connect</span>-like equations listed below are used to define a state machine.
None of these operators are allowed inside <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">function</span> classes.</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Expression</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Description</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(<math id="S1.p2.m1" class="ltx_Math" alttext="\mathit{from}" display="inline"><mi mathbackground="#FFFFFF">ğ‘“ğ‘Ÿğ‘œğ‘š</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S1.p2.m2" class="ltx_Math" alttext="\mathit{to}" display="inline"><mi mathbackground="#FFFFFF">ğ‘¡ğ‘œ</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S1.p2.m3" class="ltx_Math" alttext="\mathit{condition}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ğ‘œğ‘›ğ‘‘ğ‘–ğ‘¡ğ‘–ğ‘œğ‘›</mi></math>,<span class="ltx_text ltx_lst_space"> </span><math id="S1.p2.m4" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">â€¦</mi></math>)</span></span></th>
<td class="ltx_td ltx_align_left ltx_border_tt">State machine transition between states</td>
<td class="ltx_td ltx_align_left ltx_border_tt"><a href="#modelica:transition" title="Operator 17.1 transition â€£ 17.1 Transitions â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span>Â <span class="ltx_text ltx_ref_tag">17.1</span></a></td>
</tr>
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">initialState</span><span class="ltx_text ltx_font_typewriter">(<math id="S1.p2.m5" class="ltx_Math" alttext="\mathit{state}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ ğ‘¡ğ‘ğ‘¡ğ‘’</mi></math>)</span></span></th>
<td class="ltx_td ltx_align_left ltx_border_b">State machine initial state</td>
<td class="ltx_td ltx_align_left ltx_border_b"><a href="#modelica:initialState" title="Operator 17.2 initialState â€£ 17.1 Transitions â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span>Â <span class="ltx_text ltx_ref_tag">17.2</span></a></td>
</tr>
</tbody>
</table>
</div>
<div id="S1.p3" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">transition</span>- and <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">initialState</span>-equations can only be used in equations, and cannot be used inside <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">if</span>-equations with conditions that are not parameter expressions, or in <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">when</span>-equations.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p class="ltx_p">The operators listed below are used to query the status of the state machine.
None of these operators are allowed inside <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">function</span> classes.</p>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr class="ltx_tr">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t"><span class="ltx_text ltx_font_italic">Expression</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Description</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t"><span class="ltx_text ltx_font_italic">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">(<math id="S1.p4.m1" class="ltx_Math" alttext="\mathit{state}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ ğ‘¡ğ‘ğ‘¡ğ‘’</mi></math>)</span></span></td>
<td class="ltx_td ltx_align_left ltx_border_tt">Predicate for active state</td>
<td class="ltx_td ltx_align_left ltx_border_tt"><a href="#modelica:activeState" title="Operator 17.3 activeState â€£ 17.1 Transitions â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span>Â <span class="ltx_text ltx_ref_tag">17.3</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ticksInState</span><span class="ltx_text ltx_font_typewriter">()</span></span></td>
<td class="ltx_td ltx_align_left">Ticks since activation</td>
<td class="ltx_td ltx_align_left"><a href="#modelica:ticksInState" title="Operator 17.4 ticksInState â€£ 17.1 Transitions â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span>Â <span class="ltx_text ltx_ref_tag">17.4</span></a></td>
</tr>
<tr class="ltx_tr">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r"><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">timeInState</span><span class="ltx_text ltx_font_typewriter">()</span></span></td>
<td class="ltx_td ltx_align_left ltx_border_b">Time since activation</td>
<td class="ltx_td ltx_align_left ltx_border_b"><a href="#modelica:timeInState" title="Operator 17.5 timeInState â€£ 17.1 Transitions â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Operator</span>Â <span class="ltx_text ltx_ref_tag">17.5</span></a></td>
</tr>
</tbody>
</table>
</div>
<div id="modelica:transition" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">OperatorÂ 17.1 <span class="ltx_text ltx_font_typewriter">transition
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition1.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dHJhbnNpdGlvbigkXG1hdGhpdHtmcm9tfSQsICRcbWF0aGl0e3RvfSQsICRcbWF0aGl0e2NvbmRpdGlvbn0kLAogIGltbWVkaWF0ZT0kXG1hdGhpdHtpbW19JCwgcmVzZXQ9JFxtYXRoaXR7cmVzZXR9JCwgc3luY2hyb25pemU9JFxtYXRoaXR7c3luY2h9JCwgcHJpb3JpdHk9JFxtYXRoaXR7cHJpb30kKQ==" download="">â¬‡</a></div>
<div id="lstnumberx4689" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4689.m1" class="ltx_Math" alttext="\mathit{from}" display="inline"><mi mathbackground="#FFFFFF">ğ‘“ğ‘Ÿğ‘œğ‘š</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4689.m2" class="ltx_Math" alttext="\mathit{to}" display="inline"><mi mathbackground="#FFFFFF">ğ‘¡ğ‘œ</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4689.m3" class="ltx_Math" alttext="\mathit{condition}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ğ‘œğ‘›ğ‘‘ğ‘–ğ‘¡ğ‘–ğ‘œğ‘›</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx4690" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4690.m1" class="ltx_Math" alttext="\mathit{imm}" display="inline"><mi mathbackground="#FFFFFF">ğ‘–ğ‘šğ‘š</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4690.m2" class="ltx_Math" alttext="\mathit{reset}" display="inline"><mi mathbackground="#FFFFFF">ğ‘Ÿğ‘’ğ‘ ğ‘’ğ‘¡</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">synchronize</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4690.m3" class="ltx_Math" alttext="\mathit{synch}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ ğ‘¦ğ‘›ğ‘â„</mi></math></span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">priority</span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4690.m4" class="ltx_Math" alttext="\mathit{prio}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ğ‘Ÿğ‘–ğ‘œ</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S1.I1.ix1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"></span>
<div id="S1.I1.ix1.p1" class="ltx_para">
<p class="ltx_p">Arguments <math id="S1.I1.ix1.p1.m1" class="ltx_Math" alttext="\mathit{from}" display="inline"><mi>ğ‘“ğ‘Ÿğ‘œğ‘š</mi></math> and <math id="S1.I1.ix1.p1.m2" class="ltx_Math" alttext="\mathit{to}" display="inline"><mi>ğ‘¡ğ‘œ</mi></math> are block instances, and <math id="S1.I1.ix1.p1.m3" class="ltx_Math" alttext="\mathit{condition}" display="inline"><mi>ğ‘ğ‘œğ‘›ğ‘‘ğ‘–ğ‘¡ğ‘–ğ‘œğ‘›</mi></math> is a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> argument.
The optional arguments <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">immediate</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">reset</span>, and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">synchronize</span> are of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span>, have parameter variability and a default of <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">true</span>, <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">true</span>, <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">false</span> respectively.
The optional argument <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">priority</span> is of type <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Integer</span>, has parameter variability and a default of 1.</p>
</div>
<div id="S1.I1.ix1.p2" class="ltx_para">
<p class="ltx_p">This operator defines a transition from instance <math id="S1.I1.ix1.p2.m1" class="ltx_Math" alttext="\mathit{from}" display="inline"><mi>ğ‘“ğ‘Ÿğ‘œğ‘š</mi></math> to instance <math id="S1.I1.ix1.p2.m2" class="ltx_Math" alttext="\mathit{to}" display="inline"><mi>ğ‘¡ğ‘œ</mi></math>.
The <math id="S1.I1.ix1.p2.m3" class="ltx_Math" alttext="\mathit{from}" display="inline"><mi>ğ‘“ğ‘Ÿğ‘œğ‘š</mi></math> and <math id="S1.I1.ix1.p2.m4" class="ltx_Math" alttext="\mathit{to}" display="inline"><mi>ğ‘¡ğ‘œ</mi></math> instances become states of a state machine.
The transition fires when <math id="S1.I1.ix1.p2.m5" class="ltx_Math" alttext="{\mathit{condition}=\text{\leavevmode\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_keyword}%
{\color[rgb]{0.00,0.20,0.47}true}}}}}}" display="inline"><mrow><mi>ğ‘ğ‘œğ‘›ğ‘‘ğ‘–ğ‘¡ğ‘–ğ‘œğ‘›</mi><mo>=</mo><mtext class="ltx_mathvariant_monospace ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#003378">true</mtext></mrow></math> if <math id="S1.I1.ix1.p2.m6" class="ltx_Math" alttext="{\mathit{imm}=\text{\leavevmode\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_keyword}%
{\color[rgb]{0.00,0.20,0.47}true}}}}}}" display="inline"><mrow><mi>ğ‘–ğ‘šğ‘š</mi><mo>=</mo><mtext class="ltx_mathvariant_monospace ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#003378">true</mtext></mrow></math> (this is called an <em class="ltx_emph ltx_font_italic">immediate transition</em>) or <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<math id="S1.I1.ix1.p2.m7" class="ltx_Math" alttext="\mathit{condition}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ğ‘œğ‘›ğ‘‘ğ‘–ğ‘¡ğ‘–ğ‘œğ‘›</mi></math>)</span></span> when <math id="S1.I1.ix1.p2.m8" class="ltx_Math" alttext="{\mathit{imm}=\text{\leavevmode\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_keyword}%
{\color[rgb]{0.00,0.20,0.47}false}}}}}}" display="inline"><mrow><mi>ğ‘–ğ‘šğ‘š</mi><mo>=</mo><mtext class="ltx_mathvariant_monospace ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#003378">false</mtext></mrow></math> (this is called a <em class="ltx_emph ltx_font_italic">delayed transition</em>).
Argument <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">priority</span> defines the priority of firing when several transitions could fire.
In this case the transition with the smallest value of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">priority</span> fires.
It is required that <math id="S1.I1.ix1.p2.m9" class="ltx_Math" alttext="\mathit{prio}\geq 1" display="inline"><mrow><mi>ğ‘ğ‘Ÿğ‘–ğ‘œ</mi><mo>â‰¥</mo><mn>1</mn></mrow></math> and that for all transitions from the same state, the priorities are different.
If <math id="S1.I1.ix1.p2.m10" class="ltx_Math" alttext="{\mathit{reset}=\text{\leavevmode\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_keyword}%
{\color[rgb]{0.00,0.20,0.47}true}}}}}}" display="inline"><mrow><mi>ğ‘Ÿğ‘’ğ‘ ğ‘’ğ‘¡</mi><mo>=</mo><mtext class="ltx_mathvariant_monospace ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#003378">true</mtext></mrow></math>, the states of the target state are reinitialized, i.e., state machines are restarted in initial state and state variables are reset to their start values.
If <math id="S1.I1.ix1.p2.m11" class="ltx_Math" alttext="{\mathit{synch}=\text{\leavevmode\lstinline{{\lst@@@set@language%
\lst@@@set@numbers\lst@@@set@frame\lst@@@set@rulecolor\lst@@@set@language%
\lst@@@set@language\lst@@@set@frame\normalsize{\@listingGroup{ltx_lst_keyword}%
{\color[rgb]{0.00,0.20,0.47}true}}}}}}" display="inline"><mrow><mi>ğ‘ ğ‘¦ğ‘›ğ‘â„</mi><mo>=</mo><mtext class="ltx_mathvariant_monospace ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting" mathbackground="#FFFFFF" mathcolor="#003378">true</mtext></mrow></math>, any transition is disabled until all state machines of the from-state have reached final states, i.e., states without outgoing transitions.
For the precise details about firing a transition, see <a href="#state-machine-semantics" title="17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">17.3</span></a>.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:initialState" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">OperatorÂ 17.2 <span class="ltx_text ltx_font_typewriter">initialState
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition2.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,aW5pdGlhbFN0YXRlKCRcbWF0aGl0e3N0YXRlfSQp" download="">â¬‡</a></div>
<div id="lstnumberx4691" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">initialState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4691.m1" class="ltx_Math" alttext="\mathit{state}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ ğ‘¡ğ‘ğ‘¡ğ‘’</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S1.I2.ix1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"></span>
<div id="S1.I2.ix1.p1" class="ltx_para">
<p class="ltx_p">Argument <math id="S1.I2.ix1.p1.m1" class="ltx_Math" alttext="\mathit{state}" display="inline"><mi>ğ‘ ğ‘¡ğ‘ğ‘¡ğ‘’</mi></math> is the block instance that is defined to be the initial state of a state machine.
At the first clock tick of the state machine, this state becomes active.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:activeState" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">OperatorÂ 17.3 <span class="ltx_text ltx_font_typewriter">activeState
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition3.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YWN0aXZlU3RhdGUoJFxtYXRoaXR7c3RhdGV9JCk=" download="">â¬‡</a></div>
<div id="lstnumberx4692" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4692.m1" class="ltx_Math" alttext="\mathit{state}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ ğ‘¡ğ‘ğ‘¡ğ‘’</mi></math></span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S1.I3.ix1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"></span>
<div id="S1.I3.ix1.p1" class="ltx_para">
<p class="ltx_p">Argument <math id="S1.I3.ix1.p1.m1" class="ltx_Math" alttext="\mathit{state}" display="inline"><mi>ğ‘ ğ‘¡ğ‘ğ‘¡ğ‘’</mi></math> is a block instance.
The operator returns <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">true</span> if this instance is a state of a state machine and this state is active at the actual clock tick.
If it is not active, the operator returns <span class="ltx_text ltx_lst_keyword ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#003378;background-color:#FFFFFF;">false</span>.</p>
</div>
<div id="S1.I3.ix1.p2" class="ltx_para">
<p class="ltx_p">It is an error if the instance is not a state of a state machine.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:ticksInState" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">OperatorÂ 17.4 <span class="ltx_text ltx_font_typewriter">ticksInState
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition4.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dGlja3NJblN0YXRlKCk=" download="">â¬‡</a></div>
<div id="lstnumberx4693" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ticksInState</span><span class="ltx_text ltx_font_typewriter">()</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S1.I4.ix1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"></span>
<div id="S1.I4.ix1.p1" class="ltx_para">
<p class="ltx_p">Returns the number of ticks of the clock of the state machine for which the currently active state has maintained its active state without interruption, i.e., without local or hierarchical transitions from this state.
In the case of a self-transition to the currently active state or to an active enclosing state, the number is reset to one.</p>
</div>
<div id="S1.I4.ix1.p2" class="ltx_para">
<p class="ltx_p">This function can only be used in state machines.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="modelica:timeInState" class="ltx_theorem ltx_theorem_operatordefinition">
<h6 class="ltx_title ltx_runin ltx_font_bold ltx_title_theorem">OperatorÂ 17.5 <span class="ltx_text ltx_font_typewriter">timeInState
<br class="ltx_break"></span>
</h6>
<div id="Thmoperatordefinition5.p1" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica_synopsis ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dGltZUluU3RhdGUoKQ==" download="">â¬‡</a></div>
<div id="lstnumberx4694" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">timeInState</span><span class="ltx_text ltx_font_typewriter">()</span>
</div>
</div>
<ul class="ltx_itemize">
<li id="S1.I5.ix1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"></span>
<div id="S1.I5.ix1.p1" class="ltx_para">
<p class="ltx_p">Returns the time duration as <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Real</span> in [s] for which the currently active state has maintained its active state without interruption, i.e., without local or hierarchical transitions from this state.
In the case of a self-transition to the currently active state or to an active enclosing state, the time is reset to zero.</p>
</div>
<div id="S1.I5.ix1.p2" class="ltx_para">
<p class="ltx_p">This function can only be used in state machines.</p>
</div>
</li>
</ul>
</div>
</div>
<div id="S1.p5" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example :
If there is a transition with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">false</span></span></span> from state <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">A1</span> to <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">A2</span> and the condition is <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">ticksInState</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">()<span class="ltx_text ltx_lst_space"> </span>&gt;=<span class="ltx_text ltx_lst_space"> </span>5</span></span>, and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">A1</span> became active at 10ms, and the clock period is 1ms, then <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">A1</span> will be active at 10ms, 11ms, 12ms, 13ms, 14ms, and will be not active at 15ms.</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICBibG9jayBTdGF0ZSBlbmQgU3RhdGU7CiAgU3RhdGUgQTA7CiAgU3RhdGUgQTE7IC8vIEJlY29tZXMgYWN0aXZlIGF0IDEwbXMKICBTdGF0ZSBBMjsKZXF1YXRpb24KICBpbml0aWFsU3RhdGUoQTApOwogIHRyYW5zaXRpb24oQTAsIEExLCBzYW1wbGUodGltZSwgQ2xvY2soMSwgMTAwMCkpID4gMC4wMDk1KTsKICB0cmFuc2l0aW9uKEExLCBBMiwgdGlja3NJblN0YXRlKCkgPj0gNSwgaW1tZWRpYXRlID0gZmFsc2UpOw==" download="">â¬‡</a></div>
<div id="lstnumberx4695" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4696" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A0</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4697" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A1</span><span class="ltx_text ltx_font_typewriter">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Becomes<span class="ltx_text ltx_lst_space"> </span>active<span class="ltx_text ltx_lst_space"> </span>at<span class="ltx_text ltx_lst_space"> </span>10ms</span>
</div>
<div id="lstnumberx4698" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A2</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4699" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4700" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">initialState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A0</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4701" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A0</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">time</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Clock</span><span class="ltx_text ltx_font_typewriter">(1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1000))</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0.0095);</span>
</div>
<div id="lstnumberx4702" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">A2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">ticksInState</span><span class="ltx_text ltx_font_typewriter">()</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">5,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
<section id="state-machine-graphics" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">17.2 </span>State Machine Graphics</h2>

<div id="S2.p1" class="ltx_para">
<p class="ltx_p">[<a href="#fig:state-machine-layout" title="In 17.2 State Machine Graphics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref ltx_font_italic"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">17.1</span></a><span class="ltx_text ltx_font_italic"> shows the recommended layout of a state machine.
</span>]</p>
</div>
<figure id="fig:state-machine-layout" class="ltx_figure"><object type="image/svg+xml" data="media/statemachine.svg" id="F1.g1" class="ltx_graphics ltx_centering"></object>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 17.1: </span>
Recommended layout of a simple state machine.
For the 5 transitions, the settings are as follows, from left to right: <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">immediate</span> = true, false, true, false, true; <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">reset</span> = true, true, false, false, true; <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">synchronize</span> = false, false, false, false, true; <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">priority</span> = 1, 2, 3, 4, 5.
</figcaption>
</figure>
<div id="S2.p2" class="ltx_para">
<p class="ltx_p">The annotation for graphics of <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">transition</span> has the following structure: <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">annotation</span><span class="ltx_text ltx_font_typewriter">(<span class="ltx_text ltx_lst_identifier">Line</span>(<math id="S2.p2.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">â€¦</mi></math>),<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_identifier">Text</span>(<math id="S2.p2.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">â€¦</mi></math>))</span></span>; and for <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">initialState</span><span class="ltx_text ltx_font_typewriter">()</span></span>: <em class="ltx_emph ltx_font_italic">graphical-primitives</em><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">(<span class="ltx_text ltx_lst_identifier">Line</span>(<math id="S2.p2.m3" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">â€¦</mi></math>))</span>; with <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Line</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Text</span> annotations defined in <a href="annotations.html" title="Chapter 18 Annotations â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">chapter</span>Â <span class="ltx_text ltx_ref_tag">18</span></a>.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example :</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dHJhbnNpdGlvbihzdGF0ZTIsIHN0YXRlMSwgeCA8IDEwLAogICAgICAgICAgIGltbWVkaWF0ZSA9IHRydWUsIHJlc2V0ID0gdHJ1ZSwgc3luY2hyb25pemUgPSBmYWxzZSwgcHJpb3JpdHkgPSAxKQogIGFubm90YXRpb24oCiAgICBMaW5lKAogICAgICBwb2ludHMgPSB7ey00MCwtMTZ9LHstMzYsLTR9LHstMzIsOH0sey00MCwyNn0sey00MCwzMn0sey00Niw1MH19LAogICAgICBjb2xvciA9IHsxNzUsIDE3NSwgMTc1fSwKICAgICAgdGhpY2tuZXNzID0gMC4yNSwKICAgICAgc21vb3RoID0gU21vb3RoLkJlemllciksCiAgICBUZXh0KAogICAgICBzdHJpbmcgPSAiJWNvbmRpdGlvbiIsCiAgICAgIGV4dGVudCA9IHt7NCwgLTR9LCB7NCwgLTEwfX0sCiAgICAgIGZvbnRTaXplID0gMTAsCiAgICAgIHRleHRTdHlsZSA9IHtUZXh0U3R5bGUuQm9sZH0sCiAgICAgIHRleHRDb2xvciA9IHs5NSwgOTUsIDk1fSwKICAgICAgaG9yaXpvbnRhbEFsaWdubWVudCA9IFRleHRBbGlnbm1lbnQuTGVmdCksCiAgKTs=" download="">â¬‡</a></div>
<div id="lstnumberx4703" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">x</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10,</span>
</div>
<div id="lstnumberx4704" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">           </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">synchronize</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">priority</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1)</span>
</div>
<div id="lstnumberx4705" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">annotation</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4706" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Line</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4707" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">points</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{{-40,-16},{-36,-4},{-32,8},{-40,26},{-40,32},{-46,50}},</span>
</div>
<div id="lstnumberx4708" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">color</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{175,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">175,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">175},</span>
</div>
<div id="lstnumberx4709" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">thickness</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0.25,</span>
</div>
<div id="lstnumberx4710" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">smooth</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Smooth</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Bezier</span><span class="ltx_text ltx_font_typewriter">),</span>
</div>
<div id="lstnumberx4711" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Text</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4712" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">string</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"%condition"</span><span class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx4713" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">extent</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{{4,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-4},</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{4,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-10}},</span>
</div>
<div id="lstnumberx4714" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fontSize</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">10,</span>
</div>
<div id="lstnumberx4715" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">textStyle</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">TextStyle</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Bold</span><span class="ltx_text ltx_font_typewriter">},</span>
</div>
<div id="lstnumberx4716" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">textColor</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{95,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">95,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">95},</span>
</div>
<div id="lstnumberx4717" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">horizontalAlignment</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">TextAlignment</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Left</span><span class="ltx_text ltx_font_typewriter">),</span>
</div>
<div id="lstnumberx4718" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
<div id="S2.p4" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Text</span> annotation representing the transition condition can use the notation <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">%<span class="ltx_text ltx_lst_identifier">condition</span></span> to refer to the condition expression.</p>
</div>
<div id="S2.p5" class="ltx_para">
<p class="ltx_p">The extent of the Text is interpreted relative to either the first point of the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Line</span>, in the case of <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">false</span></span></span>, or the last point (<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">true</span></span></span>).</p>
</div>
<div id="S2.p6" class="ltx_para">
<p class="ltx_p">In addition to the line defined by the points of the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">Line</span> annotation, a perpendicular line is used to represent the transition.
This line is closer to the first point if <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">false</span></span></span> otherwise closer to the last point.</p>
</div>
<div id="S2.p7" class="ltx_para">
<p class="ltx_p">If the condition text is somewhat distant from the perpendicular line, a dimmed straight line joins the transition text and the perpendicular line.
(See the rightmost transition above.)</p>
</div>
<div id="S2.p8" class="ltx_para">
<p class="ltx_p">If <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">true</span></span></span>, a filled arrow head is used otherwise an open arrow head.
For <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">synchronize</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=<span class="ltx_text ltx_lst_space"> </span><span class="ltx_text ltx_lst_keyword" style="color:#003378;">true</span></span></span>, an inverse â€œforkâ€ symbol is used in the beginning of the arrow.
(See the rightmost transition above.)</p>
</div>
<div id="S2.p9" class="ltx_para">
<p class="ltx_p">The value of the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">priority</span>-attribute is prefixing the condition text followed by a colon if <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">priority</span> &gt; 1.</p>
</div>
<div id="S2.p10" class="ltx_para">
<p class="ltx_p">The <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">initialState</span> line has a filled arrow head and a bullet at the opposite end of the initial state (as shown above).</p>
</div>
</section>
<section id="state-machine-semantics" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">17.3 </span>State Machine Semantics</h2>

<div id="S3.p1" class="ltx_para">
<p class="ltx_p">For the purpose of defining the semantics of state machines, assume that the data of all transitions are stored in an array of records:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,cmVjb3JkIFRyYW5zaXRpb24KICBJbnRlZ2VyIGZyb207CiAgSW50ZWdlciB0bzsKICBCb29sZWFuIGltbWVkaWF0ZSA9IHRydWU7CiAgQm9vbGVhbiByZXNldCA9IHRydWU7CiAgQm9vbGVhbiBzeW5jaHJvbml6ZSA9IGZhbHNlOwogIEludGVnZXIgcHJpb3JpdHkgPSAxOwplbmQgVHJhbnNpdGlvbjs=" download="">â¬‡</a></div>
<div id="lstnumberx4719" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">record</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span>
</div>
<div id="lstnumberx4720" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4721" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4722" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4723" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4724" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">synchronize</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4725" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">priority</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4726" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
</div>
<div id="S3.p2" class="ltx_para">
<p class="ltx_p">The transitions are sorted with lowest priority number last in the array; and the priorities must be unique for each value of <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">from</span>.
The states are enumerated from 1 and up.
The transition conditions are stored in a separate array <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">[:]</span></span> since they are time varying.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p class="ltx_p">The semantics model is a discrete-time system with inputs {<span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">[:]</span></span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">active</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">reset</span>} with <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">t</span> being an array corresponding to the inputs to the transition operator, outputs {<span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">activeState</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">activeReset</span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeResetStates</span><span class="ltx_text ltx_font_typewriter">[:]</span></span>} and states {<span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextState</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextReset</span>, <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextResetStates</span><span class="ltx_text ltx_font_typewriter">[:]</span></span>}.
For a top-level state machine, active is always true.
For sub-state machines, active is true only when the parent state is active.
For a top-level state machine, reset is true at the first activation only.
For sub-state machine, reset is propagated from the state machines higher up.</p>
</div>
<section id="state-activation" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">17.3.1 </span>State Activation</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p class="ltx_p">The state update starts from <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextState</span>, i.e., what has been determined to be the next state at the previous time.
<span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">selectedState</span> takes into account if a reset of the state machine is to be done.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,b3V0cHV0IEludGVnZXIgc2VsZWN0ZWRTdGF0ZSA9IGlmIHJlc2V0IHRoZW4gMSBlbHNlIHByZXZpb3VzKG5leHRTdGF0ZSk7" download="">â¬‡</a></div>
<div id="lstnumberx4727" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">selectedState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextState</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
</div>
<p class="ltx_p">The integer fired is calculated as the index of the transition to be fired by checking that <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">selectedState</span> is the from-state and the condition is true for an immediate transition or <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(<math id="S3.SS1.p2.m1" class="ltx_Math" alttext="\mathit{condition}" display="inline"><mi mathbackground="#FFFFFF">ğ‘ğ‘œğ‘›ğ‘‘ğ‘–ğ‘¡ğ‘–ğ‘œğ‘›</mi></math>)</span></span> is true for a delayed transition.
The max function returns the index of the transition with highest priority or 0.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,SW50ZWdlciBmaXJlZCA9CiAgbWF4KAogICAgaWYgdFtpXS5mcm9tID09IHNlbGVjdGVkU3RhdGUgYW5kCiAgICAgICAgKGlmIHRbaV0uaW1tZWRpYXRlIHRoZW4gY1tpXSBlbHNlIHByZXZpb3VzKGNbaV0pKQogICAgICB0aGVuIGkKICAgICAgZWxzZSAwCiAgICBmb3IgaSBpbiAxIDogc2l6ZSh0LCAxKSk7" download="">â¬‡</a></div>
<div id="lstnumberx4728" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fired</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4729" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">max</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4730" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">selectedState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span>
</div>
<div id="lstnumberx4731" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">]))</span>
</div>
<div id="lstnumberx4732" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span>
</div>
<div id="lstnumberx4733" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span>
</div>
<div id="lstnumberx4734" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">size</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1));</span>
</div>
</div>
<p class="ltx_p">The start value of c is false.
This definition would require that the previous value is recorded for all transitions conditions.
Below is described an equivalent semantics which just require to record the value of one integer variable delayed.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p class="ltx_p">The integer immediate is calculated as the index of the immediate transition to potentially be fired by checking that <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">selectedState</span> is the from-state and the condition is true.
The max function returns the index of the transition with true condition and highest priority or 0.</p>
</div>
<div id="S3.SS1.p5" class="ltx_para">
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,SW50ZWdlciBpbW1lZGlhdGUgPQogIG1heCgKICAgIGlmIHRbaV0uaW1tZWRpYXRlIGFuZCB0W2ldLmZyb20gPT0gc2VsZWN0ZWRTdGF0ZSBhbmQgY1tpXSB0aGVuIGkgZWxzZSAwCiAgICBmb3IgaSBpbiAxIDogc2l6ZSh0LCAxKSk7" download="">â¬‡</a></div>
<div id="lstnumberx4735" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4736" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">max</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4737" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">selectedState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span>
</div>
<div id="lstnumberx4738" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">size</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1));</span>
</div>
</div>
</div>
<div id="S3.SS1.p6" class="ltx_para">
<p class="ltx_p">In a similar way, the <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">delayed</span></span> is calculated as the index for a potentially delayed transition, i.e., a transition taking place at the next clock tick.
In this case the from-state needs to be equal to <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextState</span>:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,SW50ZWdlciBkZWxheWVkID0KICBtYXgoCiAgICBpZiBub3QgdFtpXS5pbW1lZGlhdGUgYW5kIHRbaV0uZnJvbSA9PSBuZXh0U3RhdGUgYW5kIGNbaV0gdGhlbiBpIGVsc2UgMAogICAgZm9yIGkgaW4gMSA6IHNpemUodCwgMSkpOw==" download="">â¬‡</a></div>
<div id="lstnumberx4739" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">delayed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4740" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">max</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4741" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span>
</div>
<div id="lstnumberx4742" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">size</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1));</span>
</div>
</div>
</div>
<div id="S3.SS1.p7" class="ltx_para">
<p class="ltx_p">The transition to be fired is determined as follows, taking into account that a delayed transition might have higher priority than an immediate:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,SW50ZWdlciBmaXJlZCA9IG1heChwcmV2aW91cyhkZWxheWVkKSwgaW1tZWRpYXRlKTs=" download="">â¬‡</a></div>
<div id="lstnumberx4743" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fired</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">max</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">delayed</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
</div>
<p class="ltx_p"><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextState</span> is set to the found transitions to-state:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,SW50ZWdlciBuZXh0U3RhdGUgPQogIGlmIGFjdGl2ZSB0aGVuCiAgICAoaWYgZmlyZWQgPiAwIHRoZW4gdFtmaXJlZF0udG8gZWxzZSBzZWxlY3RlZFN0YXRlKQogIGVsc2UKICAgIHByZXZpb3VzKG5leHRTdGF0ZSk7" download="">â¬‡</a></div>
<div id="lstnumberx4744" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4745" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4746" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fired</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fired</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">selectedState</span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
<div id="lstnumberx4747" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx4748" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextState</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
</div>
<p class="ltx_p">In order to define synchronize transitions, each state machine must determine which are the final states, i.e., states without from-transitions and to determine if the state machine is in a final state currently:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Qm9vbGVhbiBmaW5hbFN0YXRlc1tuU3RhdGVzXSA9CiAge21pbih0W2pdLmZyb20gPD4gaSBmb3IgaiBpbiAxIDogc2l6ZSh0LCAxKSkgZm9yIGkgaW4gMSA6IG5TdGF0ZXN9OwpCb29sZWFuIHN0YXRlTWFjaGluZUluRmluYWxTdGF0ZSA9IGZpbmFsU3RhdGVzW2FjdGl2ZVN0YXRlXTs=" download="">â¬‡</a></div>
<div id="lstnumberx4749" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">finalStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4750" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">min</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">size</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1))</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">};</span>
</div>
<div id="lstnumberx4751" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateMachineInFinalState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">finalStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">];</span>
</div>
</div>
<p class="ltx_p">To enable a synchronize transition, all the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">stateMachineInFinalState</span> conditions of all state machines within the meta state must be true.
An example is given below in the semantic example model.</p>
</div>
</section>
<section id="reset-handling" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">17.3.2 </span>Reset Handling</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p class="ltx_p">A state can be reset for two reasons:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p class="ltx_p">The whole state machine has been reset from its context.
In this case, all states must be reset, and the initial state becomes active.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p class="ltx_p">A reset transition has been fired.
Then, its target state is reset, but not other states.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p class="ltx_p">The first reset mechanism is handled by the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">activeResetStates</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextResetStates</span> vectors.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p class="ltx_p">The state machine reset flag is propagated and maintained to each state individually:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,b3V0cHV0IEJvb2xlYW4gYWN0aXZlUmVzZXRTdGF0ZXNbblN0YXRlc10gPQogIHtyZXNldCBvciBwcmV2aW91cyhuZXh0UmVzZXRTdGF0ZXNbaV0pIGZvciBpIGluIDEgOiBuU3RhdGVzfTs=" download="">â¬‡</a></div>
<div id="lstnumberx4752" class="ltx_listingline">
<span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeResetStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4753" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">or</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextResetStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">])</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">};</span>
</div>
</div>
<p class="ltx_p">until a state is eventually executed, then its corresponding reset condition is set to false:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,Qm9vbGVhbiBuZXh0UmVzZXRTdGF0ZXNbblN0YXRlc10gPQogIGlmIGFjdGl2ZSB0aGVuCiAgICB7YWN0aXZlU3RhdGUgPD4gaSBhbmQgYWN0aXZlUmVzZXRTdGF0ZXNbaV0gZm9yIGkgaW4gMSA6IG5TdGF0ZXN9CiAgZWxzZQogICAgcHJldmlvdXMobmV4dFJlc2V0U3RhdGVzKQ==" download="">â¬‡</a></div>
<div id="lstnumberx4754" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextResetStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4755" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4756" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeResetStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">}</span>
</div>
<div id="lstnumberx4757" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx4758" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextResetStates</span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
<p class="ltx_p">The second reset mechanism is implemented with the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">selectedReset</span>Â and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextReset</span>Â variables.
If no reset transition is fired, the <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextReset</span> is set to false for the next cycle.</p>
</div>
</section>
<section id="activation-handling" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">17.3.3 </span>Activation Handling</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p class="ltx_p">When a state is suspended, its equations should not be executed, and its variables keep their values â€“ including state-variables in discretized equations.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p class="ltx_p">The execution of a sub-state machine has to be suspended when its enclosing state is not active.
This activation flag is given as a <span class="ltx_text ltx_lst_keywords3 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="color:#543D08;background-color:#FFFFFF;">Boolean</span> input <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">active</span>.
When this flag is true, the sub-state machine maintains its previous state, by guarding the equations of the state variables <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextState</span>, <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextReset</span> and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">nextResetStates</span>.</p>
</div>
</section>
<section id="semantics-summary" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">17.3.4 </span>Semantics Summary</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p class="ltx_p">The entire semantics model is given below:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,bW9kZWwgU3RhdGVNYWNoaW5lU2VtYW50aWNzICJTZW1hbnRpY3Mgb2Ygc3RhdGUgbWFjaGluZXMiCiAgcGFyYW1ldGVyIEludGVnZXIgblN0YXRlczsKICBwYXJhbWV0ZXIgVHJhbnNpdGlvbiB0WzpdICJBcnJheSBvZiB0cmFuc2l0aW9uIGRhdGEgc29ydGVkIGluIHByaW9yaXR5IjsKICBpbnB1dCBCb29sZWFuIGNbc2l6ZSh0LCAxKV0gIlRyYW5zaXRpb24gY29uZGl0aW9ucyBzb3J0ZWQgaW4gcHJpb3JpdHkiOwogIGlucHV0IEJvb2xlYW4gYWN0aXZlICJ0cnVlIGlmIHRoZSBzdGF0ZSBtYWNoaW5lIGlzIGFjdGl2ZSI7CiAgaW5wdXQgQm9vbGVhbiByZXNldCAidHJ1ZSB3aGVuIHRoZSBzdGF0ZSBtYWNoaW5lIHNob3VsZCBiZSByZXNldCI7CiAgSW50ZWdlciBzZWxlY3RlZFN0YXRlID0gaWYgcmVzZXQgdGhlbiAxIGVsc2UgcHJldmlvdXMobmV4dFN0YXRlKTsKICBCb29sZWFuIHNlbGVjdGVkUmVzZXQgPSByZXNldCBvciBwcmV2aW91cyhuZXh0UmVzZXQpOwogIC8vIEZvciBzdHJvbmcgKGltbWVkaWF0ZSkgYW5kIHdlYWsgKGRlbGF5ZWQpIHRyYW5zaXRpb25zCiAgSW50ZWdlciBpbW1lZGlhdGUgPQogICAgbWF4KAogICAgICBpZiAodFtpXS5pbW1lZGlhdGUgYW5kIHRbaV0uZnJvbSA9PSBzZWxlY3RlZFN0YXRlIGFuZCBjW2ldKSB0aGVuIGkgZWxzZSAwCiAgICAgIGZvciBpIGluIDEgOiBzaXplKHQsIDEpKTsKICBJbnRlZ2VyIGRlbGF5ZWQgPQogICAgbWF4KAogICAgICBpZiAobm90IHRbaV0uaW1tZWRpYXRlIGFuZCB0W2ldLmZyb20gPT0gbmV4dFN0YXRlIGFuZCBjW2ldKSB0aGVuIGkgZWxzZSAwCiAgICAgIGZvciBpIGluIDEgOiBzaXplKHQsIDEpKTsKICBJbnRlZ2VyIGZpcmVkID0gbWF4KHByZXZpb3VzKGRlbGF5ZWQpLCBpbW1lZGlhdGUpOwogIG91dHB1dCBJbnRlZ2VyIGFjdGl2ZVN0YXRlID0KICAgIGlmIHJlc2V0IHRoZW4gMSBlbHNlaWYgZmlyZWQgPiAwIHRoZW4gdFtmaXJlZF0udG8gZWxzZSBzZWxlY3RlZFN0YXRlOwogIG91dHB1dCBCb29sZWFuIGFjdGl2ZVJlc2V0ID0KICAgIHJlc2V0IG9yIChpZiBmaXJlZCA+IDAgdGhlbiB0W2ZpcmVkXS5yZXNldCBlbHNlIHNlbGVjdGVkUmVzZXQpOwoKICAvLyBVcGRhdGUgc3RhdGVzCiAgSW50ZWdlciBuZXh0U3RhdGUgPSBpZiBhY3RpdmUgdGhlbiBhY3RpdmVTdGF0ZSBlbHNlIHByZXZpb3VzKG5leHRTdGF0ZSk7CiAgQm9vbGVhbiBuZXh0UmVzZXQgPSBub3QgYWN0aXZlIGFuZCBwcmV2aW91cyhuZXh0UmVzZXQpOwogIC8vIERlbGF5ZWQgcmVzZXR0aW5nIG9mIGluZGl2aWR1YWwgc3RhdGVzCiAgb3V0cHV0IEJvb2xlYW4gYWN0aXZlUmVzZXRTdGF0ZXNbblN0YXRlc10gPQogICAge3Jlc2V0IG9yIHByZXZpb3VzKG5leHRSZXNldFN0YXRlc1tpXSkgZm9yIGkgaW4gMSA6IG5TdGF0ZXN9OwogIEJvb2xlYW4gbmV4dFJlc2V0U3RhdGVzW25TdGF0ZXNdID0KICAgIGlmIGFjdGl2ZSB0aGVuCiAgICAgIHthY3RpdmVTdGF0ZSA8PiBpIGFuZCBhY3RpdmVSZXNldFN0YXRlc1tpXSBmb3IgaSBpbiAxIDogblN0YXRlc30KICAgIGVsc2UKICAgICAgcHJldmlvdXMobmV4dFJlc2V0U3RhdGVzKTsKICBCb29sZWFuIGZpbmFsU3RhdGVzW25TdGF0ZXNdID0KICAgIHttaW4odFtqXS5mcm9tIDw+IGkgZm9yIGogaW4gMSA6IHNpemUodCwgMSkpIGZvciBpIGluIDEgOiBuU3RhdGVzfTsKICBCb29sZWFuIHN0YXRlTWFjaGluZUluRmluYWxTdGF0ZSA9IGZpbmFsU3RhdGVzW2FjdGl2ZVN0YXRlXTsKZW5kIFN0YXRlTWFjaGluZVNlbWFudGljczs=" download="">â¬‡</a></div>
<div id="lstnumberx4759" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">model</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineSemantics</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Semantics<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>state<span class="ltx_text ltx_lst_space"> </span>machines"</span>
</div>
<div id="lstnumberx4760" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4761" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">parameter</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[:]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Array<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>transition<span class="ltx_text ltx_lst_space"> </span>data<span class="ltx_text ltx_lst_space"> </span>sorted<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>priority"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4762" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">size</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1)]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"Transition<span class="ltx_text ltx_lst_space"> </span>conditions<span class="ltx_text ltx_lst_space"> </span>sorted<span class="ltx_text ltx_lst_space"> </span>in<span class="ltx_text ltx_lst_space"> </span>priority"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4763" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"true<span class="ltx_text ltx_lst_space"> </span>if<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>state<span class="ltx_text ltx_lst_space"> </span>machine<span class="ltx_text ltx_lst_space"> </span>is<span class="ltx_text ltx_lst_space"> </span>active"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4764" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" style="color:#000000;">"true<span class="ltx_text ltx_lst_space"> </span>when<span class="ltx_text ltx_lst_space"> </span>the<span class="ltx_text ltx_lst_space"> </span>state<span class="ltx_text ltx_lst_space"> </span>machine<span class="ltx_text ltx_lst_space"> </span>should<span class="ltx_text ltx_lst_space"> </span>be<span class="ltx_text ltx_lst_space"> </span>reset"</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4765" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">selectedState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextState</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4766" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">selectedReset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">or</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextReset</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4767" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>For<span class="ltx_text ltx_lst_space"> </span>strong<span class="ltx_text ltx_lst_space"> </span>(immediate)<span class="ltx_text ltx_lst_space"> </span>and<span class="ltx_text ltx_lst_space"> </span>weak<span class="ltx_text ltx_lst_space"> </span>(delayed)<span class="ltx_text ltx_lst_space"> </span>transitions</span>
</div>
<div id="lstnumberx4768" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4769" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">max</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4770" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">selectedState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">])</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span>
</div>
<div id="lstnumberx4771" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">size</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1));</span>
</div>
<div id="lstnumberx4772" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">delayed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4773" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">max</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4774" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">])</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span>
</div>
<div id="lstnumberx4775" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">size</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1));</span>
</div>
<div id="lstnumberx4776" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fired</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">max</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">delayed</span><span class="ltx_text ltx_font_typewriter">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4777" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4778" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fired</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fired</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">selectedState</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4779" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeReset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4780" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">or</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fired</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">fired</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">selectedReset</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4781" class="ltx_listingline">
</div>
<div id="lstnumberx4782" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Update<span class="ltx_text ltx_lst_space"> </span>states</span>
</div>
<div id="lstnumberx4783" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextState</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4784" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextReset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextReset</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4785" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>Delayed<span class="ltx_text ltx_lst_space"> </span>resetting<span class="ltx_text ltx_lst_space"> </span>of<span class="ltx_text ltx_lst_space"> </span>individual<span class="ltx_text ltx_lst_space"> </span>states</span>
</div>
<div id="lstnumberx4786" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeResetStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4787" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">or</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextResetStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">])</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">};</span>
</div>
<div id="lstnumberx4788" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextResetStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4789" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4790" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeResetStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">}</span>
</div>
<div id="lstnumberx4791" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx4792" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nextResetStates</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4793" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">finalStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4794" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">min</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_font_typewriter">].</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&lt;&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">size</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1))</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_font_typewriter">};</span>
</div>
<div id="lstnumberx4795" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateMachineInFinalState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">finalStates</span><span class="ltx_text ltx_font_typewriter">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">];</span>
</div>
<div id="lstnumberx4796" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineSemantics</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
</div>
</section>
<section id="merging-variable-definitions" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">17.3.5 </span>Merging Variable Definitions</h3>

<div id="S3.SS5.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">When a state class uses an <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_upright" style="color:#003378;">output</span></span> declaration, the equations have access to the corresponding variable declared <span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;background-color:#FFFFFF;">inner</span>.
Special rules are then needed to maintain the single assignment rule since multiple definitions of such outer variables in different mutually exclusive states needs to be merged.
</span>]</p>
</div>
<div id="S3.SS5.p2" class="ltx_para">
<p class="ltx_p">In each state, the outer output variables are solved for and for each such variable a single definition is formed:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,diA6PQogIGlmIGFjdGl2ZVN0YXRlKHN0YXRlIVx0ZXh0c3Vic2NyaXB0ezF9ISkgdGhlbgogICAgZXhwcmUhXHRleHRzdWJzY3JpcHR7MX0hCiAgZWxzZWlmIGFjdGl2ZVN0YXRlKHN0YXRlIVx0ZXh0c3Vic2NyaXB0ezJ9ISkgdGhlbgogICAgZXhwcmUhXHRleHRzdWJzY3JpcHR7Mn0hCiAgZWxzZWlmICRcbGRvdHMkCiAgZWxzZQogICAgbGFzdCh2KQ==" download="">â¬‡</a></div>
<div id="lstnumberx4797" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">:=</span>
</div>
<div id="lstnumberx4798" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">1</sub></span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4799" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">expre</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">1</sub></span>
</div>
<div id="lstnumberx4800" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">2</sub></span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4801" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">expre</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">2</sub></span>
</div>
<div id="lstnumberx4802" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4802.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">â€¦</mi></math></span>
</div>
<div id="lstnumberx4803" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx4804" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">last</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">)</span>
</div>
</div>
</div>
<div id="S3.SS5.p3" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">last</span> is special internal semantic operator returning its input.
It is just used to mark for the sorting that the incidence of its argument should be ignored.
A start value must be given to the variable if not assigned in the initial state.</p>
</div>
<div id="S3.SS5.p4" class="ltx_para">
<p class="ltx_p">A new assignment equation is formed which might be merged on higher levels in nested state machines.</p>
</div>
</section>
<section id="merging-connections-to-multiple-outputs" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">17.3.6 </span>Merging Connections to Outputs</h3>

<div id="S3.SS6.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">The causal connection semantics of Modelica for non-state machines are generalized to states of state machines, using the fact that only one state is active at a time.
</span>]</p>
</div>
<div id="S3.SS6.p2" class="ltx_para">
<p class="ltx_p">It is possible to connect outputs each coming from different states of state machines together â€“ and connect this with other causal connectors.
These outputs are combined seen as one source of the signal, and give the following constraint equations,</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,dSFcdGV4dHN1YnNjcmlwdHsxfSEgPSB1IVx0ZXh0c3Vic2NyaXB0ezJ9ISA9ICRcbGRvdHMkID0geSFcdGV4dHN1YnNjcmlwdHsxfSEgPSB5IVx0ZXh0c3Vic2NyaXB0ezJ9ISA9ICRcbGRvdHMk" download="">â¬‡</a></div>
<div id="lstnumberx4805" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">1</sub></span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">2</sub></span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4805.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">â€¦</mi></math></span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">1</sub></span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">2</sub></span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4805.m2" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">â€¦</mi></math></span>
</div>
</div>
<p class="ltx_p">with <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">y</span><sub class="ltx_sub">i</sub> being outputs from different states of the state-machine and <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">u</span><sub class="ltx_sub">i</sub> being other causal variables.
The semantics is defined similarly to <a href="#merging-variable-definitions" title="17.3.5 Merging Variable Definitions â€£ 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">section</span>Â <span class="ltx_text ltx_ref_tag">17.3.5</span></a>:</p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,diA9IGlmIGFjdGl2ZVN0YXRlKHN0YXRlIVx0ZXh0c3Vic2NyaXB0ezF9ISkgdGhlbgogICAgICB5IVx0ZXh0c3Vic2NyaXB0ezF9IQogICAgZWxzZWlmIGFjdGl2ZVN0YXRlKHN0YXRlIVx0ZXh0c3Vic2NyaXB0ezJ9ISkgdGhlbgogICAgICB5IVx0ZXh0c3Vic2NyaXB0ezJ9IQogICAgZWxzZWlmICRcbGRvdHMkCiAgICBlbHNlCiAgICAgIGxhc3Qodik7CnUhXHRleHRzdWJzY3JpcHR7MX0hID0gdgp1IVx0ZXh0c3Vic2NyaXB0ezJ9ISA9IHYKJFxsZG90cyQ=" download="">â¬‡</a></div>
<div id="lstnumberx4806" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">1</sub></span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4807" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">1</sub></span>
</div>
<div id="lstnumberx4808" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">2</sub></span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4809" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">y</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">2</sub></span>
</div>
<div id="lstnumberx4810" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4810.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">â€¦</mi></math></span>
</div>
<div id="lstnumberx4811" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span>
</div>
<div id="lstnumberx4812" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">last</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4813" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">1</sub></span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span>
</div>
<div id="lstnumberx4814" class="ltx_listingline">
<span class="ltx_text ltx_lst_identifier ltx_font_typewriter">u</span><span class="ltx_text ltx_font_typewriter"><sub class="ltx_sub">2</sub></span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span>
</div>
<div id="lstnumberx4815" class="ltx_listingline">
<span class="ltx_text ltx_font_typewriter"><math id="lstnumberx4815.m1" class="ltx_Math" alttext="\ldots" display="inline"><mi mathbackground="#FFFFFF" mathvariant="normal">â€¦</mi></math></span>
</div>
</div>
</div>
</section>
<section id="example" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">17.3.7 </span>Example</h3>

<figure id="fig:hierarchical-statemachine" class="ltx_figure"><object type="image/svg+xml" data="media/hierarchical-statemachine.svg" id="F2.g1" class="ltx_graphics ltx_centering"></object>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 17.2: </span>
Example of a hierarchical state machine.
</figcaption>
</figure>
<div id="S3.SS7.p1" class="ltx_para">
<p class="ltx_p">[<span class="ltx_text ltx_font_italic">Example :
Consider the hierarchical state machine in <a href="#fig:hierarchical-statemachine" title="In 17.3.7 Example â€£ 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref"><span class="ltx_text ltx_ref_tag">figure</span>Â <span class="ltx_text ltx_ref_tag">17.2</span></a>.
The model demonstrates the following properties:</span></p>
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S3.I2.i1.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">state1</span><span class="ltx_text ltx_font_italic"> is a meta state with two parallel state machines in it.</span></p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S3.I2.i2.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">stateA</span><span class="ltx_text ltx_font_italic"> declares </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">v</span><span class="ltx_text ltx_font_italic"> as </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_upright" style="color:#003378;">output</span></span><span class="ltx_text ltx_font_italic">.
</span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">state1</span><span class="ltx_text ltx_font_italic"> is on an intermediate level and declares </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">v</span><span class="ltx_text ltx_font_italic"> as </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_upright" style="color:#003378;">output</span></span><span class="ltx_text ltx_font_italic">, i.e., matches lower level </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">v</span></span><span class="ltx_text ltx_font_italic"> by being </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">inner</span><span class="ltx_text ltx_font_italic"> and also matches higher level </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">v</span></span><span class="ltx_text ltx_font_italic"> by being </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">outer</span><span class="ltx_text ltx_font_italic">.
The top level declares </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">v</span><span class="ltx_text ltx_font_italic"> as </span><span class="ltx_text ltx_lst_keywords2 ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_bold" style="color:#003378;background-color:#FFFFFF;">inner</span><span class="ltx_text ltx_font_italic"> and gives the start value.</span></p>
</div>
</li>
<li id="S3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S3.I2.i3.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">count</span><span class="ltx_text ltx_font_italic"> is defined with a start value in </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">state1</span><span class="ltx_text ltx_font_italic">.
It is reset when a reset transition (</span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">&gt;=<span class="ltx_text ltx_lst_space"> </span>20</span></span><span class="ltx_text ltx_font_italic">) is made to </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">state1</span><span class="ltx_text ltx_font_italic">.</span></p>
</div>
</li>
<li id="S3.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S3.I2.i4.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">stateX</span><span class="ltx_text ltx_font_italic"> declares the local variable </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">w</span><span class="ltx_text ltx_font_italic"> to be equal to </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">v</span><span class="ltx_text ltx_font_italic"> declared as </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold ltx_font_upright" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_upright" style="color:#003378;">input</span></span><span class="ltx_text ltx_font_italic">.</span></p>
</div>
</li>
<li id="S3.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S3.I2.i5.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">stateY</span><span class="ltx_text ltx_font_italic"> declares a local counter </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">j</span><span class="ltx_text ltx_font_italic">.
It is reset at start and as a consequence of the reset transition (</span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">&gt;=<span class="ltx_text ltx_lst_space"> </span>20</span></span><span class="ltx_text ltx_font_italic">) to </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">state1</span><span class="ltx_text ltx_font_italic">: When the reset transition (</span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">&gt;=<span class="ltx_text ltx_lst_space"> </span>20</span></span><span class="ltx_text ltx_font_italic">) fires, then the variables of the active states are reset immediately (so </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">count</span><span class="ltx_text ltx_font_italic"> from </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">state1</span><span class="ltx_text ltx_font_italic">, and </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">i</span><span class="ltx_text ltx_font_italic"> from </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">stateX</span><span class="ltx_text ltx_font_italic">).
The variables of other states are only reset at the time instants when these states become active.
So </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">j</span><span class="ltx_text ltx_font_italic"> in </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">StateY</span><span class="ltx_text ltx_font_italic"> is reset to 0, when the transition </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">stateX</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">.<span class="ltx_text ltx_lst_identifier">i</span><span class="ltx_text ltx_lst_space"> </span>&gt;<span class="ltx_text ltx_lst_space"> </span>20</span></span><span class="ltx_text ltx_font_italic"> fires (after </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">state1</span><span class="ltx_text ltx_font_italic"> became active again, so after the reset transition </span><span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting ltx_font_italic" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_upright"> </span><span class="ltx_text ltx_font_typewriter ltx_font_upright">&gt;=<span class="ltx_text ltx_lst_space"> </span>20</span></span><span class="ltx_text ltx_font_italic">).</span></p>
</div>
</li>
<li id="S3.I2.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span> 
<div id="S3.I2.i6.p1" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">Synchronizing the exit from the two parallel state machines of </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">state1</span><span class="ltx_text ltx_font_italic"> is done by checking that </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">stated</span><span class="ltx_text ltx_font_italic"> and </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">stateY</span><span class="ltx_text ltx_font_italic"> are active using the </span><span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter" style="background-color:#FFFFFF;">activeState</span><span class="ltx_text ltx_font_italic"> function.</span></p>
</div>
</li>
</ul>
</div>
<div id="S3.SS7.p2" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The Modelica code (without annotations) is:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YmxvY2sgSGllcmFyY2hpY2FsQW5kUGFyYWxsZWxTdGF0ZU1hY2hpbmUKICBpbm5lciBJbnRlZ2VyIHYoc3RhcnQgPSAwKTsKCiAgU3RhdGUxIHN0YXRlMTsKICBTdGF0ZTIgc3RhdGUyOwplcXVhdGlvbgogIGluaXRpYWxTdGF0ZShzdGF0ZTEpOwogIHRyYW5zaXRpb24oc3RhdGUxLCBzdGF0ZTIsCiAgICAgICAgICAgICBhY3RpdmVTdGF0ZShzdGF0ZTEuc3RhdGVEKSBhbmQgYWN0aXZlU3RhdGUoc3RhdGUxLnN0YXRlWSksCiAgICAgICAgICAgICBpbW1lZGlhdGUgPSBmYWxzZSk7CiAgdHJhbnNpdGlvbihzdGF0ZTIsIHN0YXRlMSwgdiA+PSAyMCwgaW1tZWRpYXRlID0gZmFsc2UpOwoKcHVibGljCiAgYmxvY2sgU3RhdGUxCiAgICBpbm5lciBJbnRlZ2VyIGNvdW50KHN0YXJ0ID0gMCk7CiAgICBpbm5lciBvdXRlciBvdXRwdXQgSW50ZWdlciB2OwoKICAgIGJsb2NrIFN0YXRlQQogICAgICBvdXRlciBvdXRwdXQgSW50ZWdlciB2OwogICAgZXF1YXRpb24KICAgICAgdiA9IHByZXZpb3VzKHYpICsgMjsKICAgIGVuZCBTdGF0ZUE7CiAgICBTdGF0ZUEgc3RhdGVBOwoKICAgIGJsb2NrIFN0YXRlQgogICAgICBvdXRlciBvdXRwdXQgSW50ZWdlciB2OwogICAgZXF1YXRpb24KICAgICAgdiA9IHByZXZpb3VzKHYpIC0gMTsKICAgIGVuZCBTdGF0ZUI7CiAgICBTdGF0ZUIgc3RhdGVCOwoKICAgIGJsb2NrIFN0YXRlQwogICAgICBvdXRlciBvdXRwdXQgSW50ZWdlciBjb3VudDsKICAgIGVxdWF0aW9uCiAgICAgIGNvdW50ID0gcHJldmlvdXMoY291bnQpICsgMTsKICAgIGVuZCBTdGF0ZUM7CiAgICBTdGF0ZUMgc3RhdGVDOwoKICAgIGJsb2NrIFN0YXRlRAogICAgZW5kIFN0YXRlRDsKICAgIFN0YXRlRCBzdGF0ZUQ7CgogIGVxdWF0aW9uCiAgICBpbml0aWFsU3RhdGUoc3RhdGVBKTsKICAgIHRyYW5zaXRpb24oc3RhdGVBLCBzdGF0ZUIsIHYgPj0gNiwgaW1tZWRpYXRlID0gZmFsc2UpOwogICAgdHJhbnNpdGlvbihzdGF0ZUIsIHN0YXRlQywgdiA9PSAwLCBpbW1lZGlhdGUgPSBmYWxzZSk7CiAgICB0cmFuc2l0aW9uKHN0YXRlQywgc3RhdGVBLCB0cnVlLCBpbW1lZGlhdGUgPSBmYWxzZSwgcHJpb3JpdHkgPSAyKTsKICAgIHRyYW5zaXRpb24oc3RhdGVDLCBzdGF0ZUQsIGNvdW50ID49IDIsIGltbWVkaWF0ZSA9IGZhbHNlKTsKCiAgcHVibGljCiAgICBibG9jayBTdGF0ZVgKICAgICAgb3V0ZXIgaW5wdXQgSW50ZWdlciB2OwogICAgICBJbnRlZ2VyIGkoc3RhcnQgPSAwKTsKICAgICAgSW50ZWdlciB3OyAvLyA9IHY7CiAgICBlcXVhdGlvbgogICAgICBpID0gcHJldmlvdXMoaSkgKyAxOwogICAgICB3ID0gdjsKICAgIGVuZCBTdGF0ZVg7CiAgICBTdGF0ZVggc3RhdGVYOwoKICAgIGJsb2NrIFN0YXRlWQogICAgICBJbnRlZ2VyIGooc3RhcnQgPSAwKTsKICAgIGVxdWF0aW9uCiAgICAgIGogPSBwcmV2aW91cyhqKSArIDE7CiAgICBlbmQgU3RhdGVZOwogICAgU3RhdGVZIHN0YXRlWTsKCiAgZXF1YXRpb24KICAgIGluaXRpYWxTdGF0ZShzdGF0ZVgpOwogICAgdHJhbnNpdGlvbihzdGF0ZVgsIHN0YXRlWSwgc3RhdGVYLmkgPiAyMCwKICAgICAgICAgICAgICAgaW1tZWRpYXRlID0gZmFsc2UsIHJlc2V0ID0gZmFsc2UpOwogIGVuZCBTdGF0ZTE7CgogIGJsb2NrIFN0YXRlMgogICAgb3V0ZXIgb3V0cHV0IEludGVnZXIgdjsKICBlcXVhdGlvbgogICAgdiA9IHByZXZpb3VzKHYpICsgNTsKICBlbmQgU3RhdGUyOwplbmQgSGllcmFyY2hpY2FsQW5kUGFyYWxsZWxTdGF0ZU1hY2hpbmU7" download="">â¬‡</a></div>
<div id="lstnumberx4816" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">HierarchicalAndParallelStateMachine</span>
</div>
<div id="lstnumberx4817" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4818" class="ltx_listingline">
</div>
<div id="lstnumberx4819" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4820" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state2</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4821" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4822" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">initialState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4823" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state2</span><span class="ltx_text ltx_font_typewriter">,</span>
</div>
<div id="lstnumberx4824" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateD</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateY</span><span class="ltx_text ltx_font_typewriter">),</span>
</div>
<div id="lstnumberx4825" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4826" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state2</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">20,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4827" class="ltx_listingline">
</div>
<div id="lstnumberx4828" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">public</span>
</div>
<div id="lstnumberx4829" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State1</span>
</div>
<div id="lstnumberx4830" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4831" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4832" class="ltx_listingline">
</div>
<div id="lstnumberx4833" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateA</span>
</div>
<div id="lstnumberx4834" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4835" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4836" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2;</span>
</div>
<div id="lstnumberx4837" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateA</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4838" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateA</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateA</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4839" class="ltx_listingline">
</div>
<div id="lstnumberx4840" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateB</span>
</div>
<div id="lstnumberx4841" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4842" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4843" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4844" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateB</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4845" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateB</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateB</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4846" class="ltx_listingline">
</div>
<div id="lstnumberx4847" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateC</span>
</div>
<div id="lstnumberx4848" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4849" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4850" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4851" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateC</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4852" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateC</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateC</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4853" class="ltx_listingline">
</div>
<div id="lstnumberx4854" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateD</span>
</div>
<div id="lstnumberx4855" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateD</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4856" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateD</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateD</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4857" class="ltx_listingline">
</div>
<div id="lstnumberx4858" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4859" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">initialState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateA</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4860" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateA</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateB</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">6,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4861" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateB</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateC</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4862" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateC</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateA</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">priority</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2);</span>
</div>
<div id="lstnumberx4863" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateC</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateD</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4864" class="ltx_listingline">
</div>
<div id="lstnumberx4865" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">public</span>
</div>
<div id="lstnumberx4866" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateX</span>
</div>
<div id="lstnumberx4867" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4868" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4869" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">w</span><span class="ltx_text ltx_font_typewriter">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>=<span class="ltx_text ltx_lst_space"> </span>v;</span>
</div>
<div id="lstnumberx4870" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4871" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4872" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">w</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4873" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateX</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4874" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateX</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateX</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4875" class="ltx_listingline">
</div>
<div id="lstnumberx4876" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateY</span>
</div>
<div id="lstnumberx4877" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4878" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4879" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4880" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateY</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4881" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateY</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateY</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4882" class="ltx_listingline">
</div>
<div id="lstnumberx4883" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4884" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">initialState</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateX</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4885" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateX</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateY</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateX</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">20,</span>
</div>
<div id="lstnumberx4886" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">               </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4887" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State1</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4888" class="ltx_listingline">
</div>
<div id="lstnumberx4889" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State2</span>
</div>
<div id="lstnumberx4890" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4891" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4892" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">5;</span>
</div>
<div id="lstnumberx4893" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State2</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4894" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">HierarchicalAndParallelStateMachine</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
</div>
<div id="S3.SS7.p3" class="ltx_para">
<p class="ltx_p"><a href="#fig:state-machine-behavior" title="In 17.3.7 Example â€£ 17.3 State Machine Semantics â€£ Chapter 17 State Machines â€£ ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref ltx_font_italic"><span class="ltx_text ltx_ref_tag">Figure</span>Â <span class="ltx_text ltx_ref_tag">17.3</span></a><span class="ltx_text ltx_font_italic"> shows the behavior of the state machine.</span></p>
</div>
<figure id="fig:state-machine-behavior" class="ltx_figure"><object type="image/svg+xml" data="media/statemachineplot.svg" id="F3.g1" class="ltx_graphics ltx_centering"></object>
<figcaption class="ltx_caption ltx_font_italic"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_upright">Figure 17.3</span>: </span>
State machine behavior, as reflected by the variable <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">v</span>.
</figcaption>
</figure>
<div id="S3.SS7.p4" class="ltx_para">
<p class="ltx_p"><span class="ltx_text ltx_font_italic">The transition from <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">state1</span> to <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">state2</span> could have been done with a <span class="ltx_text ltx_lst_identifier ltx_lst_language_modelica_short ltx_lstlisting ltx_font_typewriter ltx_font_upright" style="background-color:#FFFFFF;">synchronize</span> transition with <span class="ltx_text ltx_lst_language_modelica_short ltx_lstlisting" style="background-color:#FFFFFF;"><span class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_upright">condition</span><span class="ltx_text ltx_font_typewriter ltx_font_upright">=<span class="ltx_text ltx_lst_keyword" style="color:#003378;">true</span></span></span> instead.
The semantically equivalent model is shown below:</span></p>
<div class="ltx_listing ltx_lst_language_modelica ltx_lstlisting ltx_listing" style="background-color:#FFFFFF;">
<div class="ltx_listing_data"><a href="data:text/plain;base64,YmxvY2sgSGllcmFyY2hpY2FsQW5kUGFyYWxsZWxTdGF0ZU1hY2hpbmUKICBleHRlbmRzIFN0YXRlTWFjaGluZVNlbWFudGljcygKICAgIG5TdGF0ZXMgPSAyLAogICAgdCA9IHtUcmFuc2l0aW9uKGZyb20gPSAxLCB0byA9IDIsIGltbWVkaWF0ZSA9IGZhbHNlLCBzeW5jaHJvbml6ZSA9IHRydWUpLAogICAgICAgICBUcmFuc2l0aW9uKGZyb20gPSAyLCB0byA9IDEsIGltbWVkaWF0ZSA9IGZhbHNlKX0sCiAgICBjID0ge3RydWUsIHYgPj0gMjB9KTsKICBCb29sZWFuIGluaXQoc3RhcnQgPSB0cnVlKSA9IHNhbXBsZShmYWxzZSk7CgogIGJsb2NrIFN0YXRlMQogICAgQm9vbGVhbiBhY3RpdmU7CiAgICBCb29sZWFuIHJlc2V0OwogICAgb3V0ZXIgaW5wdXQgSW50ZWdlciB2X3ByZXZpb3VzOwogICAgaW5uZXIgb3V0cHV0IEludGVnZXIgdjsKICAgIGlubmVyIEludGVnZXIgY291bnQoc3RhcnQgPSAwKTsKICAgIGlubmVyIEludGVnZXIgY291bnRfcHJldmlvdXMgPSBpZiByZXNldCB0aGVuIDAgZWxzZSBwcmV2aW91cyhjb3VudCk7CgogICAgYmxvY2sgU3RhdGVNYWNoaW5lT2Zfc3RhdGVBCiAgICAgIGV4dGVuZHMgU3RhdGVNYWNoaW5lU2VtYW50aWNzKAogICAgICAgIG5TdGF0ZXMgPSA0LAogICAgICAgIHQgPSB7VHJhbnNpdGlvbihmcm9tID0gMSwgdG8gPSAyLCBpbW1lZGlhdGUgPSBmYWxzZSksCiAgICAgICAgICAgICBUcmFuc2l0aW9uKGZyb20gPSAyLCB0byA9IDMsIGltbWVkaWF0ZSA9IGZhbHNlKSwKICAgICAgICAgICAgIFRyYW5zaXRpb24oZnJvbSA9IDMsIHRvID0gMSwgaW1tZWRpYXRlID0gZmFsc2UpLAogICAgICAgICAgICAgVHJhbnNpdGlvbihmcm9tID0gMywgdG8gPSA0LCBpbW1lZGlhdGUgPSBmYWxzZSl9LAogICAgICAgIGMgPSB7diA+PSA2LCB2ID09IDAsIHRydWUsIGNvdW50ID49IDJ9KTsKICAgICAgb3V0ZXIgaW5wdXQgSW50ZWdlciB2X3ByZXZpb3VzOwogICAgICBvdXRlciBvdXRwdXQgSW50ZWdlciB2OwogICAgICBvdXRlciBpbnB1dCBJbnRlZ2VyIGNvdW50X3ByZXZpb3VzOwogICAgICBvdXRlciBvdXRwdXQgSW50ZWdlciBjb3VudDsKICAgIGVxdWF0aW9uCiAgICAgIGluRmluYWxTdGF0ZSA9IHRydWU7IC8vIG5vIG1hY3JvIHN0YXRlcwogICAgICBpZiBhY3RpdmVTdGF0ZSA9PSAxIHRoZW4KICAgICAgICAvLyBlcXVhdGlvbnMgZm9yIHN0YXRlQQogICAgICAgIHYgPSB2X3ByZXZpb3VzICsgMjsKICAgICAgICBjb3VudCA9IGNvdW50X3ByZXZpb3VzOwogICAgICBlbHNlaWYgYWN0aXZlU3RhdGUgPT0gMiB0aGVuCiAgICAgICAgLy8gZXF1YXRpb25zIGZvciBzdGF0ZUIKICAgICAgICB2ID0gdl9wcmV2aW91cyAtIDE7CiAgICAgICAgY291bnQgPSBjb3VudF9wcmV2aW91czsKICAgICAgZWxzZWlmIGFjdGl2ZVN0YXRlID09IDMgdGhlbgogICAgICAgIC8vIGVxdWF0aW9ucyBmb3Igc3RhdGVDCiAgICAgICAgdiA9IHZfcHJldmlvdXM7CiAgICAgICAgY291bnQgPSBjb3VudF9wcmV2aW91cyArIDE7CiAgICAgIGVsc2UgLy8gaWYgYWN0aXZlU3RhdGUgPT0gNCB0aGVuCiAgICAgICAgLy8gZXF1YXRpb25zIGZvciBzdGF0ZUQKICAgICAgICB2ID0gdl9wcmV2aW91czsKICAgICAgICBjb3VudCA9IGNvdW50X3ByZXZpb3VzOwogICAgICBlbmQgaWY7CiAgICBlbmQgU3RhdGVNYWNoaW5lT2Zfc3RhdGVBOwoKICAgIFN0YXRlTWFjaGluZU9mX3N0YXRlQSBzdGF0ZU1hY2hpbmVPZl9zdGF0ZUEoCiAgICAgIGFjdGl2ZSA9IGFjdGl2ZSwgcmVzZXQgPSByZXNldCk7CgogICAgYmxvY2sgU3RhdGVNYWNoaW5lT2Zfc3RhdGVYCiAgICAgIGV4dGVuZHMgU3RhdGVNYWNoaW5lU2VtYW50aWNzKAogICAgICAgIG5TdGF0ZXMgPSAyLAogICAgICAgIHQgPSB7VHJhbnNpdGlvbihmcm9tID0gMSwgdG8gPSAyLCBpbW1lZGlhdGUgPSBmYWxzZSwgcmVzZXQgPSBmYWxzZSl9LAogICAgICAgIGMgPSB7aSA+IDI1fSk7CiAgICAgIG91dGVyIGlucHV0IEludGVnZXIgdjsKICAgICAgSW50ZWdlciBpKHN0YXJ0ID0gMCk7CiAgICAgIEludGVnZXIgaV9wcmV2aW91czsKICAgICAgSW50ZWdlciBqKHN0YXJ0ID0gMCk7CiAgICAgIEludGVnZXIgal9wcmV2aW91czsKICAgICAgSW50ZWdlciB3OwogICAgZXF1YXRpb24KICAgICAgaW5GaW5hbFN0YXRlID0gdHJ1ZTsgLy8gbm8gbWFjcm8gc3RhdGVzCiAgICAgIGlmIGFjdGl2ZVN0YXRlID09IDEgdGhlbgogICAgICAgIC8vIGVxdWF0aW9ucyBmb3Igc3RhdGVYCiAgICAgICAgaV9wcmV2aW91cyA9CiAgICAgICAgICBpZiBhY3RpdmVSZXNldCBvciBhY3RpdmVSZXNldFN0YXRlc1sxXSB0aGVuIDAgZWxzZSBwcmV2aW91cyhpKTsKICAgICAgICBqX3ByZXZpb3VzID0gcHJldmlvdXMoaik7CiAgICAgICAgaSA9IGlfcHJldmlvdXMgKyAxOwogICAgICAgIHcgPSB2OwogICAgICAgIGogPSBqX3ByZXZpb3VzOwogICAgICBlbHNlIC8vIGlmIGFjdGl2ZVN0YXRlID09IDIgdGhlbgogICAgICAgIC8vIGVxdWF0aW9ucyBmb3Igc3RhdGVZCiAgICAgICAgaV9wcmV2aW91cyA9IHByZXZpb3VzKGkpOwogICAgICAgIGpfcHJldmlvdXMgPQogICAgICAgICAgaWYgYWN0aXZlUmVzZXQgb3IgYWN0aXZlUmVzZXRTdGF0ZXNbMl0gdGhlbiAwIGVsc2UgcHJldmlvdXMoaik7CiAgICAgICAgaSA9IGlfcHJldmlvdXM7CiAgICAgICAgdyA9IHByZXZpb3VzKHcpOwogICAgICAgIGogPSBqX3ByZXZpb3VzICsgMTsKICAgICAgZW5kIGlmOwogICAgZW5kIFN0YXRlTWFjaGluZU9mX3N0YXRlWDsKCiAgICBTdGF0ZU1hY2hpbmVPZl9zdGF0ZVggc3RhdGVNYWNoaW5lT2Zfc3RhdGVYKAogICAgICBhY3RpdmUgPSBhY3RpdmUsIHJlc2V0ID0gcmVzZXQpOwogICAgQm9vbGVhbiBpbkZpbmFsU3RhdGUgPQogICAgICBzdGF0ZU1hY2hpbmVPZl9zdGF0ZUEuc3RhdGVNYWNoaW5lSW5GaW5hbFN0YXRlIGFuZAogICAgICBzdGF0ZU1hY2hpbmVPZl9zdGF0ZVguc3RhdGVNYWNoaW5lSW5GaW5hbFN0YXRlOwogIGVuZCBTdGF0ZTE7CgogIFN0YXRlMSBzdGF0ZTE7CiAgSW50ZWdlciB2KHN0YXJ0ID0gMCk7CiAgaW5uZXIgSW50ZWdlciB2X3ByZXZpb3VzID0gaWYgcmVzZXQgdGhlbiAwIGVsc2UgcHJldmlvdXModik7CmVxdWF0aW9uCiAgYWN0aXZlID0gdHJ1ZTsKICByZXNldCA9IHByZXZpb3VzKGluaXQpOwogIGlmIGFjdGl2ZVN0YXRlID09IDEgdGhlbgogICAgLy8gZXF1YXRpb25zIGZvciBzdGF0ZTEKICAgIGluRmluYWxTdGF0ZSA9IHN0YXRlMS5pbkZpbmFsU3RhdGU7CiAgICBzdGF0ZTEuYWN0aXZlID0gdHJ1ZTsKICAgIHN0YXRlMS5yZXNldCA9IGFjdGl2ZVJlc2V0IG9yIGFjdGl2ZVJlc2V0U3RhdGVzWzFdOwogICAgdiA9IHN0YXRlMS52OwogIGVsc2UgLy8gaWYgYWN0aXZlU3RhdGUgPT0gMiB0aGVuCiAgICAvLyBlcXVhdGlvbnMgZm9yIHN0YXRlMgogICAgaW5GaW5hbFN0YXRlID0gdHJ1ZTsgLy8gbm90IG1hY3JvIHN0YXRlCiAgICBzdGF0ZTEuYWN0aXZlID0gZmFsc2U7CiAgICBzdGF0ZTEucmVzZXQgPSBmYWxzZTsKICAgIHYgPSBwcmV2aW91cyh2KSArIDU7CiAgZW5kIGlmOwplbmQgSGllcmFyY2hpY2FsQW5kUGFyYWxsZWxTdGF0ZU1hY2hpbmU7" download="">â¬‡</a></div>
<div id="lstnumberx4895" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">HierarchicalAndParallelStateMachine</span>
</div>
<div id="lstnumberx4896" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">extends</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineSemantics</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4897" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span>
</div>
<div id="lstnumberx4898" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">synchronize</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">),</span>
</div>
<div id="lstnumberx4899" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">         </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">)},</span>
</div>
<div id="lstnumberx4900" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">20});</span>
</div>
<div id="lstnumberx4901" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">init</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">sample</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4902" class="ltx_listingline">
</div>
<div id="lstnumberx4903" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State1</span>
</div>
<div id="lstnumberx4904" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4905" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4906" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4907" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4908" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4909" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4910" class="ltx_listingline">
</div>
<div id="lstnumberx4911" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineOf_stateA</span>
</div>
<div id="lstnumberx4912" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">extends</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineSemantics</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4913" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">4,</span>
</div>
<div id="lstnumberx4914" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">),</span>
</div>
<div id="lstnumberx4915" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">),</span>
</div>
<div id="lstnumberx4916" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">),</span>
</div>
<div id="lstnumberx4917" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">             </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">4,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">)},</span>
</div>
<div id="lstnumberx4918" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">6,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2});</span>
</div>
<div id="lstnumberx4919" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4920" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4921" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4922" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">output</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4923" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4924" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">inFinalState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>macro<span class="ltx_text ltx_lst_space"> </span>states</span>
</div>
<div id="lstnumberx4925" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4926" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>stateA</span>
</div>
<div id="lstnumberx4927" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2;</span>
</div>
<div id="lstnumberx4928" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4929" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4930" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>stateB</span>
</div>
<div id="lstnumberx4931" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">-</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4932" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4933" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">elseif</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4934" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>stateC</span>
</div>
<div id="lstnumberx4935" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4936" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4937" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>if<span class="ltx_text ltx_lst_space"> </span>activeState<span class="ltx_text ltx_lst_space"> </span>==<span class="ltx_text ltx_lst_space"> </span>4<span class="ltx_text ltx_lst_space"> </span>then</span>
</div>
<div id="lstnumberx4938" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>stateD</span>
</div>
<div id="lstnumberx4939" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4940" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">count_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4941" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4942" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineOf_stateA</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4943" class="ltx_listingline">
</div>
<div id="lstnumberx4944" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineOf_stateA</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateMachineOf_stateA</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4945" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4946" class="ltx_listingline">
</div>
<div id="lstnumberx4947" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">block</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineOf_stateX</span>
</div>
<div id="lstnumberx4948" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">extends</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineSemantics</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4949" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">nStates</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span>
</div>
<div id="lstnumberx4950" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">t</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">Transition</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">from</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">to</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">2,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">immediate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">)},</span>
</div>
<div id="lstnumberx4951" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">c</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">{</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">25});</span>
</div>
<div id="lstnumberx4952" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">outer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">input</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4953" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4954" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4955" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4956" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4957" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">w</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4958" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4959" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">inFinalState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>no<span class="ltx_text ltx_lst_space"> </span>macro<span class="ltx_text ltx_lst_space"> </span>states</span>
</div>
<div id="lstnumberx4960" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4961" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>stateX</span>
</div>
<div id="lstnumberx4962" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4963" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">          </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeReset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">or</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeResetStates</span><span class="ltx_text ltx_font_typewriter">[1]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4964" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4965" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4966" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">w</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4967" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4968" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>if<span class="ltx_text ltx_lst_space"> </span>activeState<span class="ltx_text ltx_lst_space"> </span>==<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>then</span>
</div>
<div id="lstnumberx4969" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>stateY</span>
</div>
<div id="lstnumberx4970" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4971" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4972" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">          </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeReset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">or</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeResetStates</span><span class="ltx_text ltx_font_typewriter">[2]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4973" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">i_previous</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4974" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">w</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">w</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4975" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">        </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">j_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1;</span>
</div>
<div id="lstnumberx4976" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4977" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineOf_stateX</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4978" class="ltx_listingline">
</div>
<div id="lstnumberx4979" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">StateMachineOf_stateX</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateMachineOf_stateX</span><span class="ltx_text ltx_font_typewriter">(</span>
</div>
<div id="lstnumberx4980" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_font_typewriter">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4981" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Boolean</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">inFinalState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span>
</div>
<div id="lstnumberx4982" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateMachineOf_stateA</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateMachineInFinalState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">and</span>
</div>
<div id="lstnumberx4983" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">      </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateMachineOf_stateX</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">stateMachineInFinalState</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4984" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State1</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4985" class="ltx_listingline">
</div>
<div id="lstnumberx4986" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">State1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4987" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">start</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0);</span>
</div>
<div id="lstnumberx4988" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">inner</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">Integer</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v_previous</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">0</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4989" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">equation</span>
</div>
<div id="lstnumberx4990" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4991" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">init</span><span class="ltx_text ltx_font_typewriter">);</span>
</div>
<div id="lstnumberx4992" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">==</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">1</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">then</span>
</div>
<div id="lstnumberx4993" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>state1</span>
</div>
<div id="lstnumberx4994" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">inFinalState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">inFinalState</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4995" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4996" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeReset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">or</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">activeResetStates</span><span class="ltx_text ltx_font_typewriter">[1];</span>
</div>
<div id="lstnumberx4997" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx4998" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">else</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>if<span class="ltx_text ltx_lst_space"> </span>activeState<span class="ltx_text ltx_lst_space"> </span>==<span class="ltx_text ltx_lst_space"> </span>2<span class="ltx_text ltx_lst_space"> </span>then</span>
</div>
<div id="lstnumberx4999" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>equations<span class="ltx_text ltx_lst_space"> </span>for<span class="ltx_text ltx_lst_space"> </span>state2</span>
</div>
<div id="lstnumberx5000" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">inFinalState</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">true</span><span class="ltx_text ltx_font_typewriter">;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_comment ltx_font_sansserif" style="color:#127500;">//<span class="ltx_text ltx_lst_space"> </span>not<span class="ltx_text ltx_lst_space"> </span>macro<span class="ltx_text ltx_lst_space"> </span>state</span>
</div>
<div id="lstnumberx5001" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">active</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx5002" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">state1</span><span class="ltx_text ltx_font_typewriter">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">reset</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter" style="color:#003378;">false</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx5003" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">    </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">=</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords3 ltx_font_typewriter" style="color:#543D08;">previous</span><span class="ltx_text ltx_font_typewriter">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">v</span><span class="ltx_text ltx_font_typewriter">)</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_font_typewriter">5;</span>
</div>
<div id="lstnumberx5004" class="ltx_listingline">
<span class="ltx_text ltx_lst_space ltx_font_typewriter">  </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">if</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
<div id="lstnumberx5005" class="ltx_listingline">
<span class="ltx_text ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="color:#003378;">end</span><span class="ltx_text ltx_lst_space ltx_font_typewriter"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter">HierarchicalAndParallelStateMachine</span><span class="ltx_text ltx_font_typewriter">;</span>
</div>
</div>
<p class="ltx_p">]</p>
</div>
</section>
</section>
</section>
</div>
<footer class="ltx_page_footer">
<div class="ltx_align_center">
<a href="synchronous-language-elements.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="prev"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">16 </span>Synchronous Language Elements</span></a><a href="bib.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="bibliography"><span class="ltx_text ltx_ref_title">References</span></a><a href="idx.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="index"><span class="ltx_text ltx_ref_title">Index</span></a><a href="annotations.html" title="In ModelicaÂ® Language Specification version 3.7-dev" class="ltx_ref" rel="next"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">18 </span>Annotations</span></a>
</div>
<div class="ltx_page_logo">Generated  on Thu Feb 19 13:30:11 2026 by <a href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>
</body>
</html>
